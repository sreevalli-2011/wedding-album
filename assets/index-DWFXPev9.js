var M1=Object.defineProperty;var N1=(r,t,n)=>t in r?M1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var xd=(r,t,n)=>N1(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ng(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dd={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function P1(){if(H_)return nl;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return nl.Fragment=t,nl.jsx=n,nl.jsxs=n,nl}var G_;function L1(){return G_||(G_=1,Dd.exports=P1()),Dd.exports}var gt=L1(),Id={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function U1(){if(F_)return Dt;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=C&&P[C]||P["@@iterator"],typeof P=="function"?P:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Y={};function Q(P,et,ht){this.props=P,this.context=et,this.refs=Y,this.updater=ht||U}Q.prototype.isReactComponent={},Q.prototype.setState=function(P,et){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,et,"setState")},Q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=Q.prototype;function ct(P,et,ht){this.props=P,this.context=et,this.refs=Y,this.updater=ht||U}var G=ct.prototype=new $;G.constructor=ct,k(G,Q.prototype),G.isPureReactComponent=!0;var _=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function x(P,et,ht,ut,pt,xt){return ht=xt.ref,{$$typeof:r,type:P,key:et,ref:ht!==void 0?ht:null,props:xt}}function b(P,et){return x(P.type,et,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function O(P){var et={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ht){return et[ht]})}var N=/\/+/g;function z(P,et){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):et.toString(36)}function V(){}function at(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(V,V):(P.status="pending",P.then(function(et){P.status==="pending"&&(P.status="fulfilled",P.value=et)},function(et){P.status==="pending"&&(P.status="rejected",P.reason=et)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,et,ht,ut,pt){var xt=typeof P;(xt==="undefined"||xt==="boolean")&&(P=null);var St=!1;if(P===null)St=!0;else switch(xt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(P.$$typeof){case r:case t:St=!0;break;case E:return St=P._init,X(St(P._payload),et,ht,ut,pt)}}if(St)return pt=pt(P),St=ut===""?"."+z(P,0):ut,_(pt)?(ht="",St!=null&&(ht=St.replace(N,"$&/")+"/"),X(pt,et,ht,"",function(qn){return qn})):pt!=null&&(S(pt)&&(pt=b(pt,ht+(pt.key==null||P&&P.key===pt.key?"":(""+pt.key).replace(N,"$&/")+"/")+St)),et.push(pt)),1;St=0;var re=ut===""?".":ut+":";if(_(P))for(var Ft=0;Ft<P.length;Ft++)ut=P[Ft],xt=re+z(ut,Ft),St+=X(ut,et,ht,xt,pt);else if(Ft=A(P),typeof Ft=="function")for(P=Ft.call(P),Ft=0;!(ut=P.next()).done;)ut=ut.value,xt=re+z(ut,Ft++),St+=X(ut,et,ht,xt,pt);else if(xt==="object"){if(typeof P.then=="function")return X(at(P),et,ht,ut,pt);throw et=String(P),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return St}function L(P,et,ht){if(P==null)return P;var ut=[],pt=0;return X(P,ut,"","",function(xt){return et.call(ht,xt,pt++)}),ut}function q(P){if(P._status===-1){var et=P._result;et=et(),et.then(function(ht){(P._status===0||P._status===-1)&&(P._status=1,P._result=ht)},function(ht){(P._status===0||P._status===-1)&&(P._status=2,P._result=ht)}),P._status===-1&&(P._status=0,P._result=et)}if(P._status===1)return P._result.default;throw P._result}var nt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ft(){}return Dt.Children={map:L,forEach:function(P,et,ht){L(P,function(){et.apply(this,arguments)},ht)},count:function(P){var et=0;return L(P,function(){et++}),et},toArray:function(P){return L(P,function(et){return et})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Dt.Component=Q,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=ct,Dt.StrictMode=a,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return w.H.useMemoCache(P)}},Dt.cache=function(P){return function(){return P.apply(null,arguments)}},Dt.cloneElement=function(P,et,ht){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ut=k({},P.props),pt=P.key,xt=void 0;if(et!=null)for(St in et.ref!==void 0&&(xt=void 0),et.key!==void 0&&(pt=""+et.key),et)!I.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(ut[St]=et[St]);var St=arguments.length-2;if(St===1)ut.children=ht;else if(1<St){for(var re=Array(St),Ft=0;Ft<St;Ft++)re[Ft]=arguments[Ft+2];ut.children=re}return x(P.type,pt,void 0,void 0,xt,ut)},Dt.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Dt.createElement=function(P,et,ht){var ut,pt={},xt=null;if(et!=null)for(ut in et.key!==void 0&&(xt=""+et.key),et)I.call(et,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(pt[ut]=et[ut]);var St=arguments.length-2;if(St===1)pt.children=ht;else if(1<St){for(var re=Array(St),Ft=0;Ft<St;Ft++)re[Ft]=arguments[Ft+2];pt.children=re}if(P&&P.defaultProps)for(ut in St=P.defaultProps,St)pt[ut]===void 0&&(pt[ut]=St[ut]);return x(P,xt,void 0,void 0,null,pt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(P){return{$$typeof:g,render:P}},Dt.isValidElement=S,Dt.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:q}},Dt.memo=function(P,et){return{$$typeof:p,type:P,compare:et===void 0?null:et}},Dt.startTransition=function(P){var et=w.T,ht={};w.T=ht;try{var ut=P(),pt=w.S;pt!==null&&pt(ht,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ft,nt)}catch(xt){nt(xt)}finally{w.T=et}},Dt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Dt.use=function(P){return w.H.use(P)},Dt.useActionState=function(P,et,ht){return w.H.useActionState(P,et,ht)},Dt.useCallback=function(P,et){return w.H.useCallback(P,et)},Dt.useContext=function(P){return w.H.useContext(P)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(P,et){return w.H.useDeferredValue(P,et)},Dt.useEffect=function(P,et,ht){var ut=w.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(P,et)},Dt.useId=function(){return w.H.useId()},Dt.useImperativeHandle=function(P,et,ht){return w.H.useImperativeHandle(P,et,ht)},Dt.useInsertionEffect=function(P,et){return w.H.useInsertionEffect(P,et)},Dt.useLayoutEffect=function(P,et){return w.H.useLayoutEffect(P,et)},Dt.useMemo=function(P,et){return w.H.useMemo(P,et)},Dt.useOptimistic=function(P,et){return w.H.useOptimistic(P,et)},Dt.useReducer=function(P,et,ht){return w.H.useReducer(P,et,ht)},Dt.useRef=function(P){return w.H.useRef(P)},Dt.useState=function(P){return w.H.useState(P)},Dt.useSyncExternalStore=function(P,et,ht){return w.H.useSyncExternalStore(P,et,ht)},Dt.useTransition=function(){return w.H.useTransition()},Dt.version="19.1.0",Dt}var Q_;function eh(){return Q_||(Q_=1,Id.exports=U1()),Id.exports}var tt=eh();const Cs=Ng(tt);var Od={exports:{}},il={},Vd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function k1(){return Y_||(Y_=1,function(r){function t(L,q){var nt=L.length;L.push(q);t:for(;0<nt;){var ft=nt-1>>>1,P=L[ft];if(0<o(P,q))L[ft]=q,L[nt]=P,nt=ft;else break t}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var q=L[0],nt=L.pop();if(nt!==q){L[0]=nt;t:for(var ft=0,P=L.length,et=P>>>1;ft<et;){var ht=2*(ft+1)-1,ut=L[ht],pt=ht+1,xt=L[pt];if(0>o(ut,nt))pt<P&&0>o(xt,ut)?(L[ft]=xt,L[pt]=nt,ft=pt):(L[ft]=ut,L[ht]=nt,ft=ht);else if(pt<P&&0>o(xt,nt))L[ft]=xt,L[pt]=nt,ft=pt;else break t}}return q}function o(L,q){var nt=L.sortIndex-q.sortIndex;return nt!==0?nt:L.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var m=[],p=[],E=1,C=null,A=3,U=!1,k=!1,Y=!1,Q=!1,$=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function _(L){for(var q=n(p);q!==null;){if(q.callback===null)a(p);else if(q.startTime<=L)a(p),q.sortIndex=q.expirationTime,t(m,q);else break;q=n(p)}}function w(L){if(Y=!1,_(L),!k)if(n(m)!==null)k=!0,I||(I=!0,z());else{var q=n(p);q!==null&&X(w,q.startTime-L)}}var I=!1,x=-1,b=5,S=-1;function O(){return Q?!0:!(r.unstable_now()-S<b)}function N(){if(Q=!1,I){var L=r.unstable_now();S=L;var q=!0;try{t:{k=!1,Y&&(Y=!1,ct(x),x=-1),U=!0;var nt=A;try{e:{for(_(L),C=n(m);C!==null&&!(C.expirationTime>L&&O());){var ft=C.callback;if(typeof ft=="function"){C.callback=null,A=C.priorityLevel;var P=ft(C.expirationTime<=L);if(L=r.unstable_now(),typeof P=="function"){C.callback=P,_(L),q=!0;break e}C===n(m)&&a(m),_(L)}else a(m);C=n(m)}if(C!==null)q=!0;else{var et=n(p);et!==null&&X(w,et.startTime-L),q=!1}}break t}finally{C=null,A=nt,U=!1}q=void 0}}finally{q?z():I=!1}}}var z;if(typeof G=="function")z=function(){G(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,at=V.port2;V.port1.onmessage=N,z=function(){at.postMessage(null)}}else z=function(){$(N,0)};function X(L,q){x=$(function(){L(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(L){switch(A){case 1:case 2:case 3:var q=3;break;default:q=A}var nt=A;A=q;try{return L()}finally{A=nt}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var nt=A;A=L;try{return q()}finally{A=nt}},r.unstable_scheduleCallback=function(L,q,nt){var ft=r.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?ft+nt:ft):nt=ft,L){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=nt+P,L={id:E++,callback:q,priorityLevel:L,startTime:nt,expirationTime:P,sortIndex:-1},nt>ft?(L.sortIndex=nt,t(p,L),n(m)===null&&L===n(p)&&(Y?(ct(x),x=-1):Y=!0,X(w,nt-ft))):(L.sortIndex=P,t(m,L),k||U||(k=!0,I||(I=!0,z()))),L},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(L){var q=A;return function(){var nt=A;A=q;try{return L.apply(this,arguments)}finally{A=nt}}}}(Md)),Md}var K_;function z1(){return K_||(K_=1,Vd.exports=k1()),Vd.exports}var Nd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function B1(){if(X_)return Qe;X_=1;var r=eh();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:m,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(m,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,E)},Qe.flushSync=function(m){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=p,a.p=E,a.d.f()}},Qe.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Qe.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Qe.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var E=p.as,C=g(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:A,fetchPriority:U}):E==="script"&&a.d.X(m,{crossOrigin:C,integrity:A,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qe.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Qe.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,C=g(E,p.crossOrigin);a.d.L(m,E,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qe.preloadModule=function(m,p){if(typeof m=="string")if(p){var E=g(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Qe.requestFormReset=function(m){a.d.r(m)},Qe.unstable_batchedUpdates=function(m,p){return m(p)},Qe.useFormState=function(m,p,E){return f.H.useFormState(m,p,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var $_;function j1(){if($_)return Nd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=B1(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function q1(){if(Z_)return il;Z_=1;var r=z1(),t=eh(),n=j1();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(a(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var T=!1,R=h.child;R;){if(R===s){T=!0,s=h,l=d;break}if(R===l){T=!0,l=h,s=d;break}R=R.sibling}if(!T){for(R=d.child;R;){if(R===s){T=!0,s=d,l=h;break}if(R===l){T=!0,l=d,s=h;break}R=R.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),G=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Q:return"Profiler";case Y:return"StrictMode";case w:return"Suspense";case I:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case G:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case _:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:at(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return at(e(i))}catch{}}return null}var X=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},ft=[],P=-1;function et(e){return{current:e}}function ht(e){0>P||(e.current=ft[P],ft[P]=null,P--)}function ut(e,i){P++,ft[P]=e.current,e.current=i}var pt=et(null),xt=et(null),St=et(null),re=et(null);function Ft(e,i){switch(ut(St,i),ut(xt,e),ut(pt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=y_(i),e=__(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ht(pt),ut(pt,e)}function qn(){ht(pt),ht(xt),ht(St)}function Ki(e){e.memoizedState!==null&&ut(re,e);var i=pt.current,s=__(i,e.type);i!==s&&(ut(xt,e),ut(pt,s))}function di(e){xt.current===e&&(ht(pt),ht(xt)),re.current===e&&(ht(re),Zo._currentValue=nt)}var Ur=Object.prototype.hasOwnProperty,kr=r.unstable_scheduleCallback,zr=r.unstable_cancelCallback,Ys=r.unstable_shouldYield,Gl=r.unstable_requestPaint,En=r.unstable_now,Ch=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Oa=r.unstable_UserBlockingPriority,Br=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Va=r.unstable_IdlePriority,Xs=r.log,Fl=r.unstable_setDisableYieldValue,oe=null,Qt=null;function on(e){if(typeof Xs=="function"&&Fl(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(oe,e)}catch{}}var Ge=Math.clz32?Math.clz32:jr,Ql=Math.log,Dh=Math.LN2;function jr(e){return e>>>=0,e===0?32:31-(Ql(e)/Dh|0)|0}var qr=256,Hr=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ma(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var R=l&134217727;return R!==0?(l=R&~d,l!==0?h=Mn(l):(T&=R,T!==0?h=Mn(T):s||(s=R&~e,s!==0&&(h=Mn(s))))):(R=l&~d,R!==0?h=Mn(R):T!==0?h=Mn(T):s||(s=l&~e,s!==0&&(h=Mn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Gr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function $s(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),e}function Ws(){var e=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),e}function gi(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function mi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Js(e,i,s,l,h,d){var T=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var R=e.entanglements,M=e.expirationTimes,K=e.hiddenUpdates;for(s=T&~s;0<s;){var it=31-Ge(s),ot=1<<it;R[it]=0,M[it]=-1;var Z=K[it];if(Z!==null)for(K[it]=null,it=0;it<Z.length;it++){var W=Z[it];W!==null&&(W.lane&=-536870913)}s&=~ot}l!==0&&Hn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(T&~i))}function Hn(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function to(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-Ge(s),h=1<<l;h&i|e[l]&i&&(e[l]|=i),s&=~h}}function Xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:U_(e.type))}function Yl(e,i){var s=q.p;try{return q.p=e,i()}finally{q.p=s}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,ge="__reactProps$"+ne,Tn="__reactContainer$"+ne,eo="__reactEvents$"+ne,Ih="__reactListeners$"+ne,Zi="__reactHandles$"+ne,Kl="__reactResources$"+ne,Fr="__reactMarker$"+ne;function Wi(e){delete e[Ee],delete e[ge],delete e[eo],delete e[Ih],delete e[Zi]}function pi(e){var i=e[Ee];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Tn]||s[Ee]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=w_(e);e!==null;){if(s=e[Ee])return s;e=w_(e)}return i}e=s,s=e.parentNode}return null}function Gn(e){if(e=e[Ee]||e[Tn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Xe(e){var i=e[Kl];return i||(i=e[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Fr]=!0}var no=new Set,Pa={};function Nn(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Pa[e]=i,e=0;e<i.length;e++)no.add(i[e])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Qr={};function Zl(e){return Ur.call(Qr,e)?!0:Ur.call($l,e)?!1:Xl.test(e)?Qr[e]=!0:($l[e]=!0,!1)}function Ji(e,i,s){if(Zl(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Qn(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Pe(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}var Yr,Wl;function _i(e){if(Yr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Yr=i&&i[1]||"",Wl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Wl}var La=!1;function Ua(e,i){if(!e||La)return"";La=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(W){var Z=W}Reflect.construct(e,[],ot)}else{try{ot.call()}catch(W){Z=W}e.call(ot.prototype)}}else{try{throw Error()}catch(W){Z=W}(ot=e())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],R=d[1];if(T&&R){var M=T.split(`
`),K=R.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===K.length)for(l=M.length-1,h=K.length-1;1<=l&&0<=h&&M[l]!==K[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==K[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==K[h]){var it=`
`+M[l].replace(" at new "," at ");return e.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",e.displayName)),it}while(1<=l&&0<=h);break}}}finally{La=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?_i(s):""}function io(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Ua(e.type,!1);case 11:return Ua(e.type.render,!1);case 1:return Ua(e.type,!0);case 31:return _i("Activity");default:return""}}function ka(e){try{var i="";do i+=io(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ro(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oh(e){var i=ro(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function za(e){e._valueTracker||(e._valueTracker=Oh(e))}function ao(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=ro(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vh=/[\n"\\]/g;function me(e){return e.replace(Vh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,s,l,h,d,T,R){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?tr(e,T,$e(i)):s!=null?tr(e,T,$e(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+$e(R):e.removeAttribute("name")}function Xr(e,i,s,l,h,d,T,R){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+$e(s):"",i=i!=null?""+$e(i):s,R||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=R?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function tr(e,i,s){i==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function vi(e,i,s,l){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+$e(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Xt(e,i,s){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+$e(s):""}function $r(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(X(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=$e(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function wn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||Zr.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function so(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Jl(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Jl(e,d,i[d])}function oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(e){return Nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ei=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,wi=null;function lo(e){var i=Gn(e);if(i&&(e=i.stateNode)){var s=e[ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var h=l[ge]||null;if(!h)throw Error(a(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&ao(l)}break t;case"textarea":Xt(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&vi(e,!!s.multiple,i,!1)}}}var Yn=!1;function tu(e,i,s){if(Yn)return e(i,s);Yn=!0;try{var l=e(i);return l}finally{if(Yn=!1,(Ti!==null||wi!==null)&&(Yu(),Ti&&(i=Ti,e=wi,wi=Ti=null,lo(i),e)))for(i=0;i<e.length;i++)lo(e[i])}}function Wr(e,i){var s=e.stateNode;if(s===null)return null;var l=s[ge]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Pn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Sn=!1}var Kn=null,er=null,bi=null;function uo(){if(bi)return bi;var e,i=er,s=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<s&&i[e]===h[e];e++);var T=s-e;for(l=1;l<=T&&i[s-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Xn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function co(){return!1}function xe(e){function i(s,l,h,d,T){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(s=e[R],this[R]=s?s(d):d[R]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:co,this.isPropagationStopped=co,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=xe(Gt),ta=E({},Gt,{view:0,detail:0}),eu=xe(ta),qa,Ha,Zn,ea=E({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(qa=e.screenX-Zn.screenX,Ha=e.screenY-Zn.screenY):Ha=qa=0,Zn=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),An=xe(ea),nu=E({},ea,{dataTransfer:0}),Ph=xe(nu),na=E({},ta,{relatedTarget:0}),Ga=xe(na),ho=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=xe(ho),iu=E({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qa=xe(iu),Lh=E({},Gt,{data:0}),fo=xe(Lh),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=au[e])?!!i[e]:!1}function ra(){return go}var su=E({},ta,{key:function(e){if(e.key){var i=ia[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ya=xe(su),ou=E({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=xe(ou),Si=E({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),lu=xe(Si),uu=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cu=xe(uu),hu=E({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=xe(hu),Ze=E({},Gt,{newState:0,oldState:0}),fu=xe(Ze),du=[9,13,27,32],Wn=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var y=Pn&&"TextEvent"in window&&!c,v=Pn&&(!Wn||c&&8<c&&11>=c),D=" ",H=!1;function J(e,i){switch(e){case"keyup":return du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Te(e,i){switch(e){case"compositionend":return dt(i);case"keypress":return i.which!==32?null:(H=!0,D);case"textInput":return e=i.data,e===D&&H?null:e;default:return null}}function Ut(e,i){if(Lt)return e==="compositionend"||!Wn&&J(e,i)?(e=uo(),bi=er=Kn=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ai(e,i,s,l){Ti?wi?wi.push(l):wi=[l]:Ti=l,i=Ju(i,"onChange"),0<i.length&&(s=new ja("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Le=null,Jn=null;function po(e){f_(e,0)}function gu(e){var i=Fn(e);if(ao(i))return e}function Mm(e,i){if(e==="change")return i}var Nm=!1;if(Pn){var Uh;if(Pn){var kh="oninput"in document;if(!kh){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),kh=typeof Pm.oninput=="function"}Uh=kh}else Uh=!1;Nm=Uh&&(!document.documentMode||9<document.documentMode)}function Lm(){Le&&(Le.detachEvent("onpropertychange",Um),Jn=Le=null)}function Um(e){if(e.propertyName==="value"&&gu(Jn)){var i=[];Ai(i,Jn,e,bn(e)),tu(po,i)}}function uw(e,i,s){e==="focusin"?(Lm(),Le=i,Jn=s,Le.attachEvent("onpropertychange",Um)):e==="focusout"&&Lm()}function cw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(Jn)}function hw(e,i){if(e==="click")return gu(i)}function fw(e,i){if(e==="input"||e==="change")return gu(i)}function dw(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:dw;function yo(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ur.call(i,h)||!un(e[h],i[h]))return!1}return!0}function km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zm(e,i){var s=km(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=km(s)}}function Bm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Bm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Kr(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Kr(e.document)}return i}function zh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gw=Pn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Bh=null,_o=null,jh=!1;function qm(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Xa==null||Xa!==Kr(l)||(l=Xa,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_o&&yo(_o,l)||(_o=l,l=Ju(Bh,"onSelect"),0<l.length&&(i=new ja("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=Xa)))}function aa(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var $a={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},qh={},Hm={};Pn&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function sa(e){if(qh[e])return qh[e];if(!$a[e])return e;var i=$a[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Hm)return qh[e]=i[s];return e}var Gm=sa("animationend"),Fm=sa("animationiteration"),Qm=sa("animationstart"),mw=sa("transitionrun"),pw=sa("transitionstart"),yw=sa("transitioncancel"),Ym=sa("transitionend"),Km=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Ln(e,i){Km.set(e,i),Nn(i,[e])}var Xm=new WeakMap;function Rn(e,i){if(typeof e=="object"&&e!==null){var s=Xm.get(e);return s!==void 0?s:(i={value:e,source:i,stack:ka(i)},Xm.set(e,i),i)}return{value:e,source:i,stack:ka(i)}}var Cn=[],Za=0,Gh=0;function mu(){for(var e=Za,i=Gh=Za=0;i<e;){var s=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}d!==0&&$m(s,h,d)}}function pu(e,i,s,l){Cn[Za++]=e,Cn[Za++]=i,Cn[Za++]=s,Cn[Za++]=l,Gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fh(e,i,s,l){return pu(e,i,s,l),yu(e)}function Wa(e,i){return pu(e,null,null,i),yu(e)}function $m(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function yu(e){if(50<Ho)throw Ho=0,Wf=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ja={};function _w(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,s,l){return new _w(e,i,s,l)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,i){var s=e.alternate;return s===null?(s=cn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Zm(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function _u(e,i,s,l,h,d){var T=0;if(l=e,typeof e=="function")Qh(e)&&(T=1);else if(typeof e=="string")T=E1(e,s,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=cn(31,s,i,h),e.elementType=S,e.lanes=d,e;case k:return oa(s.children,h,d,i);case Y:T=8,h|=24;break;case Q:return e=cn(12,s,i,h|2),e.elementType=Q,e.lanes=d,e;case w:return e=cn(13,s,i,h),e.elementType=w,e.lanes=d,e;case I:return e=cn(19,s,i,h),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case G:T=10;break t;case ct:T=9;break t;case _:T=11;break t;case x:T=14;break t;case b:T=16,l=null;break t}T=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return i=cn(T,s,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function oa(e,i,s,l){return e=cn(7,e,l,i),e.lanes=s,e}function Yh(e,i,s){return e=cn(6,e,null,i),e.lanes=s,e}function Kh(e,i,s){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ts=[],es=0,vu=null,Eu=0,xn=[],Dn=0,la=null,Ci=1,xi="";function ua(e,i){ts[es++]=Eu,ts[es++]=vu,vu=e,Eu=i}function Wm(e,i,s){xn[Dn++]=Ci,xn[Dn++]=xi,xn[Dn++]=la,la=e;var l=Ci;e=xi;var h=32-Ge(l)-1;l&=~(1<<h),s+=1;var d=32-Ge(i)+h;if(30<d){var T=h-h%5;d=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Ci=1<<32-Ge(i)+h|s<<h|l,xi=d+e}else Ci=1<<d|s<<h|l,xi=e}function Xh(e){e.return!==null&&(ua(e,1),Wm(e,1,0))}function $h(e){for(;e===vu;)vu=ts[--es],ts[es]=null,Eu=ts[--es],ts[es]=null;for(;e===la;)la=xn[--Dn],xn[Dn]=null,xi=xn[--Dn],xn[Dn]=null,Ci=xn[--Dn],xn[Dn]=null}var We=null,le=null,Ht=!1,ca=null,ti=!1,Zh=Error(a(519));function ha(e){var i=Error(a(418,""));throw To(Rn(i,e)),Zh}function Jm(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[ge]=l,s){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(s=0;s<Fo.length;s++)Nt(Fo[s],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Xr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),za(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),$r(i,l.value,l.defaultValue,l.children),za(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||p_(i.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=tc),i=!0):i=!1,i||ha(e)}function tp(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:We=We.return}}function vo(e){if(e!==We)return!1;if(!Ht)return tp(e),Ht=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gd(e.type,e.memoizedProps)),s=!s),s&&le&&ha(e),tp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){le=kn(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,yr(e.type)?(e=_d,_d=null,le=e):le=i):le=We?kn(e.stateNode.nextSibling):null;return!0}function Eo(){le=We=null,Ht=!1}function ep(){var e=ca;return e!==null&&(an===null?an=e:an.push.apply(an,e),ca=null),e}function To(e){ca===null?ca=[e]:ca.push(e)}var Wh=et(null),fa=null,Di=null;function nr(e,i,s){ut(Wh,i._currentValue),i._currentValue=s}function Ii(e){e._currentValue=Wh.current,ht(Wh)}function Jh(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function tf(e,i,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var T=h.child;d=d.firstContext;t:for(;d!==null;){var R=d;d=h;for(var M=0;M<i.length;M++)if(R.context===i[M]){d.lanes|=s,R=d.alternate,R!==null&&(R.lanes|=s),Jh(d.return,s,e),l||(T=null);break t}d=R.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=s,d=T.alternate,d!==null&&(d.lanes|=s),Jh(T,s,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function wo(e,i,s,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var R=h.type;un(h.pendingProps.value,T.value)||(e!==null?e.push(R):e=[R])}}else if(h===re.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Zo):e=[Zo])}h=h.return}e!==null&&tf(i,e,s,l),i.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return np(fa,e)}function wu(e,i){return fa===null&&da(e),np(e,i)}function np(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Di===null){if(e===null)throw Error(a(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return s}var vw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},Ew=r.unstable_scheduleCallback,Tw=r.unstable_NormalPriority,be={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new vw,data:new Map,refCount:0}}function bo(e){e.refCount--,e.refCount===0&&Ew(Tw,function(){e.controller.abort()})}var So=null,nf=0,ns=0,is=null;function ww(e,i){if(So===null){var s=So=[];nf=0,ns=ad(),is={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,i.then(ip,ip),i}function ip(){if(--nf===0&&So!==null){is!==null&&(is.status="fulfilled");var e=So;So=null,ns=0,is=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function bw(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var rp=L.S;L.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ww(e,i),rp!==null&&rp(e,i)};var ga=et(null);function rf(){var e=ga.current;return e!==null?e:ee.pooledCache}function bu(e,i){i===null?ut(ga,ga.current):ut(ga,i.pool)}function ap(){var e=rf();return e===null?null:{parent:be._currentValue,pool:e}}var Ao=Error(a(460)),sp=Error(a(474)),Su=Error(a(542)),af={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Au(){}function lp(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Au,Au),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cp(e),e;default:if(typeof i.status=="string")i.then(Au,Au);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cp(e),e}throw Ro=i,Ao}}var Ro=null;function up(){if(Ro===null)throw Error(a(459));var e=Ro;return Ro=null,e}function cp(e){if(e===Ao||e===Su)throw Error(a(483))}var ir=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=yu(e),$m(e,null,s),i}return pu(e,l,i,s),yu(e)}function Co(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,to(e,s)}}function lf(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=T:d=d.next=T,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var uf=!1;function xo(){if(uf){var e=is;if(e!==null)throw e}}function Do(e,i,s,l){uf=!1;var h=e.updateQueue;ir=!1;var d=h.firstBaseUpdate,T=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var M=R,K=M.next;M.next=null,T===null?d=K:T.next=K,T=M;var it=e.alternate;it!==null&&(it=it.updateQueue,R=it.lastBaseUpdate,R!==T&&(R===null?it.firstBaseUpdate=K:R.next=K,it.lastBaseUpdate=M))}if(d!==null){var ot=h.baseState;T=0,it=K=M=null,R=d;do{var Z=R.lane&-536870913,W=Z!==R.lane;if(W?(kt&Z)===Z:(l&Z)===Z){Z!==0&&Z===ns&&(uf=!0),it!==null&&(it=it.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Rt=e,wt=R;Z=i;var Wt=s;switch(wt.tag){case 1:if(Rt=wt.payload,typeof Rt=="function"){ot=Rt.call(Wt,ot,Z);break t}ot=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=wt.payload,Z=typeof Rt=="function"?Rt.call(Wt,ot,Z):Rt,Z==null)break t;ot=E({},ot,Z);break t;case 2:ir=!0}}Z=R.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},it===null?(K=it=W,M=ot):it=it.next=W,T|=Z;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;W=R,R=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);it===null&&(M=ot),h.baseState=M,h.firstBaseUpdate=K,h.lastBaseUpdate=it,d===null&&(h.shared.lanes=0),dr|=T,e.lanes=T,e.memoizedState=ot}}function hp(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function fp(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)hp(s[e],i)}var rs=et(null),Ru=et(0);function dp(e,i){e=Ui,ut(Ru,e),ut(rs,i),Ui=e|i.baseLanes}function cf(){ut(Ru,Ui),ut(rs,rs.current)}function hf(){Ui=Ru.current,ht(rs),ht(Ru)}var sr=0,It=null,$t=null,pe=null,Cu=!1,as=!1,ma=!1,xu=0,Io=0,ss=null,Sw=0;function he(){throw Error(a(321))}function ff(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!un(e[s],i[s]))return!1;return!0}function df(e,i,s,l,h,d){return sr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=e===null||e.memoizedState===null?$p:Zp,ma=!1,d=s(l,h),ma=!1,as&&(d=mp(i,s,l,h)),gp(e),d}function gp(e){L.H=Nu;var i=$t!==null&&$t.next!==null;if(sr=0,pe=$t=It=null,Cu=!1,Io=0,ss=null,i)throw Error(a(300));e===null||Ie||(e=e.dependencies,e!==null&&Tu(e)&&(Ie=!0))}function mp(e,i,s,l){It=e;var h=0;do{if(as&&(ss=null),Io=0,as=!1,25<=h)throw Error(a(301));if(h+=1,pe=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=Ow,d=i(s,l)}while(as);return d}function Aw(){var e=L.H,i=e.useState()[0];return i=typeof i.then=="function"?Oo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(It.flags|=1024),i}function gf(){var e=xu!==0;return xu=0,e}function mf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function pf(e){if(Cu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Cu=!1}sr=0,pe=$t=It=null,as=!1,Io=xu=0,ss=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?It.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=pe===null?It.memoizedState:pe.next;if(i!==null)pe=i,$t=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},pe===null?It.memoizedState=pe=e:pe=pe.next=e}return pe}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var i=Io;return Io+=1,ss===null&&(ss=[]),e=lp(ss,e,i),i=It,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?$p:Zp),e}function Du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===G)return Fe(e)}throw Error(a(438,String(e)))}function _f(e){var i=null,s=It.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=yf(),It.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=O;return i.index++,s}function Oi(e,i){return typeof i=="function"?i(e):i}function Iu(e){var i=ye();return vf(i,$t,e)}function vf(e,i,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var T=h.next;h.next=d.next,d.next=T}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var R=T=null,M=null,K=i,it=!1;do{var ot=K.lane&-536870913;if(ot!==K.lane?(kt&ot)===ot:(sr&ot)===ot){var Z=K.revertLane;if(Z===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ot===ns&&(it=!0);else if((sr&Z)===Z){K=K.next,Z===ns&&(it=!0);continue}else ot={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(R=M=ot,T=d):M=M.next=ot,It.lanes|=Z,dr|=Z;ot=K.action,ma&&s(d,ot),d=K.hasEagerState?K.eagerState:s(d,ot)}else Z={lane:ot,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(R=M=Z,T=d):M=M.next=Z,It.lanes|=ot,dr|=ot;K=K.next}while(K!==null&&K!==i);if(M===null?T=d:M.next=R,!un(d,e.memoizedState)&&(Ie=!0,it&&(s=is,s!==null)))throw s;e.memoizedState=d,e.baseState=T,e.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var i=ye(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do d=e(d,T.action),T=T.next;while(T!==h);un(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function pp(e,i,s){var l=It,h=ye(),d=Ht;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var T=!un(($t||h).memoizedState,s);T&&(h.memoizedState=s,Ie=!0),h=h.queue;var R=vp.bind(null,l,h,e);if(Vo(2048,8,R,[e]),h.getSnapshot!==i||T||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,os(9,Ou(),_p.bind(null,l,h,s,i),null),ee===null)throw Error(a(349));d||(sr&124)!==0||yp(l,i,s)}return s}function yp(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=It.updateQueue,i===null?(i=yf(),It.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function _p(e,i,s,l){i.value=s,i.getSnapshot=l,Ep(i)&&Tp(e)}function vp(e,i,s){return s(function(){Ep(i)&&Tp(e)})}function Ep(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!un(e,s)}catch{return!0}}function Tp(e){var i=Wa(e,2);i!==null&&mn(i,e,2)}function Tf(e){var i=nn();if(typeof e=="function"){var s=e;if(e=s(),ma){on(!0);try{s()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function wp(e,i,s,l){return e.baseState=s,vf(e,$t,typeof l=="function"?l:Oi)}function Rw(e,i,s,l,h){if(Mu(e))throw Error(a(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};L.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,bp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function bp(e,i){var s=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=L.T,T={};L.T=T;try{var R=s(h,l),M=L.S;M!==null&&M(T,R),Sp(e,i,R)}catch(K){wf(e,i,K)}finally{L.T=d}}else try{d=s(h,l),Sp(e,i,d)}catch(K){wf(e,i,K)}}function Sp(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ap(e,i,l)},function(l){return wf(e,i,l)}):Ap(e,i,s)}function Ap(e,i,s){i.status="fulfilled",i.value=s,Rp(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,bp(e,s)))}function wf(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Rp(i),i=i.next;while(i!==l)}e.action=null}function Rp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Cp(e,i){return i}function xp(e,i){if(Ht){var s=ee.formState;if(s!==null){t:{var l=It;if(Ht){if(le){e:{for(var h=le,d=ti;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=kn(h.nextSibling),l=h.data==="F!";break t}}ha(l)}l=!1}l&&(i=s[0])}}return s=nn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:i},s.queue=l,s=Yp.bind(null,It,l),l.dispatch=s,l=Tf(!1),d=Cf.bind(null,It,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,s=Rw.bind(null,It,h,d,s),h.dispatch=s,l.memoizedState=e,[i,s,!1]}function Dp(e){var i=ye();return Ip(i,$t,e)}function Ip(e,i,s){if(i=vf(e,i,Cp)[0],e=Iu(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Oo(i)}catch(T){throw T===Ao?Su:T}else l=i;i=ye();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(It.flags|=2048,os(9,Ou(),Cw.bind(null,h,s),null)),[l,d,e]}function Cw(e,i){e.action=i}function Op(e){var i=ye(),s=$t;if(s!==null)return Ip(i,s,e);ye(),i=i.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function os(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=yf(),It.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Ou(){return{destroy:void 0,resource:void 0}}function Vp(){return ye().memoizedState}function Vu(e,i,s,l){var h=nn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=os(1|i,Ou(),s,l)}function Vo(e,i,s,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&ff(l,$t.memoizedState.deps)?h.memoizedState=os(i,d,s,l):(It.flags|=e,h.memoizedState=os(1|i,d,s,l))}function Mp(e,i){Vu(8390656,8,e,i)}function Np(e,i){Vo(2048,8,e,i)}function Pp(e,i){return Vo(4,2,e,i)}function Lp(e,i){return Vo(4,4,e,i)}function Up(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function kp(e,i,s){s=s!=null?s.concat([e]):null,Vo(4,4,Up.bind(null,i,e),s)}function bf(){}function zp(e,i){var s=ye();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&ff(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function Bp(e,i){var s=ye();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&ff(i,l[1]))return l[0];if(l=e(),ma){on(!0);try{e()}finally{on(!1)}}return s.memoizedState=[l,i],l}function Sf(e,i,s){return s===void 0||(sr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=Hy(),It.lanes|=e,dr|=e,s)}function jp(e,i,s,l){return un(s,i)?s:rs.current!==null?(e=Sf(e,s,l),un(e,i)||(Ie=!0),e):(sr&42)===0?(Ie=!0,e.memoizedState=s):(e=Hy(),It.lanes|=e,dr|=e,i)}function qp(e,i,s,l,h){var d=q.p;q.p=d!==0&&8>d?d:8;var T=L.T,R={};L.T=R,Cf(e,!1,i,s);try{var M=h(),K=L.S;if(K!==null&&K(R,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var it=bw(M,l);Mo(e,i,it,gn(e))}else Mo(e,i,l,gn(e))}catch(ot){Mo(e,i,{then:function(){},status:"rejected",reason:ot},gn())}finally{q.p=d,L.T=T}}function xw(){}function Af(e,i,s,l){if(e.tag!==5)throw Error(a(476));var h=Hp(e).queue;qp(e,h,i,nt,s===null?xw:function(){return Gp(e),s(l)})}function Hp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:nt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Gp(e){var i=Hp(e).next.queue;Mo(e,i,{},gn())}function Rf(){return Fe(Zo)}function Fp(){return ye().memoizedState}function Qp(){return ye().memoizedState}function Dw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=gn();e=rr(s);var l=ar(i,e,s);l!==null&&(mn(l,i,s),Co(l,i,s)),i={cache:ef()},e.payload=i;return}i=i.return}}function Iw(e,i,s){var l=gn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(e)?Kp(i,s):(s=Fh(e,i,s,l),s!==null&&(mn(s,e,l),Xp(s,i,l)))}function Yp(e,i,s){var l=gn();Mo(e,i,s,l)}function Mo(e,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))Kp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,R=d(T,s);if(h.hasEagerState=!0,h.eagerState=R,un(R,T))return pu(e,i,h,0),ee===null&&mu(),!1}catch{}finally{}if(s=Fh(e,i,h,l),s!==null)return mn(s,e,l),Xp(s,i,l),!0}return!1}function Cf(e,i,s,l){if(l={lane:2,revertLane:ad(),action:l,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(i)throw Error(a(479))}else i=Fh(e,s,l,2),i!==null&&mn(i,e,2)}function Mu(e){var i=e.alternate;return e===It||i!==null&&i===It}function Kp(e,i){as=Cu=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Xp(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,to(e,s)}}var Nu={readContext:Fe,use:Du,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},$p={readContext:Fe,use:Du,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Mp,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Vu(4194308,4,Up.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Vu(4194308,4,e,i)},useInsertionEffect:function(e,i){Vu(4,2,e,i)},useMemo:function(e,i){var s=nn();i=i===void 0?null:i;var l=e();if(ma){on(!0);try{e()}finally{on(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=nn();if(s!==void 0){var h=s(i);if(ma){on(!0);try{s(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Iw.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Tf(e);var i=e.queue,s=Yp.bind(null,It,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,i){var s=nn();return Sf(s,e,i)},useTransition:function(){var e=Tf(!1);return e=qp.bind(null,It,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=It,h=nn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ee===null)throw Error(a(349));(kt&124)!==0||yp(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Mp(vp.bind(null,l,d,e),[e]),l.flags|=2048,os(9,Ou(),_p.bind(null,l,d,s,i),null),s},useId:function(){var e=nn(),i=ee.identifierPrefix;if(Ht){var s=xi,l=Ci;s=(l&~(1<<32-Ge(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=xu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=Sw++,i="«"+i+"r"+s.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Rf,useFormState:xp,useActionState:xp,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Cf.bind(null,It,!0,s),s.dispatch=i,[e,i]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=Dw.bind(null,It)}},Zp={readContext:Fe,use:Du,useCallback:zp,useContext:Fe,useEffect:Np,useImperativeHandle:kp,useInsertionEffect:Pp,useLayoutEffect:Lp,useMemo:Bp,useReducer:Iu,useRef:Vp,useState:function(){return Iu(Oi)},useDebugValue:bf,useDeferredValue:function(e,i){var s=ye();return jp(s,$t.memoizedState,e,i)},useTransition:function(){var e=Iu(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Oo(e),i]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Rf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,i){var s=ye();return wp(s,$t,e,i)},useMemoCache:_f,useCacheRefresh:Qp},Ow={readContext:Fe,use:Du,useCallback:zp,useContext:Fe,useEffect:Np,useImperativeHandle:kp,useInsertionEffect:Pp,useLayoutEffect:Lp,useMemo:Bp,useReducer:Ef,useRef:Vp,useState:function(){return Ef(Oi)},useDebugValue:bf,useDeferredValue:function(e,i){var s=ye();return $t===null?Sf(s,e,i):jp(s,$t.memoizedState,e,i)},useTransition:function(){var e=Ef(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Oo(e),i]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Rf,useFormState:Op,useActionState:Op,useOptimistic:function(e,i){var s=ye();return $t!==null?wp(s,$t,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Qp},ls=null,No=0;function Pu(e){var i=No;return No+=1,ls===null&&(ls=[]),lp(ls,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Lu(e,i){throw i.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Wp(e){var i=e._init;return i(e._payload)}function Jp(e){function i(j,B){if(e){var F=j.deletions;F===null?(j.deletions=[B],j.flags|=16):F.push(B)}}function s(j,B){if(!e)return null;for(;B!==null;)i(j,B),B=B.sibling;return null}function l(j){for(var B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function h(j,B){return j=Ri(j,B),j.index=0,j.sibling=null,j}function d(j,B,F){return j.index=F,e?(F=j.alternate,F!==null?(F=F.index,F<B?(j.flags|=67108866,B):F):(j.flags|=67108866,B)):(j.flags|=1048576,B)}function T(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function R(j,B,F,rt){return B===null||B.tag!==6?(B=Yh(F,j.mode,rt),B.return=j,B):(B=h(B,F),B.return=j,B)}function M(j,B,F,rt){var _t=F.type;return _t===k?it(j,B,F.props.children,rt,F.key):B!==null&&(B.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===b&&Wp(_t)===B.type)?(B=h(B,F.props),Po(B,F),B.return=j,B):(B=_u(F.type,F.key,F.props,null,j.mode,rt),Po(B,F),B.return=j,B)}function K(j,B,F,rt){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=Kh(F,j.mode,rt),B.return=j,B):(B=h(B,F.children||[]),B.return=j,B)}function it(j,B,F,rt,_t){return B===null||B.tag!==7?(B=oa(F,j.mode,rt,_t),B.return=j,B):(B=h(B,F),B.return=j,B)}function ot(j,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Yh(""+B,j.mode,F),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return F=_u(B.type,B.key,B.props,null,j.mode,F),Po(F,B),F.return=j,F;case U:return B=Kh(B,j.mode,F),B.return=j,B;case b:var rt=B._init;return B=rt(B._payload),ot(j,B,F)}if(X(B)||z(B))return B=oa(B,j.mode,F,null),B.return=j,B;if(typeof B.then=="function")return ot(j,Pu(B),F);if(B.$$typeof===G)return ot(j,wu(j,B),F);Lu(j,B)}return null}function Z(j,B,F,rt){var _t=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _t!==null?null:R(j,B,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===_t?M(j,B,F,rt):null;case U:return F.key===_t?K(j,B,F,rt):null;case b:return _t=F._init,F=_t(F._payload),Z(j,B,F,rt)}if(X(F)||z(F))return _t!==null?null:it(j,B,F,rt,null);if(typeof F.then=="function")return Z(j,B,Pu(F),rt);if(F.$$typeof===G)return Z(j,B,wu(j,F),rt);Lu(j,F)}return null}function W(j,B,F,rt,_t){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return j=j.get(F)||null,R(B,j,""+rt,_t);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case A:return j=j.get(rt.key===null?F:rt.key)||null,M(B,j,rt,_t);case U:return j=j.get(rt.key===null?F:rt.key)||null,K(B,j,rt,_t);case b:var Vt=rt._init;return rt=Vt(rt._payload),W(j,B,F,rt,_t)}if(X(rt)||z(rt))return j=j.get(F)||null,it(B,j,rt,_t,null);if(typeof rt.then=="function")return W(j,B,F,Pu(rt),_t);if(rt.$$typeof===G)return W(j,B,F,wu(B,rt),_t);Lu(B,rt)}return null}function Rt(j,B,F,rt){for(var _t=null,Vt=null,vt=B,bt=B=0,Ve=null;vt!==null&&bt<F.length;bt++){vt.index>bt?(Ve=vt,vt=null):Ve=vt.sibling;var qt=Z(j,vt,F[bt],rt);if(qt===null){vt===null&&(vt=Ve);break}e&&vt&&qt.alternate===null&&i(j,vt),B=d(qt,B,bt),Vt===null?_t=qt:Vt.sibling=qt,Vt=qt,vt=Ve}if(bt===F.length)return s(j,vt),Ht&&ua(j,bt),_t;if(vt===null){for(;bt<F.length;bt++)vt=ot(j,F[bt],rt),vt!==null&&(B=d(vt,B,bt),Vt===null?_t=vt:Vt.sibling=vt,Vt=vt);return Ht&&ua(j,bt),_t}for(vt=l(vt);bt<F.length;bt++)Ve=W(vt,j,bt,F[bt],rt),Ve!==null&&(e&&Ve.alternate!==null&&vt.delete(Ve.key===null?bt:Ve.key),B=d(Ve,B,bt),Vt===null?_t=Ve:Vt.sibling=Ve,Vt=Ve);return e&&vt.forEach(function(wr){return i(j,wr)}),Ht&&ua(j,bt),_t}function wt(j,B,F,rt){if(F==null)throw Error(a(151));for(var _t=null,Vt=null,vt=B,bt=B=0,Ve=null,qt=F.next();vt!==null&&!qt.done;bt++,qt=F.next()){vt.index>bt?(Ve=vt,vt=null):Ve=vt.sibling;var wr=Z(j,vt,qt.value,rt);if(wr===null){vt===null&&(vt=Ve);break}e&&vt&&wr.alternate===null&&i(j,vt),B=d(wr,B,bt),Vt===null?_t=wr:Vt.sibling=wr,Vt=wr,vt=Ve}if(qt.done)return s(j,vt),Ht&&ua(j,bt),_t;if(vt===null){for(;!qt.done;bt++,qt=F.next())qt=ot(j,qt.value,rt),qt!==null&&(B=d(qt,B,bt),Vt===null?_t=qt:Vt.sibling=qt,Vt=qt);return Ht&&ua(j,bt),_t}for(vt=l(vt);!qt.done;bt++,qt=F.next())qt=W(vt,j,bt,qt.value,rt),qt!==null&&(e&&qt.alternate!==null&&vt.delete(qt.key===null?bt:qt.key),B=d(qt,B,bt),Vt===null?_t=qt:Vt.sibling=qt,Vt=qt);return e&&vt.forEach(function(V1){return i(j,V1)}),Ht&&ua(j,bt),_t}function Wt(j,B,F,rt){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:t:{for(var _t=F.key;B!==null;){if(B.key===_t){if(_t=F.type,_t===k){if(B.tag===7){s(j,B.sibling),rt=h(B,F.props.children),rt.return=j,j=rt;break t}}else if(B.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===b&&Wp(_t)===B.type){s(j,B.sibling),rt=h(B,F.props),Po(rt,F),rt.return=j,j=rt;break t}s(j,B);break}else i(j,B);B=B.sibling}F.type===k?(rt=oa(F.props.children,j.mode,rt,F.key),rt.return=j,j=rt):(rt=_u(F.type,F.key,F.props,null,j.mode,rt),Po(rt,F),rt.return=j,j=rt)}return T(j);case U:t:{for(_t=F.key;B!==null;){if(B.key===_t)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){s(j,B.sibling),rt=h(B,F.children||[]),rt.return=j,j=rt;break t}else{s(j,B);break}else i(j,B);B=B.sibling}rt=Kh(F,j.mode,rt),rt.return=j,j=rt}return T(j);case b:return _t=F._init,F=_t(F._payload),Wt(j,B,F,rt)}if(X(F))return Rt(j,B,F,rt);if(z(F)){if(_t=z(F),typeof _t!="function")throw Error(a(150));return F=_t.call(F),wt(j,B,F,rt)}if(typeof F.then=="function")return Wt(j,B,Pu(F),rt);if(F.$$typeof===G)return Wt(j,B,wu(j,F),rt);Lu(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(s(j,B.sibling),rt=h(B,F),rt.return=j,j=rt):(s(j,B),rt=Yh(F,j.mode,rt),rt.return=j,j=rt),T(j)):s(j,B)}return function(j,B,F,rt){try{No=0;var _t=Wt(j,B,F,rt);return ls=null,_t}catch(vt){if(vt===Ao||vt===Su)throw vt;var Vt=cn(29,vt,null,j.mode);return Vt.lanes=rt,Vt.return=j,Vt}finally{}}}var us=Jp(!0),ty=Jp(!1),In=et(null),ei=null;function or(e){var i=e.alternate;ut(Se,Se.current&1),ut(In,e),ei===null&&(i===null||rs.current!==null||i.memoizedState!==null)&&(ei=e)}function ey(e){if(e.tag===22){if(ut(Se,Se.current),ut(In,e),ei===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ei=e)}}else lr()}function lr(){ut(Se,Se.current),ut(In,In.current)}function Vi(e){ht(In),ei===e&&(ei=null),ht(Se)}var Se=et(0);function Uu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||yd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xf(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=gn(),h=rr(l);h.payload=i,s!=null&&(h.callback=s),i=ar(e,h,l),i!==null&&(mn(i,e,l),Co(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=gn(),h=rr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ar(e,h,l),i!==null&&(mn(i,e,l),Co(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=gn(),l=rr(s);l.tag=2,i!=null&&(l.callback=i),i=ar(e,l,s),i!==null&&(mn(i,e,s),Co(i,e,s))}};function ny(e,i,s,l,h,d,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!yo(s,l)||!yo(h,d):!0}function iy(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&Df.enqueueReplaceState(i,i.state,null)}function pa(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ry(e){ku(e)}function ay(e){console.error(e)}function sy(e){ku(e)}function zu(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function oy(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,i,s){return s=rr(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,i)},s}function ly(e){return e=rr(e),e.tag=3,e}function uy(e,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){oy(i,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){oy(i,s,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})})}function Vw(e,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&wo(i,s,h,!0),s=In.current,s!==null){switch(s.tag){case 13:return ei===null?td():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===af?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),nd(e,l,h)),!1;case 22:return s.flags|=65536,l===af?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),nd(e,l,h)),!1}throw Error(a(435,s.tag))}return nd(e,l,h),td(),!1}if(Ht)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Zh&&(e=Error(a(422),{cause:l}),To(Rn(e,s)))):(l!==Zh&&(i=Error(a(423),{cause:l}),To(Rn(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Rn(l,s),h=If(e.stateNode,l,h),lf(e,h),ue!==4&&(ue=2)),!1;var d=Error(a(520),{cause:l});if(d=Rn(d,s),qo===null?qo=[d]:qo.push(d),ue!==4&&(ue=2),i===null)return!0;l=Rn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,l,e),lf(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ly(h),uy(h,e,s,l),lf(s,h),!1}s=s.return}while(s!==null);return!1}var cy=Error(a(461)),Ie=!1;function Ue(e,i,s,l){i.child=e===null?ty(i,null,s,l):us(i,e.child,s,l)}function hy(e,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var T={};for(var R in l)R!=="ref"&&(T[R]=l[R])}else T=l;return da(i),l=df(e,i,s,T,d,h),R=gf(),e!==null&&!Ie?(mf(e,i,h),Mi(e,i,h)):(Ht&&R&&Xh(i),i.flags|=1,Ue(e,i,l,h),i.child)}function fy(e,i,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Qh(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,dy(e,i,d,l,h)):(e=_u(s.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!kf(e,h)){var T=d.memoizedProps;if(s=s.compare,s=s!==null?s:yo,s(T,l)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=Ri(d,l),e.ref=i.ref,e.return=i,i.child=e}function dy(e,i,s,l,h){if(e!==null){var d=e.memoizedProps;if(yo(d,l)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=l=d,kf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return Of(e,i,s,l,h)}function gy(e,i,s){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return my(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(i,d!==null?d.cachePool:null),d!==null?dp(i,d):cf(),ey(i);else return i.lanes=i.childLanes=536870912,my(e,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(bu(i,d.cachePool),dp(i,d),lr(),i.memoizedState=null):(e!==null&&bu(i,null),cf(),lr());return Ue(e,i,h,s),i.child}function my(e,i,s,l){var h=rf();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},e!==null&&bu(i,null),cf(),ey(i),e!==null&&wo(e,i,l,!0),null}function Bu(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Of(e,i,s,l,h){return da(i),s=df(e,i,s,l,void 0,h),l=gf(),e!==null&&!Ie?(mf(e,i,h),Mi(e,i,h)):(Ht&&l&&Xh(i),i.flags|=1,Ue(e,i,s,h),i.child)}function py(e,i,s,l,h,d){return da(i),i.updateQueue=null,s=mp(i,l,s,h),gp(e),l=gf(),e!==null&&!Ie?(mf(e,i,d),Mi(e,i,d)):(Ht&&l&&Xh(i),i.flags|=1,Ue(e,i,s,d),i.child)}function yy(e,i,s,l,h){if(da(i),i.stateNode===null){var d=Ja,T=s.contextType;typeof T=="object"&&T!==null&&(d=Fe(T)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Df,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},sf(i),T=s.contextType,d.context=typeof T=="object"&&T!==null?Fe(T):Ja,d.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(xf(i,s,T,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Df.enqueueReplaceState(d,d.state,null),Do(i,l,d,h),xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var R=i.memoizedProps,M=pa(s,R);d.props=M;var K=d.context,it=s.contextType;T=Ja,typeof it=="object"&&it!==null&&(T=Fe(it));var ot=s.getDerivedStateFromProps;it=typeof ot=="function"||typeof d.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,it||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(R||K!==T)&&iy(i,d,l,T),ir=!1;var Z=i.memoizedState;d.state=Z,Do(i,l,d,h),xo(),K=i.memoizedState,R||Z!==K||ir?(typeof ot=="function"&&(xf(i,s,ot,l),K=i.memoizedState),(M=ir||ny(i,s,M,l,Z,K,T))?(it||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=T,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,of(e,i),T=i.memoizedProps,it=pa(s,T),d.props=it,ot=i.pendingProps,Z=d.context,K=s.contextType,M=Ja,typeof K=="object"&&K!==null&&(M=Fe(K)),R=s.getDerivedStateFromProps,(K=typeof R=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ot||Z!==M)&&iy(i,d,l,M),ir=!1,Z=i.memoizedState,d.state=Z,Do(i,l,d,h),xo();var W=i.memoizedState;T!==ot||Z!==W||ir||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof R=="function"&&(xf(i,s,R,l),W=i.memoizedState),(it=ir||ny(i,s,it,l,Z,W,M)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&Z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=M,l=it):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&Z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Bu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=us(i,e.child,null,h),i.child=us(i,null,s,h)):Ue(e,i,s,h),i.memoizedState=d.state,e=i.child):e=Mi(e,i,h),e}function _y(e,i,s,l){return Eo(),i.flags|=256,Ue(e,i,s,l),i.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:ap()}}function Nf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=On),e}function vy(e,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?or(i):lr(),Ht){var R=le,M;if(M=R){t:{for(M=R,R=ti;M.nodeType!==8;){if(!R){R=null;break t}if(M=kn(M.nextSibling),M===null){R=null;break t}}R=M}R!==null?(i.memoizedState={dehydrated:R,treeContext:la!==null?{id:Ci,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},M=cn(18,null,null,0),M.stateNode=R,M.return=i,i.child=M,We=i,le=null,M=!0):M=!1}M||ha(i)}if(R=i.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return yd(R)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return R=l.children,l=l.fallback,h?(lr(),h=i.mode,R=ju({mode:"hidden",children:R},h),l=oa(l,h,s,null),R.return=i,l.return=i,R.sibling=l,i.child=R,h=i.child,h.memoizedState=Mf(s),h.childLanes=Nf(e,T,s),i.memoizedState=Vf,l):(or(i),Pf(i,R))}if(M=e.memoizedState,M!==null&&(R=M.dehydrated,R!==null)){if(d)i.flags&256?(or(i),i.flags&=-257,i=Lf(e,i,s)):i.memoizedState!==null?(lr(),i.child=e.child,i.flags|=128,i=null):(lr(),h=l.fallback,R=i.mode,l=ju({mode:"visible",children:l.children},R),h=oa(h,R,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,us(i,e.child,null,s),l=i.child,l.memoizedState=Mf(s),l.childLanes=Nf(e,T,s),i.memoizedState=Vf,i=h);else if(or(i),yd(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var K=T.dgst;T=K,l=Error(a(419)),l.stack="",l.digest=T,To({value:l,source:null,stack:null}),i=Lf(e,i,s)}else if(Ie||wo(e,i,s,!1),T=(s&e.childLanes)!==0,Ie||T){if(T=ee,T!==null&&(l=s&-s,l=(l&42)!==0?1:Xi(l),l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,Wa(e,l),mn(T,e,l),cy;R.data==="$?"||td(),i=Lf(e,i,s)}else R.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=M.treeContext,le=kn(R.nextSibling),We=i,Ht=!0,ca=null,ti=!1,e!==null&&(xn[Dn++]=Ci,xn[Dn++]=xi,xn[Dn++]=la,Ci=e.id,xi=e.overflow,la=i),i=Pf(i,l.children),i.flags|=4096);return i}return h?(lr(),h=l.fallback,R=i.mode,M=e.child,K=M.sibling,l=Ri(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,K!==null?h=Ri(K,h):(h=oa(h,R,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,R=e.child.memoizedState,R===null?R=Mf(s):(M=R.cachePool,M!==null?(K=be._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=ap(),R={baseLanes:R.baseLanes|s,cachePool:M}),h.memoizedState=R,h.childLanes=Nf(e,T,s),i.memoizedState=Vf,l):(or(i),s=e.child,e=s.sibling,s=Ri(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=s,i.memoizedState=null,s)}function Pf(e,i){return i=ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ju(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lf(e,i,s){return us(i,e.child,null,s),e=Pf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ey(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Jh(e.return,i,s)}function Uf(e,i,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Ty(e,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,s),l=Se.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,s,i);else if(e.tag===19)Ey(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ut(Se,l),h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Uf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(i,!0,s,null,d);break;case"together":Uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),dr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(wo(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=Ri(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Ri(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function kf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function Mw(e,i,s){switch(i.tag){case 3:Ft(i,i.stateNode.containerInfo),nr(i,be,e.memoizedState.cache),Eo();break;case 27:case 5:Ki(i);break;case 4:Ft(i,i.stateNode.containerInfo);break;case 10:nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(or(i),i.flags|=128,null):(s&i.child.childLanes)!==0?vy(e,i,s):(or(i),e=Mi(e,i,s),e!==null?e.sibling:null);or(i);break;case 19:var h=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(wo(e,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Ty(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ut(Se,Se.current),l)break;return null;case 22:case 23:return i.lanes=0,gy(e,i,s);case 24:nr(i,be,e.memoizedState.cache)}return Mi(e,i,s)}function wy(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!kf(e,s)&&(i.flags&128)===0)return Ie=!1,Mw(e,i,s);Ie=(e.flags&131072)!==0}else Ie=!1,Ht&&(i.flags&1048576)!==0&&Wm(i,Eu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Qh(l)?(e=pa(l,e),i.tag=1,i=yy(null,i,l,e,s)):(i.tag=0,i=Of(null,i,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===_){i.tag=11,i=hy(null,i,l,e,s);break t}else if(h===x){i.tag=14,i=fy(null,i,l,e,s);break t}}throw i=at(l)||l,Error(a(306,i,""))}}return i;case 0:return Of(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=pa(l,i.pendingProps),yy(e,i,l,h,s);case 3:t:{if(Ft(i,i.stateNode.containerInfo),e===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,of(e,i),Do(i,l,null,s);var T=i.memoizedState;if(l=T.cache,nr(i,be,l),l!==d.cache&&tf(i,[be],s,!0),xo(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_y(e,i,l,s);break t}else if(l!==h){h=Rn(Error(a(424)),i),To(h),i=_y(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=kn(e.firstChild),We=i,Ht=!0,ca=null,ti=!0,s=ty(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Eo(),l===h){i=Mi(e,i,s);break t}Ue(e,i,l,s)}i=i.child}return i;case 26:return Bu(e,i),e===null?(s=R_(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ht||(s=i.type,e=i.pendingProps,l=ec(St.current).createElement(s),l[Ee]=i,l[ge]=e,ze(l,s,e),ce(l),i.stateNode=l):i.memoizedState=R_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ki(i),e===null&&Ht&&(l=i.stateNode=b_(i.type,i.pendingProps,St.current),We=i,ti=!0,h=le,yr(i.type)?(_d=h,le=kn(l.firstChild)):le=h),Ue(e,i,i.pendingProps.children,s),Bu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=l=le)&&(l=o1(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,We=i,le=kn(l.firstChild),ti=!1,h=!0):h=!1),h||ha(i)),Ki(i),h=i.type,d=i.pendingProps,T=e!==null?e.memoizedProps:null,l=d.children,gd(h,d)?l=null:T!==null&&gd(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=df(e,i,Aw,null,null,s),Zo._currentValue=h),Bu(e,i),Ue(e,i,l,s),i.child;case 6:return e===null&&Ht&&((e=s=le)&&(s=l1(s,i.pendingProps,ti),s!==null?(i.stateNode=s,We=i,le=null,e=!0):e=!1),e||ha(i)),null;case 13:return vy(e,i,s);case 4:return Ft(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=us(i,null,l,s):Ue(e,i,l,s),i.child;case 11:return hy(e,i,i.type,i.pendingProps,s);case 7:return Ue(e,i,i.pendingProps,s),i.child;case 8:return Ue(e,i,i.pendingProps.children,s),i.child;case 12:return Ue(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,nr(i,i.type,l.value),Ue(e,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,da(i),h=Fe(h),l=l(h),i.flags|=1,Ue(e,i,l,s),i.child;case 14:return fy(e,i,i.type,i.pendingProps,s);case 15:return dy(e,i,i.type,i.pendingProps,s);case 19:return Ty(e,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},e===null?(s=ju(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ri(e.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return gy(e,i,s);case 24:return da(i),l=Fe(be),e===null?(h=rf(),h===null&&(h=ee,d=ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},sf(i),nr(i,be,h)):((e.lanes&s)!==0&&(of(e,i),Do(i,null,null,s),xo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),nr(i,be,l)):(l=d.cache,nr(i,be,l),l!==h.cache&&tf(i,[be],s,!0))),Ue(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ni(e){e.flags|=4}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(i)){if(i=In.current,i!==null&&((kt&4194048)===kt?ei!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ei))throw Ro=af,sp;e.flags|=8192}}function qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ws():536870912,e.lanes|=i,ds|=i)}function Lo(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function Nw(e,i,s){var l=i.pendingProps;switch($h(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ii(be),qn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(vo(i)?Ni(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ep())),ae(i),null;case 26:return s=i.memoizedState,e===null?(Ni(i),s!==null?(ae(i),by(i,s)):(ae(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Ni(i),ae(i),by(i,s)):(ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ni(i),ae(i),i.flags&=-16777217),null;case 27:di(i),s=St.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ae(i),null}e=pt.current,vo(i)?Jm(i):(e=b_(h,l,s),i.stateNode=e,Ni(i))}return ae(i),null;case 5:if(di(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ae(i),null}if(e=pt.current,vo(i))Jm(i);else{switch(h=ec(St.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Ee]=i,e[ge]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(i)}}return ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(e=St.current,vo(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||p_(e.nodeValue,s)),e||ha(i)}else e=ec(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=vo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=i}else Eo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=ep(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),qu(i,i.updateQueue),ae(i),null;case 4:return qn(),e===null&&ud(i.stateNode.containerInfo),ae(i),null;case 10:return Ii(i.type),ae(i),null;case 19:if(ht(Se),h=i.memoizedState,h===null)return ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Lo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Uu(e),d!==null){for(i.flags|=128,Lo(h,!1),e=d.updateQueue,i.updateQueue=e,qu(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)Zm(s,e),s=s.sibling;return ut(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&En()>Fu&&(i.flags|=128,l=!0,Lo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Uu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,qu(i,e),Lo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return ae(i),null}else 2*En()-h.renderingStartTime>Fu&&s!==536870912&&(i.flags|=128,l=!0,Lo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,e=Se.current,ut(Se,l?e&1|2:e&1),i):(ae(i),null);case 22:case 23:return Vi(i),hf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),s=i.updateQueue,s!==null&&qu(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&ht(ga),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ii(be),ae(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Pw(e,i){switch($h(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ii(be),qn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Eo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ht(Se),null;case 4:return qn(),null;case 10:return Ii(i.type),null;case 22:case 23:return Vi(i),hf(),e!==null&&ht(ga),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ii(be),null;case 25:return null;default:return null}}function Sy(e,i){switch($h(i),i.tag){case 3:Ii(be),qn();break;case 26:case 27:case 5:di(i);break;case 4:qn();break;case 13:Vi(i);break;case 19:ht(Se);break;case 10:Ii(i.type);break;case 22:case 23:Vi(i),hf(),e!==null&&ht(ga);break;case 24:Ii(be)}}function Uo(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,T=s.inst;l=d(),T.destroy=l}s=s.next}while(s!==h)}}catch(R){Jt(i,i.return,R)}}function ur(e,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var T=l.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,h=i;var M=s,K=R;try{K()}catch(it){Jt(h,M,it)}}}l=l.next}while(l!==d)}}catch(it){Jt(i,i.return,it)}}function Ay(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{fp(i,s)}catch(l){Jt(e,e.return,l)}}}function Ry(e,i,s){s.props=pa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Jt(e,i,l)}}function ko(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Jt(e,i,h)}}function ni(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Jt(e,i,h)}else s.current=null}function Cy(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Jt(e,e.return,h)}}function zf(e,i,s){try{var l=e.stateNode;n1(l,e.type,s,i),l[ge]=i}catch(h){Jt(e,e.return,h)}}function xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=tc));else if(l!==4&&(l===27&&yr(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(jf(e,i,s),e=e.sibling;e!==null;)jf(e,i,s),e=e.sibling}function Hu(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&yr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hu(e,i,s),e=e.sibling;e!==null;)Hu(e,i,s),e=e.sibling}function Dy(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,s),i[Ee]=e,i[ge]=s}catch(d){Jt(e,e.return,d)}}var Pi=!1,fe=!1,qf=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Lw(e,i){if(e=e.containerInfo,fd=oc,e=jm(e),zh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var T=0,R=-1,M=-1,K=0,it=0,ot=e,Z=null;e:for(;;){for(var W;ot!==s||h!==0&&ot.nodeType!==3||(R=T+h),ot!==d||l!==0&&ot.nodeType!==3||(M=T+l),ot.nodeType===3&&(T+=ot.nodeValue.length),(W=ot.firstChild)!==null;)Z=ot,ot=W;for(;;){if(ot===e)break e;if(Z===s&&++K===h&&(R=T),Z===d&&++it===l&&(M=T),(W=ot.nextSibling)!==null)break;ot=Z,Z=ot.parentNode}ot=W}s=R===-1||M===-1?null:{start:R,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},oc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Rt=pa(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Rt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){Jt(s,s.return,wt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function Oy(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:cr(e,s),l&4&&Uo(5,s);break;case 1:if(cr(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(T){Jt(s,s.return,T)}else{var h=pa(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(s,s.return,T)}}l&64&&Ay(s),l&512&&ko(s,s.return);break;case 3:if(cr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{fp(e,i)}catch(T){Jt(s,s.return,T)}}break;case 27:i===null&&l&4&&Dy(s);case 26:case 5:cr(e,s),i===null&&l&4&&Cy(s),l&512&&ko(s,s.return);break;case 12:cr(e,s);break;case 13:cr(e,s),l&4&&Ny(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Fw.bind(null,s),u1(e,s))));break;case 22:if(l=s.memoizedState!==null||Pi,!l){i=i!==null&&i.memoizedState!==null||fe,h=Pi;var d=fe;Pi=l,(fe=i)&&!d?hr(e,s,(s.subtreeFlags&8772)!==0):cr(e,s),Pi=h,fe=d}break;case 30:break;default:cr(e,s)}}function Vy(e){var i=e.alternate;i!==null&&(e.alternate=null,Vy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,rn=!1;function Li(e,i,s){for(s=s.child;s!==null;)My(e,i,s),s=s.sibling}function My(e,i,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(oe,s)}catch{}switch(s.tag){case 26:fe||ni(s,i),Li(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:fe||ni(s,i);var l=ie,h=rn;yr(s.type)&&(ie=s.stateNode,rn=!1),Li(e,i,s),Yo(s.stateNode),ie=l,rn=h;break;case 5:fe||ni(s,i);case 6:if(l=ie,h=rn,ie=null,Li(e,i,s),ie=l,rn=h,ie!==null)if(rn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(d){Jt(s,i,d)}else try{ie.removeChild(s.stateNode)}catch(d){Jt(s,i,d)}break;case 18:ie!==null&&(rn?(e=ie,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),el(e)):T_(ie,s.stateNode));break;case 4:l=ie,h=rn,ie=s.stateNode.containerInfo,rn=!0,Li(e,i,s),ie=l,rn=h;break;case 0:case 11:case 14:case 15:fe||ur(2,s,i),fe||ur(4,s,i),Li(e,i,s);break;case 1:fe||(ni(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ry(s,i,l)),Li(e,i,s);break;case 21:Li(e,i,s);break;case 22:fe=(l=fe)||s.memoizedState!==null,Li(e,i,s),fe=l;break;default:Li(e,i,s)}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(s){Jt(i,i.return,s)}}function Uw(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Iy),i;default:throw Error(a(435,e.tag))}}function Hf(e,i){var s=Uw(e);i.forEach(function(l){var h=Qw.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function hn(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,T=i,R=T;t:for(;R!==null;){switch(R.tag){case 27:if(yr(R.type)){ie=R.stateNode,rn=!1;break t}break;case 5:ie=R.stateNode,rn=!1;break t;case 3:case 4:ie=R.stateNode.containerInfo,rn=!0;break t}R=R.return}if(ie===null)throw Error(a(160));My(d,T,h),ie=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Py(i,e),i=i.sibling}var Un=null;function Py(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(ur(3,e,e.return),Uo(3,e),ur(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(fe||s===null||ni(s,s.return)),l&64&&Pi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Un;if(hn(i,e),fn(e),l&512&&(fe||s===null||ni(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Fr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,s),d[Ee]=e,ce(d),l=d;break t;case"link":var T=D_("link","href",h).get(l+(s.href||""));if(T){for(var R=0;R<T.length;R++)if(d=T[R],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(R,1);break e}}d=h.createElement(l),ze(d,l,s),h.head.appendChild(d);break;case"meta":if(T=D_("meta","content",h).get(l+(s.content||""))){for(R=0;R<T.length;R++)if(d=T[R],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(R,1);break e}}d=h.createElement(l),ze(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ee]=e,ce(d),l=d}e.stateNode=l}else I_(h,e.type,e.stateNode);else e.stateNode=x_(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?I_(h,e.type,e.stateNode):x_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(fe||s===null||ni(s,s.return)),s!==null&&l&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(fe||s===null||ni(s,s.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(W){Jt(e,e.return,W)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(W){Jt(e,e.return,W)}}break;case 3:if(rc=null,h=Un,Un=nc(i.containerInfo),hn(i,e),Un=h,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{el(i.containerInfo)}catch(W){Jt(e,e.return,W)}qf&&(qf=!1,Ly(e));break;case 4:l=Un,Un=nc(e.stateNode.containerInfo),hn(i,e),fn(e),Un=l;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xf=En()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hf(e,l)));break;case 22:h=e.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,K=Pi,it=fe;if(Pi=K||h,fe=it||M,hn(i,e),fe=it,Pi=K,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||M||Pi||fe||ya(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){M=s=i;try{if(d=M.stateNode,h)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=M.stateNode;var ot=M.memoizedProps.style,Z=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;R.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){Jt(M,M.return,W)}}}else if(i.tag===6){if(s===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(W){Jt(M,M.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Hf(e,s))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hf(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(xy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Bf(e);Hu(e,d,h);break;case 5:var T=s.stateNode;s.flags&32&&(wn(T,""),s.flags&=-33);var R=Bf(e);Hu(e,R,T);break;case 3:case 4:var M=s.stateNode.containerInfo,K=Bf(e);jf(e,K,M);break;default:throw Error(a(161))}}catch(it){Jt(e,e.return,it)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ly(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Oy(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ur(4,i,i.return),ya(i);break;case 1:ni(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Ry(i,i.return,s),ya(i);break;case 27:Yo(i.stateNode);case 26:case 5:ni(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}e=e.sibling}}function hr(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:hr(h,d,s),Uo(4,d);break;case 1:if(hr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){Jt(l,l.return,K)}if(l=d,h=l.updateQueue,h!==null){var R=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)hp(M[h],R)}catch(K){Jt(l,l.return,K)}}s&&T&64&&Ay(d),ko(d,d.return);break;case 27:Dy(d);case 26:case 5:hr(h,d,s),s&&l===null&&T&4&&Cy(d),ko(d,d.return);break;case 12:hr(h,d,s);break;case 13:hr(h,d,s),s&&T&4&&Ny(h,d);break;case 22:d.memoizedState===null&&hr(h,d,s),ko(d,d.return);break;case 30:break;default:hr(h,d,s)}i=i.sibling}}function Gf(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&bo(s))}function Ff(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bo(e))}function ii(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(e,i,s,l),i=i.sibling}function Uy(e,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ii(e,i,s,l),h&2048&&Uo(9,i);break;case 1:ii(e,i,s,l);break;case 3:ii(e,i,s,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bo(e)));break;case 12:if(h&2048){ii(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,T=d.id,R=d.onPostCommit;typeof R=="function"&&R(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Jt(i,i.return,M)}}else ii(e,i,s,l);break;case 13:ii(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?ii(e,i,s,l):zo(e,i):d._visibility&2?ii(e,i,s,l):(d._visibility|=2,cs(e,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Gf(T,i);break;case 24:ii(e,i,s,l),h&2048&&Ff(i.alternate,i);break;default:ii(e,i,s,l)}}function cs(e,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,T=i,R=s,M=l,K=T.flags;switch(T.tag){case 0:case 11:case 15:cs(d,T,R,M,h),Uo(8,T);break;case 23:break;case 22:var it=T.stateNode;T.memoizedState!==null?it._visibility&2?cs(d,T,R,M,h):zo(d,T):(it._visibility|=2,cs(d,T,R,M,h)),h&&K&2048&&Gf(T.alternate,T);break;case 24:cs(d,T,R,M,h),h&&K&2048&&Ff(T.alternate,T);break;default:cs(d,T,R,M,h)}i=i.sibling}}function zo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,h=l.flags;switch(l.tag){case 22:zo(s,l),h&2048&&Gf(l.alternate,l);break;case 24:zo(s,l),h&2048&&Ff(l.alternate,l);break;default:zo(s,l)}i=i.sibling}}var Bo=8192;function hs(e){if(e.subtreeFlags&Bo)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 26:hs(e),e.flags&Bo&&e.memoizedState!==null&&w1(Un,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var i=Un;Un=nc(e.stateNode.containerInfo),hs(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Bo,Bo=16777216,hs(e),Bo=i):hs(e));break;default:hs(e)}}function zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function jo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Oe=l,jy(l,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&ur(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Gu(e)):jo(e);break;default:jo(e)}}function Gu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Oe=l,jy(l,e)}zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ur(8,i,i.return),Gu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(i));break;default:Gu(i)}e=e.sibling}}function jy(e,i){for(;Oe!==null;){var s=Oe;switch(s.tag){case 0:case 11:case 15:ur(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Oe=l;else t:for(s=e;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(Vy(l),l===s){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var kw={getCacheForType:function(e){var i=Fe(be),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},zw=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Mt=null,kt=0,Kt=0,dn=null,fr=!1,fs=!1,Qf=!1,Ui=0,ue=0,dr=0,_a=0,Yf=0,On=0,ds=0,qo=null,an=null,Kf=!1,Xf=0,Fu=1/0,Qu=null,gr=null,ke=0,mr=null,gs=null,ms=0,$f=0,Zf=null,qy=null,Ho=0,Wf=null;function gn(){if((Yt&2)!==0&&kt!==0)return kt&-kt;if(L.T!==null){var e=ns;return e!==0?e:ad()}return $i()}function Hy(){On===0&&(On=(kt&536870912)===0||Ht?Zs():536870912);var e=In.current;return e!==null&&(e.flags|=32),On}function mn(e,i,s){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ps(e,0),pr(e,kt,On,!1)),mi(e,s),((Yt&2)===0||e!==ee)&&(e===ee&&((Yt&2)===0&&(_a|=s),ue===4&&pr(e,kt,On,!1)),ri(e))}function Gy(e,i,s){if((Yt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&e.expiredLanes)===0||Gr(e,i),h=l?qw(e,i):ed(e,i,!0),d=l;do{if(h===0){fs&&!l&&pr(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!Bw(s)){h=ed(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var R=e;h=qo;var M=R.current.memoizedState.isDehydrated;if(M&&(ps(R,T).flags|=256),T=ed(R,T,!1),T!==2){if(Qf&&!M){R.errorRecoveryDisabledLanes|=d,_a|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=T}if(d=!1,h!==2)continue}}if(h===1){ps(e,0),pr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pr(l,i,On,!fr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Xf+300-En(),10<h)){if(pr(l,i,On,!fr),Ma(l,0,!0)!==0)break t;l.timeoutHandle=v_(Fy.bind(null,l,s,an,Qu,Kf,i,On,_a,ds,fr,d,2,-0,0),h);break t}Fy(l,s,an,Qu,Kf,i,On,_a,ds,fr,d,0,-0,0)}}break}while(!0);ri(e)}function Fy(e,i,s,l,h,d,T,R,M,K,it,ot,Z,W){if(e.timeoutHandle=-1,ot=i.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:T1},ky(i),ot=b1(),ot!==null)){e.cancelPendingCommit=ot(Wy.bind(null,e,i,d,s,l,h,T,R,M,it,1,Z,W)),pr(e,d,T,!K);return}Wy(e,i,d,s,l,h,T,R,M)}function Bw(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(e,i,s,l){i&=~Yf,i&=~_a,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),T=1<<d;l[d]=-1,h&=~T}s!==0&&Hn(e,s,i)}function Yu(){return(Yt&6)===0?(Go(0),!1):!0}function Jf(){if(Mt!==null){if(Kt===0)var e=Mt.return;else e=Mt,Di=fa=null,pf(e),ls=null,No=0,e=Mt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Mt=null}}function ps(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,r1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Jf(),ee=e,Mt=s=Ri(e.current,null),kt=i,Kt=0,dn=null,fr=!1,fs=Gr(e,i),Qf=!1,ds=On=Yf=_a=dr=ue=0,an=qo=null,Kf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return Ui=i,mu(),s}function Qy(e,i){It=null,L.H=Nu,i===Ao||i===Su?(i=up(),Kt=3):i===sp?(i=up(),Kt=4):Kt=i===cy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Mt===null&&(ue=1,zu(e,Rn(i,e.current)))}function Yy(){var e=L.H;return L.H=Nu,e===null?Nu:e}function Ky(){var e=L.A;return L.A=kw,e}function td(){ue=4,fr||(kt&4194048)!==kt&&In.current!==null||(fs=!0),(dr&134217727)===0&&(_a&134217727)===0||ee===null||pr(ee,kt,On,!1)}function ed(e,i,s){var l=Yt;Yt|=2;var h=Yy(),d=Ky();(ee!==e||kt!==i)&&(Qu=null,ps(e,i)),i=!1;var T=ue;t:do try{if(Kt!==0&&Mt!==null){var R=Mt,M=dn;switch(Kt){case 8:Jf(),T=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var K=Kt;if(Kt=0,dn=null,ys(e,R,M,K),s&&fs){T=0;break t}break;default:K=Kt,Kt=0,dn=null,ys(e,R,M,K)}}jw(),T=ue;break}catch(it){Qy(e,it)}while(!0);return i&&e.shellSuspendCounter++,Di=fa=null,Yt=l,L.H=h,L.A=d,Mt===null&&(ee=null,kt=0,mu()),T}function jw(){for(;Mt!==null;)Xy(Mt)}function qw(e,i){var s=Yt;Yt|=2;var l=Yy(),h=Ky();ee!==e||kt!==i?(Qu=null,Fu=En()+500,ps(e,i)):fs=Gr(e,i);t:do try{if(Kt!==0&&Mt!==null){i=Mt;var d=dn;e:switch(Kt){case 1:Kt=0,dn=null,ys(e,i,d,1);break;case 2:case 9:if(op(d)){Kt=0,dn=null,$y(i);break}i=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),ri(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:op(d)?(Kt=0,dn=null,$y(i)):(Kt=0,dn=null,ys(e,i,d,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var R=Mt;if(!T||O_(T)){Kt=0,dn=null;var M=R.sibling;if(M!==null)Mt=M;else{var K=R.return;K!==null?(Mt=K,Ku(K)):Mt=null}break e}}Kt=0,dn=null,ys(e,i,d,5);break;case 6:Kt=0,dn=null,ys(e,i,d,6);break;case 8:Jf(),ue=6;break t;default:throw Error(a(462))}}Hw();break}catch(it){Qy(e,it)}while(!0);return Di=fa=null,L.H=l,L.A=h,Yt=s,Mt!==null?0:(ee=null,kt=0,mu(),ue)}function Hw(){for(;Mt!==null&&!Ys();)Xy(Mt)}function Xy(e){var i=wy(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Ku(e):Mt=i}function $y(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=py(s,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=py(s,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:pf(i);default:Sy(s,i),i=Mt=Zm(i,Ui),i=wy(s,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Ku(e):Mt=i}function ys(e,i,s,l){Di=fa=null,pf(i),ls=null,No=0;var h=i.return;try{if(Vw(e,h,i,s,kt)){ue=1,zu(e,Rn(s,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;ue=1,zu(e,Rn(s,e.current)),Mt=null;return}i.flags&32768?(Ht||l===1?e=!0:fs||(kt&536870912)!==0?e=!1:(fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zy(i,e)):Ku(i)}function Ku(e){var i=e;do{if((i.flags&32768)!==0){Zy(i,fr);return}e=i.return;var s=Nw(i.alternate,i,Ui);if(s!==null){Mt=s;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ue===0&&(ue=5)}function Zy(e,i){do{var s=Pw(e.alternate,e);if(s!==null){s.flags&=32767,Mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=s}while(e!==null);ue=6,Mt=null}function Wy(e,i,s,l,h,d,T,R,M){e.cancelPendingCommit=null;do Xu();while(ke!==0);if((Yt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Gh,Js(e,s,d,T,R,M),e===ee&&(Mt=ee=null,kt=0),gs=i,mr=e,ms=s,$f=d,Zf=h,qy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yw(Br,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=q.p,q.p=2,T=Yt,Yt|=4;try{Lw(e,i,s)}finally{Yt=T,q.p=h,L.T=l}}ke=1,Jy(),t_(),e_()}}function Jy(){if(ke===1){ke=0;var e=mr,i=gs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var l=q.p;q.p=2;var h=Yt;Yt|=4;try{Py(i,e);var d=dd,T=jm(e.containerInfo),R=d.focusedElem,M=d.selectionRange;if(T!==R&&R&&R.ownerDocument&&Bm(R.ownerDocument.documentElement,R)){if(M!==null&&zh(R)){var K=M.start,it=M.end;if(it===void 0&&(it=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(it,R.value.length);else{var ot=R.ownerDocument||document,Z=ot&&ot.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),Rt=R.textContent.length,wt=Math.min(M.start,Rt),Wt=M.end===void 0?wt:Math.min(M.end,Rt);!W.extend&&wt>Wt&&(T=Wt,Wt=wt,wt=T);var j=zm(R,wt),B=zm(R,Wt);if(j&&B&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var F=ot.createRange();F.setStart(j.node,j.offset),W.removeAllRanges(),wt>Wt?(W.addRange(F),W.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),W.addRange(F))}}}}for(ot=[],W=R;W=W.parentNode;)W.nodeType===1&&ot.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ot.length;R++){var rt=ot[R];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}oc=!!fd,dd=fd=null}finally{Yt=h,q.p=l,L.T=s}}e.current=i,ke=2}}function t_(){if(ke===2){ke=0;var e=mr,i=gs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var l=q.p;q.p=2;var h=Yt;Yt|=4;try{Oy(e,i.alternate,i)}finally{Yt=h,q.p=l,L.T=s}}ke=3}}function e_(){if(ke===4||ke===3){ke=0,Gl();var e=mr,i=gs,s=ms,l=qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,gs=mr=null,n_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gr=null),Na(s),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=L.T,h=q.p,q.p=2,L.T=null;try{for(var d=e.onRecoverableError,T=0;T<l.length;T++){var R=l[T];d(R.value,{componentStack:R.stack})}}finally{L.T=i,q.p=h}}(ms&3)!==0&&Xu(),ri(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Wf?Ho++:(Ho=0,Wf=e):Ho=0,Go(0)}}function n_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,bo(i)))}function Xu(e){return Jy(),t_(),e_(),i_()}function i_(){if(ke!==5)return!1;var e=mr,i=$f;$f=0;var s=Na(ms),l=L.T,h=q.p;try{q.p=32>s?32:s,L.T=null,s=Zf,Zf=null;var d=mr,T=ms;if(ke=0,gs=mr=null,ms=0,(Yt&6)!==0)throw Error(a(331));var R=Yt;if(Yt|=4,By(d.current),Uy(d,d.current,T,s),Yt=R,Go(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{q.p=h,L.T=l,n_(e,i)}}function r_(e,i,s){i=Rn(s,i),i=If(e.stateNode,i,2),e=ar(e,i,2),e!==null&&(mi(e,2),ri(e))}function Jt(e,i,s){if(e.tag===3)r_(e,e,s);else for(;i!==null;){if(i.tag===3){r_(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){e=Rn(s,e),s=ly(2),l=ar(i,s,2),l!==null&&(uy(s,l,i,e),mi(l,2),ri(l));break}}i=i.return}}function nd(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new zw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Qf=!0,h.add(s),e=Gw.bind(null,e,i,s),i.then(e,e))}function Gw(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(kt&s)===s&&(ue===4||ue===3&&(kt&62914560)===kt&&300>En()-Xf?(Yt&2)===0&&ps(e,0):Yf|=s,ds===kt&&(ds=0)),ri(e)}function a_(e,i){i===0&&(i=Ws()),e=Wa(e,i),e!==null&&(mi(e,i),ri(e))}function Fw(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),a_(e,s)}function Qw(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),a_(e,s)}function Yw(e,i){return kr(e,i)}var $u=null,_s=null,id=!1,Zu=!1,rd=!1,va=0;function ri(e){e!==_s&&e.next===null&&(_s===null?$u=_s=e:_s=_s.next=e),Zu=!0,id||(id=!0,Xw())}function Go(e,i){if(!rd&&Zu){rd=!0;do for(var s=!1,l=$u;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var T=l.suspendedLanes,R=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(T&~R),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,u_(l,d))}else d=kt,d=Ma(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gr(l,d)||(s=!0,u_(l,d));l=l.next}while(s);rd=!1}}function Kw(){s_()}function s_(){Zu=id=!1;var e=0;va!==0&&(i1()&&(e=va),va=0);for(var i=En(),s=null,l=$u;l!==null;){var h=l.next,d=o_(l,i);d===0?(l.next=null,s===null?$u=h:s.next=h,h===null&&(_s=s)):(s=l,(e!==0||(d&3)!==0)&&(Zu=!0)),l=h}Go(e)}function o_(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var T=31-Ge(d),R=1<<T,M=h[T];M===-1?((R&s)===0||(R&l)!==0)&&(h[T]=$s(R,i)):M<=i&&(e.expiredLanes|=R),d&=~R}if(i=ee,s=kt,s=Ma(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gr(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&zr(l),Na(s)){case 2:case 8:s=Oa;break;case 32:s=Br;break;case 268435456:s=Va;break;default:s=Br}return l=l_.bind(null,e),s=kr(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&zr(l),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xu()&&e.callbackNode!==s)return null;var l=kt;return l=Ma(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Gy(e,l,i),o_(e,En()),e.callbackNode!=null&&e.callbackNode===s?l_.bind(null,e):null)}function u_(e,i){if(Xu())return null;Gy(e,i,!0)}function Xw(){a1(function(){(Yt&6)!==0?kr(Ks,Kw):s_()})}function ad(){return va===0&&(va=Zs()),va}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ba(""+e)}function h_(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function $w(e,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=c_((h[ge]||null).action),T=l.submitter;T&&(i=(i=T[ge]||null)?c_(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var R=new ja("action","action",null,l,h);e.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var M=T?h_(h,T):new FormData(h);Af(s,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(R.preventDefault(),M=T?h_(h,T):new FormData(h),Af(s,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var sd=0;sd<Hh.length;sd++){var od=Hh[sd],Zw=od.toLowerCase(),Ww=od[0].toUpperCase()+od.slice(1);Ln(Zw,"on"+Ww)}Ln(Gm,"onAnimationEnd"),Ln(Fm,"onAnimationIteration"),Ln(Qm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(mw,"onTransitionRun"),Ln(pw,"onTransitionStart"),Ln(yw,"onTransitionCancel"),Ln(Ym,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function f_(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var R=l[T],M=R.instance,K=R.currentTarget;if(R=R.listener,M!==d&&h.isPropagationStopped())break t;d=R,h.currentTarget=K;try{d(h)}catch(it){ku(it)}h.currentTarget=null,d=M}else for(T=0;T<l.length;T++){if(R=l[T],M=R.instance,K=R.currentTarget,R=R.listener,M!==d&&h.isPropagationStopped())break t;d=R,h.currentTarget=K;try{d(h)}catch(it){ku(it)}h.currentTarget=null,d=M}}}}function Nt(e,i){var s=i[eo];s===void 0&&(s=i[eo]=new Set);var l=e+"__bubble";s.has(l)||(d_(i,e,2,!1),s.add(l))}function ld(e,i,s){var l=0;i&&(l|=4),d_(s,e,l,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[Wu]){e[Wu]=!0,no.forEach(function(s){s!=="selectionchange"&&(Jw.has(s)||ld(s,!1,e),ld(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,ld("selectionchange",!1,i))}}function d_(e,i,s,l){switch(U_(i)){case 2:var h=R1;break;case 8:h=C1;break;default:h=bd}s=h.bind(null,i,s,e),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function cd(e,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var R=l.stateNode.containerInfo;if(R===h)break;if(T===4)for(T=l.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;R!==null;){if(T=pi(R),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){l=d=T;continue t}R=R.parentNode}}l=l.return}tu(function(){var K=d,it=bn(s),ot=[];t:{var Z=Km.get(e);if(Z!==void 0){var W=ja,Rt=e;switch(e){case"keypress":if(Xn(s)===0)break t;case"keydown":case"keyup":W=Ya;break;case"focusin":Rt="focus",W=Ga;break;case"focusout":Rt="blur",W=Ga;break;case"beforeblur":case"afterblur":W=Ga;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=lu;break;case Gm:case Fm:case Qm:W=Fa;break;case Ym:W=cu;break;case"scroll":case"scrollend":W=eu;break;case"wheel":W=Ka;break;case"copy":case"cut":case"paste":W=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=mo;break;case"toggle":case"beforetoggle":W=fu}var wt=(i&4)!==0,Wt=!wt&&(e==="scroll"||e==="scrollend"),j=wt?Z!==null?Z+"Capture":null:Z;wt=[];for(var B=K,F;B!==null;){var rt=B;if(F=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||F===null||j===null||(rt=Wr(B,j),rt!=null&&wt.push(Qo(B,rt,F))),Wt)break;B=B.return}0<wt.length&&(Z=new W(Z,Rt,null,s,it),ot.push({event:Z,listeners:wt}))}}if((i&7)===0){t:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&s!==Ei&&(Rt=s.relatedTarget||s.fromElement)&&(pi(Rt)||Rt[Tn]))break t;if((W||Z)&&(Z=it.window===it?it:(Z=it.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(Rt=s.relatedTarget||s.toElement,W=K,Rt=Rt?pi(Rt):null,Rt!==null&&(Wt=u(Rt),wt=Rt.tag,Rt!==Wt||wt!==5&&wt!==27&&wt!==6)&&(Rt=null)):(W=null,Rt=K),W!==Rt)){if(wt=An,rt="onMouseLeave",j="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(wt=mo,rt="onPointerLeave",j="onPointerEnter",B="pointer"),Wt=W==null?Z:Fn(W),F=Rt==null?Z:Fn(Rt),Z=new wt(rt,B+"leave",W,s,it),Z.target=Wt,Z.relatedTarget=F,rt=null,pi(it)===K&&(wt=new wt(j,B+"enter",Rt,s,it),wt.target=F,wt.relatedTarget=Wt,rt=wt),Wt=rt,W&&Rt)e:{for(wt=W,j=Rt,B=0,F=wt;F;F=vs(F))B++;for(F=0,rt=j;rt;rt=vs(rt))F++;for(;0<B-F;)wt=vs(wt),B--;for(;0<F-B;)j=vs(j),F--;for(;B--;){if(wt===j||j!==null&&wt===j.alternate)break e;wt=vs(wt),j=vs(j)}wt=null}else wt=null;W!==null&&g_(ot,Z,W,wt,!1),Rt!==null&&Wt!==null&&g_(ot,Wt,Rt,wt,!0)}}t:{if(Z=K?Fn(K):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var _t=Mm;else if(we(Z))if(Nm)_t=fw;else{_t=cw;var Vt=uw}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&oo(K.elementType)&&(_t=Mm):_t=hw;if(_t&&(_t=_t(e,K))){Ai(ot,_t,s,it);break t}Vt&&Vt(e,Z,K),e==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&tr(Z,"number",Z.value)}switch(Vt=K?Fn(K):window,e){case"focusin":(we(Vt)||Vt.contentEditable==="true")&&(Xa=Vt,Bh=K,_o=null);break;case"focusout":_o=Bh=Xa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,qm(ot,s,it);break;case"selectionchange":if(gw)break;case"keydown":case"keyup":qm(ot,s,it)}var vt;if(Wn)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Lt?J(e,s)&&(bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(v&&s.locale!=="ko"&&(Lt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Lt&&(vt=uo()):(Kn=it,er="value"in Kn?Kn.value:Kn.textContent,Lt=!0)),Vt=Ju(K,bt),0<Vt.length&&(bt=new fo(bt,e,null,s,it),ot.push({event:bt,listeners:Vt}),vt?bt.data=vt:(vt=dt(s),vt!==null&&(bt.data=vt)))),(vt=y?Te(e,s):Ut(e,s))&&(bt=Ju(K,"onBeforeInput"),0<bt.length&&(Vt=new fo("onBeforeInput","beforeinput",null,s,it),ot.push({event:Vt,listeners:bt}),Vt.data=vt)),$w(ot,e,K,s,it)}f_(ot,i)})}function Qo(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Ju(e,i){for(var s=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wr(e,s),h!=null&&l.unshift(Qo(e,h,d)),h=Wr(e,i),h!=null&&l.push(Qo(e,h,d))),e.tag===3)return l;e=e.return}return[]}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,i,s,l,h){for(var d=i._reactName,T=[];s!==null&&s!==l;){var R=s,M=R.alternate,K=R.stateNode;if(R=R.tag,M!==null&&M===l)break;R!==5&&R!==26&&R!==27||K===null||(M=K,h?(K=Wr(s,d),K!=null&&T.unshift(Qo(s,K,M))):h||(K=Wr(s,d),K!=null&&T.push(Qo(s,K,M)))),s=s.return}T.length!==0&&e.push({event:i,listeners:T})}var t1=/\r\n?/g,e1=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(t1,`
`).replace(e1,"")}function p_(e,i){return i=m_(i),m_(e)===i}function tc(){}function Zt(e,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(e,""+l);break;case"className":Qn(e,"class",l);break;case"tabIndex":Qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,s,l);break;case"style":so(e,l,d);break;case"data":if(i!=="object"){Qn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ba(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ba(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=tc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ba(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Ji(e,"popover",l);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mh.get(s)||s,Ji(e,s,l))}}function hd(e,i,s,l,h,d){switch(s){case"style":so(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=e[ge]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ji(e,s,l)}}}function ze(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var T=s[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Zt(e,i,d,T,s,null)}}h&&Zt(e,i,"srcSet",s.srcSet,s,null),l&&Zt(e,i,"src",s.src,s,null);return;case"input":Nt("invalid",e);var R=d=T=h=null,M=null,K=null;for(l in s)if(s.hasOwnProperty(l)){var it=s[l];if(it!=null)switch(l){case"name":h=it;break;case"type":T=it;break;case"checked":M=it;break;case"defaultChecked":K=it;break;case"value":d=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:Zt(e,i,l,it,s,null)}}Xr(e,d,R,M,K,T,h,!1),za(e);return;case"select":Nt("invalid",e),l=T=d=null;for(h in s)if(s.hasOwnProperty(h)&&(R=s[h],R!=null))switch(h){case"value":d=R;break;case"defaultValue":T=R;break;case"multiple":l=R;default:Zt(e,i,h,R,s,null)}i=d,s=T,e.multiple=!!l,i!=null?vi(e,!!l,i,!1):s!=null&&vi(e,!!l,s,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(T in s)if(s.hasOwnProperty(T)&&(R=s[T],R!=null))switch(T){case"value":l=R;break;case"defaultValue":h=R;break;case"children":d=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Zt(e,i,T,R,s,null)}$r(e,l,h,d),za(e);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,M,l,s,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Fo.length;l++)Nt(Fo[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(l=s[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Zt(e,i,K,l,s,null)}return;default:if(oo(i)){for(it in s)s.hasOwnProperty(it)&&(l=s[it],l!==void 0&&hd(e,i,it,l,s,void 0));return}}for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null&&Zt(e,i,R,l,s,null))}function n1(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,T=null,R=null,M=null,K=null,it=null;for(W in s){var ot=s[W];if(s.hasOwnProperty(W)&&ot!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=ot;default:l.hasOwnProperty(W)||Zt(e,i,W,null,l,ot)}}for(var Z in l){var W=l[Z];if(ot=s[Z],l.hasOwnProperty(Z)&&(W!=null||ot!=null))switch(Z){case"type":d=W;break;case"name":h=W;break;case"checked":K=W;break;case"defaultChecked":it=W;break;case"value":T=W;break;case"defaultValue":R=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:W!==ot&&Zt(e,i,Z,W,l,ot)}}ln(e,T,R,M,K,it,d,h);return;case"select":W=T=R=Z=null;for(d in s)if(M=s[d],s.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":W=M;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,M)}for(h in l)if(d=l[h],M=s[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":Z=d;break;case"defaultValue":R=d;break;case"multiple":T=d;default:d!==M&&Zt(e,i,h,d,l,M)}i=R,s=T,l=W,Z!=null?vi(e,!!s,Z,!1):!!l!=!!s&&(i!=null?vi(e,!!s,i,!0):vi(e,!!s,s?[]:"",!1));return;case"textarea":W=Z=null;for(R in s)if(h=s[R],s.hasOwnProperty(R)&&h!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Zt(e,i,R,null,l,h)}for(T in l)if(h=l[T],d=s[T],l.hasOwnProperty(T)&&(h!=null||d!=null))switch(T){case"value":Z=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Zt(e,i,T,h,l,d)}Xt(e,Z,W);return;case"option":for(var Rt in s)if(Z=s[Rt],s.hasOwnProperty(Rt)&&Z!=null&&!l.hasOwnProperty(Rt))switch(Rt){case"selected":e.selected=!1;break;default:Zt(e,i,Rt,null,l,Z)}for(M in l)if(Z=l[M],W=s[M],l.hasOwnProperty(M)&&Z!==W&&(Z!=null||W!=null))switch(M){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Zt(e,i,M,Z,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in s)Z=s[wt],s.hasOwnProperty(wt)&&Z!=null&&!l.hasOwnProperty(wt)&&Zt(e,i,wt,null,l,Z);for(K in l)if(Z=l[K],W=s[K],l.hasOwnProperty(K)&&Z!==W&&(Z!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Zt(e,i,K,Z,l,W)}return;default:if(oo(i)){for(var Wt in s)Z=s[Wt],s.hasOwnProperty(Wt)&&Z!==void 0&&!l.hasOwnProperty(Wt)&&hd(e,i,Wt,void 0,l,Z);for(it in l)Z=l[it],W=s[it],!l.hasOwnProperty(it)||Z===W||Z===void 0&&W===void 0||hd(e,i,it,Z,l,W);return}}for(var j in s)Z=s[j],s.hasOwnProperty(j)&&Z!=null&&!l.hasOwnProperty(j)&&Zt(e,i,j,null,l,Z);for(ot in l)Z=l[ot],W=s[ot],!l.hasOwnProperty(ot)||Z===W||Z==null&&W==null||Zt(e,i,ot,Z,l,W)}var fd=null,dd=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function gd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var md=null;function i1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,a1=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(s1)}:v_;function s1(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function T_(e,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var T=e.ownerDocument;if(s&1&&Yo(T.documentElement),s&2&&Yo(T.body),s&4)for(s=T.head,Yo(s),T=s.firstChild;T;){var R=T.nextSibling,M=T.nodeName;T[Fr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=R}}if(h===0){e.removeChild(d),el(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);el(i)}function pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),Wi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function o1(e,i,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Fr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function l1(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function u1(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var _d=null;function w_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function b_(e,i,s){switch(i=ec(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wi(e)}var Vn=new Map,S_=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=q.d;q.d={f:c1,r:h1,D:f1,C:d1,L:g1,m:m1,X:y1,S:p1,M:_1};function c1(){var e=ki.f(),i=Yu();return e||i}function h1(e){var i=Gn(e);i!==null&&i.tag===5&&i.type==="form"?Gp(i):ki.r(e)}var Es=typeof document>"u"?null:document;function A_(e,i,s){var l=Es;if(l&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function f1(e){ki.D(e),A_("dns-prefetch",e,null)}function d1(e,i){ki.C(e,i),A_("preconnect",e,i)}function g1(e,i,s){ki.L(e,i,s);var l=Es;if(l&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+me(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+me(s.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Ts(e);break;case"script":d=ws(e)}Vn.has(d)||(e=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ko(d))||i==="script"&&l.querySelector(Xo(d))||(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function m1(e,i){ki.m(e,i);var s=Es;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ws(e)}if(!Vn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Vn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Xo(d)))return}l=s.createElement("link"),ze(l,"link",e),ce(l),s.head.appendChild(l)}}}function p1(e,i,s){ki.S(e,i,s);var l=Es;if(l&&e){var h=Xe(l).hoistableStyles,d=Ts(e);i=i||"default";var T=h.get(d);if(!T){var R={loading:0,preload:null};if(T=l.querySelector(Ko(d)))R.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Vn.get(d))&&vd(e,s);var M=T=l.createElement("link");ce(M),ze(M,"link",e),M._p=new Promise(function(K,it){M.onload=K,M.onerror=it}),M.addEventListener("load",function(){R.loading|=1}),M.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ic(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:R},h.set(d,T)}}}function y1(e,i){ki.X(e,i);var s=Es;if(s&&e){var l=Xe(s).hoistableScripts,h=ws(e),d=l.get(h);d||(d=s.querySelector(Xo(h)),d||(e=E({src:e,async:!0},i),(i=Vn.get(h))&&Ed(e,i),d=s.createElement("script"),ce(d),ze(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _1(e,i){ki.M(e,i);var s=Es;if(s&&e){var l=Xe(s).hoistableScripts,h=ws(e),d=l.get(h);d||(d=s.querySelector(Xo(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Ed(e,i),d=s.createElement("script"),ce(d),ze(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function R_(e,i,s,l){var h=(h=St.current)?nc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ts(s.href),s=Xe(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ts(s.href);var d=Xe(h).hoistableStyles,T=d.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,T),(d=h.querySelector(Ko(e)))&&!d._p&&(T.instance=d,T.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),d||v1(h,e,s,T.state))),i&&l===null)throw Error(a(528,""));return T}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ws(s),s=Xe(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ts(e){return'href="'+me(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function C_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function v1(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",s),ce(i),e.head.appendChild(i))}function ws(e){return'[src="'+me(e)+'"]'}function Xo(e){return"script[async]"+e}function x_(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+me(s.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),ze(l,"style",h),ic(l,s.precedence,e),i.instance=l;case"stylesheet":h=Ts(s.href);var d=e.querySelector(Ko(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=C_(s),(h=Vn.get(h))&&vd(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var T=d;return T._p=new Promise(function(R,M){T.onload=R,T.onerror=M}),ze(d,"link",l),i.state.loading|=4,ic(d,s.precedence,e),i.instance=d;case"script":return d=ws(s.src),(h=e.querySelector(Xo(d)))?(i.instance=h,ce(h),h):(l=s,(h=Vn.get(d))&&(l=E({},s),Ed(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ic(l,s.precedence,e));return i.instance}function ic(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,T=0;T<l.length;T++){var R=l[T];if(R.dataset.precedence===i)d=R;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var rc=null;function D_(e,i,s){if(rc===null){var l=new Map,h=rc=new Map;h.set(s,l)}else h=rc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Fr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=e+T;var R=l.get(T);R?R.push(d):l.set(T,[d])}}return l}function I_(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function E1(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var $o=null;function T1(){}function w1(e,i,s){if($o===null)throw Error(a(475));var l=$o;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ts(s.href),d=e.querySelector(Ko(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ac.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,s=C_(s),(h=Vn.get(h))&&vd(s,h),d=d.createElement("link"),ce(d);var T=d;T._p=new Promise(function(R,M){T.onload=R,T.onerror=M}),ze(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=ac.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function b1(){if($o===null)throw Error(a(475));var e=$o;return e.stylesheets&&e.count===0&&Td(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Td(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function Td(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,i.forEach(S1,e),sc=null,ac.call(e))}function S1(e,i){if(!(i.state.loading&4)){var s=sc.get(e);if(s)var l=s.get(null);else{s=new Map,sc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var T=h[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}h=i.instance,T=h.getAttribute("data-precedence"),d=s.get(T)||l,d===l&&s.set(null,h),s.set(T,h),this.count++,l=ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Zo={$$typeof:G,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function A1(e,i,s,l,h,d,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V_(e,i,s,l,h,d,T,R,M,K,it,ot){return e=new A1(e,i,s,T,R,M,K,ot),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=ef(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},sf(d),e}function M_(e){return e?(e=Ja,e):Ja}function N_(e,i,s,l,h,d){h=M_(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ar(e,l,i),s!==null&&(mn(s,e,i),Co(s,e,i))}function P_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function wd(e,i){P_(e,i),(e=e.alternate)&&P_(e,i)}function L_(e){if(e.tag===13){var i=Wa(e,67108864);i!==null&&mn(i,e,67108864),wd(e,67108864)}}var oc=!0;function R1(e,i,s,l){var h=L.T;L.T=null;var d=q.p;try{q.p=2,bd(e,i,s,l)}finally{q.p=d,L.T=h}}function C1(e,i,s,l){var h=L.T;L.T=null;var d=q.p;try{q.p=8,bd(e,i,s,l)}finally{q.p=d,L.T=h}}function bd(e,i,s,l){if(oc){var h=Sd(l);if(h===null)cd(e,i,l,lc,s),k_(e,l);else if(D1(h,e,i,s,l))l.stopPropagation();else if(k_(e,l),i&4&&-1<x1.indexOf(e)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Mn(d.pendingLanes);if(T!==0){var R=d;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var M=1<<31-Ge(T);R.entanglements[1]|=M,T&=~M}ri(d),(Yt&6)===0&&(Fu=En()+500,Go(0))}}break;case 13:R=Wa(d,2),R!==null&&mn(R,d,2),Yu(),wd(d,2)}if(d=Sd(l),d===null&&cd(e,i,l,lc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else cd(e,i,l,null,s)}}function Sd(e){return e=bn(e),Ad(e)}var lc=null;function Ad(e){if(lc=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=f(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return lc=e,null}function U_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case Ks:return 2;case Oa:return 8;case Br:case xh:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Rd=!1,_r=null,vr=null,Er=null,Wo=new Map,Jo=new Map,Tr=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(e,i){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Wo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(i.pointerId)}}function tl(e,i,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&L_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function D1(e,i,s,l,h){switch(i){case"focusin":return _r=tl(_r,e,i,s,l,h),!0;case"dragenter":return vr=tl(vr,e,i,s,l,h),!0;case"mouseover":return Er=tl(Er,e,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Wo.set(d,tl(Wo.get(d)||null,e,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Jo.set(d,tl(Jo.get(d)||null,e,i,s,l,h)),!0}return!1}function z_(e){var i=pi(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){e.blockedOn=i,Yl(e.priority,function(){if(s.tag===13){var l=gn();l=Xi(l);var h=Wa(s,l);h!==null&&mn(h,s,l),wd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ei=l,s.target.dispatchEvent(l),Ei=null}else return i=Gn(s),i!==null&&L_(i),e.blockedOn=s,!1;i.shift()}return!0}function B_(e,i,s){uc(e)&&s.delete(i)}function I1(){Rd=!1,_r!==null&&uc(_r)&&(_r=null),vr!==null&&uc(vr)&&(vr=null),Er!==null&&uc(Er)&&(Er=null),Wo.forEach(B_),Jo.forEach(B_)}function cc(e,i){e.blockedOn===i&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,I1)))}var hc=null;function j_(e){hc!==e&&(hc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var d=Gn(s);d!==null&&(e.splice(i,3),i-=3,Af(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function el(e){function i(M){return cc(M,e)}_r!==null&&cc(_r,e),vr!==null&&cc(vr,e),Er!==null&&cc(Er,e),Wo.forEach(i),Jo.forEach(i);for(var s=0;s<Tr.length;s++){var l=Tr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Tr.length&&(s=Tr[0],s.blockedOn===null);)z_(s),s.blockedOn===null&&Tr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],T=h[ge]||null;if(typeof d=="function")T||j_(s);else if(T){var R=null;if(d&&d.hasAttribute("formAction")){if(h=d,T=d[ge]||null)R=T.formAction;else if(Ad(h)!==null)continue}else R=T.action;typeof R=="function"?s[l+1]=R:(s.splice(l,3),l-=3),j_(s)}}}function Cd(e){this._internalRoot=e}fc.prototype.render=Cd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=gn();N_(s,l,e,i,null,null)},fc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;N_(e.current,2,null,e,null,null),Yu(),i[Tn]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var i=$i();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Tr.length&&i!==0&&i<Tr[s].priority;s++);Tr.splice(s,0,e),s===0&&z_(e)}};var q_=t.version;if(q_!=="19.1.0")throw Error(a(527,q_,"19.1.0"));q.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var O1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{oe=dc.inject(O1),Qt=dc}catch{}}return il.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,l="",h=ry,d=ay,T=sy,R=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks)),i=V_(e,1,!1,null,null,s,l,h,d,T,R,null),e[Tn]=i.current,ud(e),new Cd(i)},il.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=ry,T=ay,R=sy,M=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),i=V_(e,1,!0,i,s??null,l,h,d,T,R,M,K),i.context=M_(null),s=i.current,l=gn(),l=Xi(l),h=rr(l),h.callback=null,ar(s,h,l),s=l,i.current.lanes=s,mi(i,s),ri(i),e[Tn]=i.current,ud(e),new fc(i)},il.version="19.1.0",il}var W_;function H1(){if(W_)return Od.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=q1(),Od.exports}var G1=H1();const F1=Ng(G1);var rl={},J_;function Q1(){if(J_)return rl;J_=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.parse=f,rl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,U){const k=new u,Y=A.length;if(Y<2)return k;const Q=(U==null?void 0:U.decode)||E;let $=0;do{const ct=A.indexOf("=",$);if(ct===-1)break;const G=A.indexOf(";",$),_=G===-1?Y:G;if(ct>_){$=A.lastIndexOf(";",ct-1)+1;continue}const w=g(A,$,ct),I=m(A,ct,w),x=A.slice(w,I);if(k[x]===void 0){let b=g(A,ct+1,_),S=m(A,_,b);const O=Q(A.slice(b,S));k[x]=O}$=_+1}while($<Y);return k}function g(A,U,k){do{const Y=A.charCodeAt(U);if(Y!==32&&Y!==9)return U}while(++U<k);return k}function m(A,U,k){for(;U>k;){const Y=A.charCodeAt(--U);if(Y!==32&&Y!==9)return U+1}return k}function p(A,U,k){const Y=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const Q=Y(U);if(!t.test(Q))throw new TypeError(`argument val is invalid: ${U}`);let $=A+"="+Q;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!C(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function C(A){return o.call(A)==="[object Date]"}return rl}Q1();var tv="popstate";function Y1(r={}){function t(a,o){let{pathname:u,search:f,hash:g}=a.location;return ng("",{pathname:u,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:vl(o)}return X1(t,n,null,r)}function Ae(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ui(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K1(){return Math.random().toString(36).substring(2,10)}function ev(r,t){return{usr:r.state,key:r.key,idx:t}}function ng(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ol(t):t,state:n,key:t&&t.key||a||K1()}}function vl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ol(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function X1(r,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,g="POP",m=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function C(){g="POP";let Q=E(),$=Q==null?null:Q-p;p=Q,m&&m({action:g,location:Y.location,delta:$})}function A(Q,$){g="PUSH";let ct=ng(Y.location,Q,$);p=E()+1;let G=ev(ct,p),_=Y.createHref(ct);try{f.pushState(G,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(_)}u&&m&&m({action:g,location:Y.location,delta:1})}function U(Q,$){g="REPLACE";let ct=ng(Y.location,Q,$);p=E();let G=ev(ct,p),_=Y.createHref(ct);f.replaceState(G,"",_),u&&m&&m({action:g,location:Y.location,delta:0})}function k(Q){return $1(Q)}let Y={get action(){return g},get location(){return r(o,f)},listen(Q){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(tv,C),m=Q,()=>{o.removeEventListener(tv,C),m=null}},createHref(Q){return t(o,Q)},createURL:k,encodeLocation(Q){let $=k(Q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:U,go(Q){return f.go(Q)}};return Y}function $1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:vl(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function P0(r,t,n="/"){return Z1(r,t,n,!1)}function Z1(r,t,n,a){let o=typeof t=="string"?Ol(t):t,u=qi(o.pathname||"/",n);if(u==null)return null;let f=L0(r);W1(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let p=ub(u);g=ob(f[m],p,a)}return g}function L0(r,t=[],n=[],a=""){let o=(u,f,g)=>{let m={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Ae(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=zi([a,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(Ae(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),L0(u.children,t,E,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:ab(p,u.index),routesMeta:E})};return r.forEach((u,f)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))o(u,f);else for(let m of U0(u.path))o(u,f,m)}),t}function U0(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=U0(a.join("/")),g=[];return g.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...f),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function W1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:sb(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var J1=/^:[\w-]+$/,tb=3,eb=2,nb=1,ib=10,rb=-2,nv=r=>r==="*";function ab(r,t){let n=r.split("/"),a=n.length;return n.some(nv)&&(a+=rb),t&&(a+=eb),n.filter(o=>!nv(o)).reduce((o,u)=>o+(J1.test(u)?tb:u===""?nb:ib),a)}function sb(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function ob(r,t,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let g=0;g<a.length;++g){let m=a[g],p=g===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",C=Oc({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},E),A=m.route;if(!C&&p&&n&&!a[a.length-1].route.index&&(C=Oc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:zi([u,C.pathname]),pathnameBase:db(zi([u,C.pathnameBase])),route:A}),C.pathnameBase!=="/"&&(u=zi([u,C.pathnameBase]))}return f}function Oc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=lb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:C},A)=>{if(E==="*"){let k=g[A]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const U=g[A];return C&&!U?p[E]=void 0:p[E]=(U||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function lb(r,t=!1,n=!0){ui(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(a.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function ub(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ui(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function cb(r,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Ol(r):r;return{pathname:n?n.startsWith("/")?n:hb(n,t):t,search:gb(a),hash:mb(o)}}function hb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pd(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function k0(r){let t=fb(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function z0(r,t,n,a=!1){let o;typeof r=="string"?o=Ol(r):(o={...r},Ae(!o.pathname||!o.pathname.includes("?"),Pd("?","pathname","search",o)),Ae(!o.pathname||!o.pathname.includes("#"),Pd("#","pathname","hash",o)),Ae(!o.search||!o.search.includes("#"),Pd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,g;if(f==null)g=n;else{let C=t.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),C-=1;o.pathname=A.join("/")}g=C>=0?t[C]:"/"}let m=cb(o,g),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||E)&&(m.pathname+="/"),m}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),db=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),gb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function pb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var B0=["POST","PUT","PATCH","DELETE"];new Set(B0);var yb=["GET",...B0];new Set(yb);var zs=tt.createContext(null);zs.displayName="DataRouter";var nh=tt.createContext(null);nh.displayName="DataRouterState";var j0=tt.createContext({isTransitioning:!1});j0.displayName="ViewTransition";var _b=tt.createContext(new Map);_b.displayName="Fetchers";var vb=tt.createContext(null);vb.displayName="Await";var hi=tt.createContext(null);hi.displayName="Navigation";var ih=tt.createContext(null);ih.displayName="Location";var fi=tt.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Pg=tt.createContext(null);Pg.displayName="RouteError";function Eb(r,{relative:t}={}){Ae(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=tt.useContext(hi),{hash:o,pathname:u,search:f}=Ml(r,{relative:t}),g=u;return n!=="/"&&(g=u==="/"?n:zi([n,u])),a.createHref({pathname:g,search:f,hash:o})}function Vl(){return tt.useContext(ih)!=null}function xa(){return Ae(Vl(),"useLocation() may be used only in the context of a <Router> component."),tt.useContext(ih).location}var q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H0(r){tt.useContext(hi).static||tt.useLayoutEffect(r)}function Tb(){let{isDataRoute:r}=tt.useContext(fi);return r?Pb():wb()}function wb(){Ae(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let r=tt.useContext(zs),{basename:t,navigator:n}=tt.useContext(hi),{matches:a}=tt.useContext(fi),{pathname:o}=xa(),u=JSON.stringify(k0(a)),f=tt.useRef(!1);return H0(()=>{f.current=!0}),tt.useCallback((m,p={})=>{if(ui(f.current,q0),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=z0(m,JSON.parse(u),o,p.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:zi([t,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[t,n,u,o,r])}tt.createContext(null);function bb(){let{matches:r}=tt.useContext(fi),t=r[r.length-1];return t?t.params:{}}function Ml(r,{relative:t}={}){let{matches:n}=tt.useContext(fi),{pathname:a}=xa(),o=JSON.stringify(k0(n));return tt.useMemo(()=>z0(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function Sb(r,t,n,a){Ae(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=tt.useContext(hi),{matches:u}=tt.useContext(fi),f=u[u.length-1],g=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";G0(m,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let C=xa(),A;A=C;let U=A.pathname||"/",k=U;if(p!=="/"){let $=p.replace(/^\//,"").split("/");k="/"+U.replace(/^\//,"").split("/").slice($.length).join("/")}let Y=P0(r,{pathname:k});return ui(E||Y!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ui(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Db(Y&&Y.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:zi([p,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:zi([p,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,a)}function Ab(){let r=Nb(),t=pb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=tt.createElement(tt.Fragment,null,tt.createElement("p",null,"💿 Hey developer 👋"),tt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",tt.createElement("code",{style:u},"ErrorBoundary")," or"," ",tt.createElement("code",{style:u},"errorElement")," prop on your route.")),tt.createElement(tt.Fragment,null,tt.createElement("h2",null,"Unexpected Application Error!"),tt.createElement("h3",{style:{fontStyle:"italic"}},t),n?tt.createElement("pre",{style:o},n):null,f)}var Rb=tt.createElement(Ab,null),Cb=class extends tt.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?tt.createElement(fi.Provider,{value:this.props.routeContext},tt.createElement(Pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xb({routeContext:r,match:t,children:n}){let a=tt.useContext(zs);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),tt.createElement(fi.Provider,{value:r},n)}function Db(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Ae(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,g=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=m),p.route.id){let{loaderData:E,errors:C}=n,A=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||A){f=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((m,p,E)=>{let C,A=!1,U=null,k=null;n&&(C=u&&p.route.id?u[p.route.id]:void 0,U=p.route.errorElement||Rb,f&&(g<0&&E===0?(G0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):g===E&&(A=!0,k=p.route.hydrateFallbackElement||null)));let Y=t.concat(o.slice(0,E+1)),Q=()=>{let $;return C?$=U:A?$=k:p.route.Component?$=tt.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=m,tt.createElement(xb,{match:p,routeContext:{outlet:m,matches:Y,isDataRoute:n!=null},children:$})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?tt.createElement(Cb,{location:n.location,revalidation:n.revalidation,component:U,error:C,children:Q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):Q()},null)}function Lg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ib(r){let t=tt.useContext(zs);return Ae(t,Lg(r)),t}function Ob(r){let t=tt.useContext(nh);return Ae(t,Lg(r)),t}function Vb(r){let t=tt.useContext(fi);return Ae(t,Lg(r)),t}function Ug(r){let t=Vb(r),n=t.matches[t.matches.length-1];return Ae(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Mb(){return Ug("useRouteId")}function Nb(){var a;let r=tt.useContext(Pg),t=Ob("useRouteError"),n=Ug("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function Pb(){let{router:r}=Ib("useNavigate"),t=Ug("useNavigate"),n=tt.useRef(!1);return H0(()=>{n.current=!0}),tt.useCallback(async(o,u={})=>{ui(n.current,q0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var iv={};function G0(r,t,n){!t&&!iv[r]&&(iv[r]=!0,ui(!1,n))}tt.memo(Lb);function Lb({routes:r,future:t,state:n}){return Sb(r,void 0,n,t)}function Ub({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Ae(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),g=tt.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ol(n));let{pathname:m="/",search:p="",hash:E="",state:C=null,key:A="default"}=n,U=tt.useMemo(()=>{let k=qi(m,f);return k==null?null:{location:{pathname:k,search:p,hash:E,state:C,key:A},navigationType:a}},[f,m,p,E,C,A,a]);return ui(U!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:tt.createElement(hi.Provider,{value:g},tt.createElement(ih.Provider,{children:t,value:U}))}var wc="get",bc="application/x-www-form-urlencoded";function rh(r){return r!=null&&typeof r.tagName=="string"}function kb(r){return rh(r)&&r.tagName.toLowerCase()==="button"}function zb(r){return rh(r)&&r.tagName.toLowerCase()==="form"}function Bb(r){return rh(r)&&r.tagName.toLowerCase()==="input"}function jb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qb(r,t){return r.button===0&&(!t||t==="_self")&&!jb(r)}var gc=null;function Hb(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var Gb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(r){return r!=null&&!Gb.has(r)?(ui(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):r}function Fb(r,t){let n,a,o,u,f;if(zb(r)){let g=r.getAttribute("action");a=g?qi(g,t):null,n=r.getAttribute("method")||wc,o=Ld(r.getAttribute("enctype"))||bc,u=new FormData(r)}else if(kb(r)||Bb(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(a=m?qi(m,t):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||wc,o=Ld(r.getAttribute("formenctype"))||Ld(g.getAttribute("enctype"))||bc,u=new FormData(g,r),!Hb()){let{name:p,type:E,value:C}=r;if(E==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,C)}}else{if(rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,a=null,o=bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function kg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Qb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Kb(r,t,n){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Qb(u,n);return f.links?f.links():[]}return[]}));return Wb(a.flat(1).filter(Yb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rv(r,t,n,a,o,u){let f=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,g=(m,p)=>{var E;return n[p].pathname!==m.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,p)=>f(m,p)||g(m,p)):u==="data"?t.filter((m,p)=>{var C;let E=a.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Xb(r,t,{includeHydrateFallback:n}={}){return $b(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $b(r){return[...new Set(r)]}function Zb(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function Wb(r,t){let n=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(Zb(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jb=new Set([100,101,204,205]);function tS(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&qi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function F0(){let r=tt.useContext(zs);return kg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eS(){let r=tt.useContext(nh);return kg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zg=tt.createContext(void 0);zg.displayName="FrameworkContext";function Q0(){let r=tt.useContext(zg);return kg(r,"You must render this element inside a <HydratedRouter> element"),r}function nS(r,t){let n=tt.useContext(zg),[a,o]=tt.useState(!1),[u,f]=tt.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:E,onTouchStart:C}=t,A=tt.useRef(null);tt.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=$=>{$.forEach(ct=>{f(ct.isIntersecting)})},Q=new IntersectionObserver(Y,{threshold:.5});return A.current&&Q.observe(A.current),()=>{Q.disconnect()}}},[r]),tt.useEffect(()=>{if(a){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[a]);let U=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:al(g,U),onBlur:al(m,k),onMouseEnter:al(p,U),onMouseLeave:al(E,k),onTouchStart:al(C,U)}]:[!1,A,{}]}function al(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function iS({page:r,...t}){let{router:n}=F0(),a=tt.useMemo(()=>P0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?tt.createElement(aS,{page:r,matches:a,...t}):null}function rS(r){let{manifest:t,routeModules:n}=Q0(),[a,o]=tt.useState([]);return tt.useEffect(()=>{let u=!1;return Kb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),a}function aS({page:r,matches:t,...n}){let a=xa(),{manifest:o,routeModules:u}=Q0(),{basename:f}=F0(),{loaderData:g,matches:m}=eS(),p=tt.useMemo(()=>rv(r,t,m,o,a,"data"),[r,t,m,o,a]),E=tt.useMemo(()=>rv(r,t,m,o,a,"assets"),[r,t,m,o,a]),C=tt.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let k=new Set,Y=!1;if(t.forEach($=>{var G;let ct=o.routes[$.route.id];!ct||!ct.hasLoader||(!p.some(_=>_.route.id===$.route.id)&&$.route.id in g&&((G=u[$.route.id])!=null&&G.shouldRevalidate)||ct.hasClientLoader?Y=!0:k.add($.route.id))}),k.size===0)return[];let Q=tS(r,f);return Y&&k.size>0&&Q.searchParams.set("_routes",t.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[Q.pathname+Q.search]},[f,g,a,o,p,t,r,u]),A=tt.useMemo(()=>Xb(E,o),[E,o]),U=rS(E);return tt.createElement(tt.Fragment,null,C.map(k=>tt.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),A.map(k=>tt.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),U.map(({key:k,link:Y})=>tt.createElement("link",{key:k,...Y})))}function sS(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y0&&(window.__reactRouterVersion="7.6.1")}catch{}function oS({basename:r,children:t,window:n}){let a=tt.useRef();a.current==null&&(a.current=Y1({window:n,v5Compat:!0}));let o=a.current,[u,f]=tt.useState({action:o.action,location:o.location}),g=tt.useCallback(m=>{tt.startTransition(()=>f(m))},[f]);return tt.useLayoutEffect(()=>o.listen(g),[o,g]),tt.createElement(Ub,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var K0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X0=tt.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:g,target:m,to:p,preventScrollReset:E,viewTransition:C,...A},U){let{basename:k}=tt.useContext(hi),Y=typeof p=="string"&&K0.test(p),Q,$=!1;if(typeof p=="string"&&Y&&(Q=p,Y0))try{let S=new URL(window.location.href),O=p.startsWith("//")?new URL(S.protocol+p):new URL(p),N=qi(O.pathname,k);O.origin===S.origin&&N!=null?p=N+O.search+O.hash:$=!0}catch{ui(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ct=Eb(p,{relative:o}),[G,_,w]=nS(a,A),I=hS(p,{replace:f,state:g,target:m,preventScrollReset:E,relative:o,viewTransition:C});function x(S){t&&t(S),S.defaultPrevented||I(S)}let b=tt.createElement("a",{...A,...w,href:Q||ct,onClick:$||u?t:x,ref:sS(U,_),target:m,"data-discover":!Y&&n==="render"?"true":void 0});return G&&!Y?tt.createElement(tt.Fragment,null,b,tt.createElement(iS,{page:ct})):b});X0.displayName="Link";var lS=tt.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:g,children:m,...p},E){let C=Ml(f,{relative:p.relative}),A=xa(),U=tt.useContext(nh),{navigator:k,basename:Y}=tt.useContext(hi),Q=U!=null&&pS(C)&&g===!0,$=k.encodeLocation?k.encodeLocation(C).pathname:C.pathname,ct=A.pathname,G=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(ct=ct.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&Y&&(G=qi(G,Y)||G);const _=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let w=ct===$||!o&&ct.startsWith($)&&ct.charAt(_)==="/",I=G!=null&&(G===$||!o&&G.startsWith($)&&G.charAt($.length)==="/"),x={isActive:w,isPending:I,isTransitioning:Q},b=w?t:void 0,S;typeof a=="function"?S=a(x):S=[a,w?"active":null,I?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(x):u;return tt.createElement(X0,{...p,"aria-current":b,className:S,ref:E,style:O,to:f,viewTransition:g},typeof m=="function"?m(x):m)});lS.displayName="NavLink";var uS=tt.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:f=wc,action:g,onSubmit:m,relative:p,preventScrollReset:E,viewTransition:C,...A},U)=>{let k=gS(),Y=mS(g,{relative:p}),Q=f.toLowerCase()==="get"?"get":"post",$=typeof g=="string"&&K0.test(g),ct=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let _=G.nativeEvent.submitter,w=(_==null?void 0:_.getAttribute("formmethod"))||f;k(_||G.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:C})};return tt.createElement("form",{ref:U,method:Q,action:Y,onSubmit:a?m:ct,...A,"data-discover":!$&&r==="render"?"true":void 0})});uS.displayName="Form";function cS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(r){let t=tt.useContext(zs);return Ae(t,cS(r)),t}function hS(r,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let g=Tb(),m=xa(),p=Ml(r,{relative:u});return tt.useCallback(E=>{if(qb(E,t)){E.preventDefault();let C=n!==void 0?n:vl(m)===vl(p);g(r,{replace:C,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[m,g,p,n,a,t,r,o,u,f])}var fS=0,dS=()=>`__${String(++fS)}__`;function gS(){let{router:r}=$0("useSubmit"),{basename:t}=tt.useContext(hi),n=Mb();return tt.useCallback(async(a,o={})=>{let{action:u,method:f,encType:g,formData:m,body:p}=Fb(a,t);if(o.navigate===!1){let E=o.fetcherKey||dS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function mS(r,{relative:t}={}){let{basename:n}=tt.useContext(hi),a=tt.useContext(fi);Ae(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Ml(r||".",{relative:t})},f=xa();if(r==null){u.search=f.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(E=>E==="")){g.delete("index"),m.filter(C=>C).forEach(C=>g.append("index",C));let E=g.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:zi([n,u.pathname])),vl(u)}function pS(r,t={}){let n=tt.useContext(j0);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$0("useViewTransitionState"),o=Ml(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=qi(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=qi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Oc(o.pathname,f)!=null||Oc(o.pathname,u)!=null}[...Jb];var Ud={exports:{}},kd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function yS(){if(av)return kd;av=1;var r=eh();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:t,a=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,f=r.useMemo,g=r.useDebugValue;return kd.useSyncExternalStoreWithSelector=function(m,p,E,C,A){var U=o(null);if(U.current===null){var k={hasValue:!1,value:null};U.current=k}else k=U.current;U=f(function(){function Q(w){if(!$){if($=!0,ct=w,w=C(w),A!==void 0&&k.hasValue){var I=k.value;if(A(I,w))return G=I}return G=w}if(I=G,n(ct,w))return I;var x=C(w);return A!==void 0&&A(I,x)?(ct=w,I):(ct=w,G=x)}var $=!1,ct,G,_=E===void 0?null:E;return[function(){return Q(p())},_===null?void 0:function(){return Q(_())}]},[p,E,C,A]);var Y=a(m,U[0],U[1]);return u(function(){k.hasValue=!0,k.value=Y},[Y]),g(Y),Y},kd}var sv;function _S(){return sv||(sv=1,Ud.exports=yS()),Ud.exports}var vS=_S();function ES(r){r()}function TS(){let r=null,t=null;return{clear(){r=null,t=null},notify(){ES(()=>{let n=r;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=r;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!a||r===null||(a=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var ov={notify(){},get:()=>[]};function wS(r,t){let n,a=ov,o=0,u=!1;function f(Y){E();const Q=a.subscribe(Y);let $=!1;return()=>{$||($=!0,Q(),C())}}function g(){a.notify()}function m(){k.onStateChange&&k.onStateChange()}function p(){return u}function E(){o++,n||(n=r.subscribe(m),a=TS())}function C(){o--,n&&o===0&&(n(),n=void 0,a.clear(),a=ov)}function A(){u||(u=!0,E())}function U(){u&&(u=!1,C())}const k={addNestedSub:f,notifyNestedSubs:g,handleChangeWrapper:m,isSubscribed:p,trySubscribe:A,tryUnsubscribe:U,getListeners:()=>a};return k}var bS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SS=bS(),AS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RS=AS(),CS=()=>SS||RS?tt.useLayoutEffect:tt.useEffect,xS=CS(),zd=Symbol.for("react-redux-context"),Bd=typeof globalThis<"u"?globalThis:{};function DS(){if(!tt.createContext)return{};const r=Bd[zd]??(Bd[zd]=new Map);let t=r.get(tt.createContext);return t||(t=tt.createContext(null),r.set(tt.createContext,t)),t}var xr=DS();function IS(r){const{children:t,context:n,serverState:a,store:o}=r,u=tt.useMemo(()=>{const m=wS(o);return{store:o,subscription:m,getServerState:a?()=>a:void 0}},[o,a]),f=tt.useMemo(()=>o.getState(),[o]);xS(()=>{const{subscription:m}=u;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),f!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[u,f]);const g=n||xr;return tt.createElement(g.Provider,{value:u},t)}var OS=IS;function Bg(r=xr){return function(){return tt.useContext(r)}}var Z0=Bg();function W0(r=xr){const t=r===xr?Z0:Bg(r),n=()=>{const{store:a}=t();return a};return Object.assign(n,{withTypes:()=>n}),n}var VS=W0();function MS(r=xr){const t=r===xr?VS:W0(r),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var jg=MS(),NS=(r,t)=>r===t;function PS(r=xr){const t=r===xr?Z0:Bg(r),n=(a,o={})=>{const{equalityFn:u=NS}=typeof o=="function"?{equalityFn:o}:o,f=t(),{store:g,subscription:m,getServerState:p}=f;tt.useRef(!0);const E=tt.useCallback({[a.name](A){return a(A)}}[a.name],[a]),C=vS.useSyncExternalStoreWithSelector(m.addNestedSub,g.getState,p||g.getState,E,u);return tt.useDebugValue(C),C};return Object.assign(n,{withTypes:()=>n}),n}var si=PS();function Be(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var LS=typeof Symbol=="function"&&Symbol.observable||"@@observable",lv=LS,jd=()=>Math.random().toString(36).substring(7).split("").join("."),US={INIT:`@@redux/INIT${jd()}`,REPLACE:`@@redux/REPLACE${jd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jd()}`},Vc=US;function qg(r){if(typeof r!="object"||r===null)return!1;let t=r;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t||Object.getPrototypeOf(r)===null}function J0(r,t,n){if(typeof r!="function")throw new Error(Be(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Be(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Be(1));return n(J0)(r,t)}let a=r,o=t,u=new Map,f=u,g=0,m=!1;function p(){f===u&&(f=new Map,u.forEach((Q,$)=>{f.set($,Q)}))}function E(){if(m)throw new Error(Be(3));return o}function C(Q){if(typeof Q!="function")throw new Error(Be(4));if(m)throw new Error(Be(5));let $=!0;p();const ct=g++;return f.set(ct,Q),function(){if($){if(m)throw new Error(Be(6));$=!1,p(),f.delete(ct),u=null}}}function A(Q){if(!qg(Q))throw new Error(Be(7));if(typeof Q.type>"u")throw new Error(Be(8));if(typeof Q.type!="string")throw new Error(Be(17));if(m)throw new Error(Be(9));try{m=!0,o=a(o,Q)}finally{m=!1}return(u=f).forEach(ct=>{ct()}),Q}function U(Q){if(typeof Q!="function")throw new Error(Be(10));a=Q,A({type:Vc.REPLACE})}function k(){const Q=C;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Be(11));function ct(){const _=$;_.next&&_.next(E())}return ct(),{unsubscribe:Q(ct)}},[lv](){return this}}}return A({type:Vc.INIT}),{dispatch:A,subscribe:C,getState:E,replaceReducer:U,[lv]:k}}function kS(r){Object.keys(r).forEach(t=>{const n=r[t];if(typeof n(void 0,{type:Vc.INIT})>"u")throw new Error(Be(12));if(typeof n(void 0,{type:Vc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Be(13))})}function zS(r){const t=Object.keys(r),n={};for(let u=0;u<t.length;u++){const f=t[u];typeof r[f]=="function"&&(n[f]=r[f])}const a=Object.keys(n);let o;try{kS(n)}catch(u){o=u}return function(f={},g){if(o)throw o;let m=!1;const p={};for(let E=0;E<a.length;E++){const C=a[E],A=n[C],U=f[C],k=A(U,g);if(typeof k>"u")throw g&&g.type,new Error(Be(14));p[C]=k,m=m||k!==U}return m=m||a.length!==Object.keys(f).length,m?p:f}}function Mc(...r){return r.length===0?t=>t:r.length===1?r[0]:r.reduce((t,n)=>(...a)=>t(n(...a)))}function BS(...r){return t=>(n,a)=>{const o=t(n,a);let u=()=>{throw new Error(Be(15))};const f={getState:o.getState,dispatch:(m,...p)=>u(m,...p)},g=r.map(m=>m(f));return u=Mc(...g)(o.dispatch),{...o,dispatch:u}}}function jS(r){return qg(r)&&"type"in r&&typeof r.type=="string"}var tE=Symbol.for("immer-nothing"),uv=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function zn(r,...t){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Vs=Object.getPrototypeOf;function ba(r){return!!r&&!!r[_n]}function Hi(r){var t;return r?eE(r)||Array.isArray(r)||!!r[uv]||!!((t=r.constructor)!=null&&t[uv])||sh(r)||oh(r):!1}var qS=Object.prototype.constructor.toString();function eE(r){if(!r||typeof r!="object")return!1;const t=Vs(r);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qS}function Nc(r,t){ah(r)===0?Reflect.ownKeys(r).forEach(n=>{t(n,r[n],r)}):r.forEach((n,a)=>t(a,n,r))}function ah(r){const t=r[_n];return t?t.type_:Array.isArray(r)?1:sh(r)?2:oh(r)?3:0}function ig(r,t){return ah(r)===2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)}function nE(r,t,n){const a=ah(r);a===2?r.set(t,n):a===3?r.add(n):r[t]=n}function HS(r,t){return r===t?r!==0||1/r===1/t:r!==r&&t!==t}function sh(r){return r instanceof Map}function oh(r){return r instanceof Set}function Ea(r){return r.copy_||r.base_}function rg(r,t){if(sh(r))return new Map(r);if(oh(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const n=eE(r);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(r);delete a[_n];let o=Reflect.ownKeys(a);for(let u=0;u<o.length;u++){const f=o[u],g=a[f];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(a[f]={configurable:!0,writable:!0,enumerable:g.enumerable,value:r[f]})}return Object.create(Vs(r),a)}else{const a=Vs(r);if(a!==null&&n)return{...r};const o=Object.create(a);return Object.assign(o,r)}}function Hg(r,t=!1){return lh(r)||ba(r)||!Hi(r)||(ah(r)>1&&(r.set=r.add=r.clear=r.delete=GS),Object.freeze(r),t&&Object.entries(r).forEach(([n,a])=>Hg(a,!0))),r}function GS(){zn(2)}function lh(r){return Object.isFrozen(r)}var FS={};function Sa(r){const t=FS[r];return t||zn(0,r),t}var El;function iE(){return El}function QS(r,t){return{drafts_:[],parent_:r,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cv(r,t){t&&(Sa("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=t)}function ag(r){sg(r),r.drafts_.forEach(YS),r.drafts_=null}function sg(r){r===El&&(El=r.parent_)}function hv(r){return El=QS(El,r)}function YS(r){const t=r[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fv(r,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return r!==void 0&&r!==n?(n[_n].modified_&&(ag(t),zn(4)),Hi(r)&&(r=Pc(t,r),t.parent_||Lc(t,r)),t.patches_&&Sa("Patches").generateReplacementPatches_(n[_n].base_,r,t.patches_,t.inversePatches_)):r=Pc(t,n,[]),ag(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),r!==tE?r:void 0}function Pc(r,t,n){if(lh(t))return t;const a=t[_n];if(!a)return Nc(t,(o,u)=>dv(r,a,t,o,u,n)),t;if(a.scope_!==r)return t;if(!a.modified_)return Lc(r,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let u=o,f=!1;a.type_===3&&(u=new Set(o),o.clear(),f=!0),Nc(u,(g,m)=>dv(r,a,o,g,m,n,f)),Lc(r,o,!1),n&&r.patches_&&Sa("Patches").generatePatches_(a,n,r.patches_,r.inversePatches_)}return a.copy_}function dv(r,t,n,a,o,u,f){if(ba(o)){const g=u&&t&&t.type_!==3&&!ig(t.assigned_,a)?u.concat(a):void 0,m=Pc(r,o,g);if(nE(n,a,m),ba(m))r.canAutoFreeze_=!1;else return}else f&&n.add(o);if(Hi(o)&&!lh(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Pc(r,o),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,a)&&Lc(r,o)}}function Lc(r,t,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Hg(t,n)}function KS(r,t){const n=Array.isArray(r),a={type_:n?1:0,scope_:t?t.scope_:iE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=a,u=Gg;n&&(o=[a],u=Tl);const{revoke:f,proxy:g}=Proxy.revocable(o,u);return a.draft_=g,a.revoke_=f,g}var Gg={get(r,t){if(t===_n)return r;const n=Ea(r);if(!ig(n,t))return XS(r,n,t);const a=n[t];return r.finalized_||!Hi(a)?a:a===qd(r.base_,t)?(Hd(r),r.copy_[t]=lg(a,r)):a},has(r,t){return t in Ea(r)},ownKeys(r){return Reflect.ownKeys(Ea(r))},set(r,t,n){const a=rE(Ea(r),t);if(a!=null&&a.set)return a.set.call(r.draft_,n),!0;if(!r.modified_){const o=qd(Ea(r),t),u=o==null?void 0:o[_n];if(u&&u.base_===n)return r.copy_[t]=n,r.assigned_[t]=!1,!0;if(HS(n,o)&&(n!==void 0||ig(r.base_,t)))return!0;Hd(r),og(r)}return r.copy_[t]===n&&(n!==void 0||t in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[t])||(r.copy_[t]=n,r.assigned_[t]=!0),!0},deleteProperty(r,t){return qd(r.base_,t)!==void 0||t in r.base_?(r.assigned_[t]=!1,Hd(r),og(r)):delete r.assigned_[t],r.copy_&&delete r.copy_[t],!0},getOwnPropertyDescriptor(r,t){const n=Ea(r),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:r.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){zn(11)},getPrototypeOf(r){return Vs(r.base_)},setPrototypeOf(){zn(12)}},Tl={};Nc(Gg,(r,t)=>{Tl[r]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tl.deleteProperty=function(r,t){return Tl.set.call(this,r,t,void 0)};Tl.set=function(r,t,n){return Gg.set.call(this,r[0],t,n,r[0])};function qd(r,t){const n=r[_n];return(n?Ea(n):r)[t]}function XS(r,t,n){var o;const a=rE(t,n);return a?"value"in a?a.value:(o=a.get)==null?void 0:o.call(r.draft_):void 0}function rE(r,t){if(!(t in r))return;let n=Vs(r);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Vs(n)}}function og(r){r.modified_||(r.modified_=!0,r.parent_&&og(r.parent_))}function Hd(r){r.copy_||(r.copy_=rg(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var $S=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const u=n;n=t;const f=this;return function(m=u,...p){return f.produce(m,E=>n.call(this,E,...p))}}typeof n!="function"&&zn(6),a!==void 0&&typeof a!="function"&&zn(7);let o;if(Hi(t)){const u=hv(this),f=lg(t,void 0);let g=!0;try{o=n(f),g=!1}finally{g?ag(u):sg(u)}return cv(u,a),fv(o,u)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===tE&&(o=void 0),this.autoFreeze_&&Hg(o,!0),a){const u=[],f=[];Sa("Patches").generateReplacementPatches_(t,o,u,f),a(u,f)}return o}else zn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(f,...g)=>this.produceWithPatches(f,m=>t(m,...g));let a,o;return[this.produce(t,n,(f,g)=>{a=f,o=g}),a,o]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Hi(r)||zn(8),ba(r)&&(r=ZS(r));const t=hv(this),n=lg(r,void 0);return n[_n].isManual_=!0,sg(t),n}finishDraft(r,t){const n=r&&r[_n];(!n||!n.isManual_)&&zn(9);const{scope_:a}=n;return cv(a,t),fv(void 0,a)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}n>-1&&(t=t.slice(n+1));const a=Sa("Patches").applyPatches_;return ba(r)?a(r,t):this.produce(r,o=>a(o,t))}};function lg(r,t){const n=sh(r)?Sa("MapSet").proxyMap_(r,t):oh(r)?Sa("MapSet").proxySet_(r,t):KS(r,t);return(t?t.scope_:iE()).drafts_.push(n),n}function ZS(r){return ba(r)||zn(10,r),aE(r)}function aE(r){if(!Hi(r)||lh(r))return r;const t=r[_n];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rg(r,t.scope_.immer_.useStrictShallowCopy_)}else n=rg(r,!0);return Nc(n,(a,o)=>{nE(n,a,aE(o))}),t&&(t.finalized_=!1),n}var vn=new $S,sE=vn.produce;vn.produceWithPatches.bind(vn);vn.setAutoFreeze.bind(vn);vn.setUseStrictShallowCopy.bind(vn);vn.applyPatches.bind(vn);vn.createDraft.bind(vn);vn.finishDraft.bind(vn);function oE(r){return({dispatch:n,getState:a})=>o=>u=>typeof u=="function"?u(n,a,r):o(u)}var WS=oE(),JS=oE,tA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mc:Mc.apply(null,arguments)},eA=r=>r&&typeof r.match=="function";function fl(r,t){function n(...a){if(t){let o=t(...a);if(!o)throw new Error(Bi(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:a[0]}}return n.toString=()=>`${r}`,n.type=r,n.match=a=>jS(a)&&a.type===r,n}var lE=class sl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sl.prototype)}static get[Symbol.species](){return sl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sl(...t[0].concat(this)):new sl(...t.concat(this))}};function gv(r){return Hi(r)?sE(r,()=>{}):r}function mc(r,t,n){return r.has(t)?r.get(t):r.set(t,n(t)).get(t)}function nA(r){return typeof r=="boolean"}var iA=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=t??{};let f=new lE;return n&&(nA(n)?f.push(WS):f.push(JS(n.extraArgument))),f},rA="RTK_autoBatch",mv=r=>t=>{setTimeout(t,r)},aA=(r={type:"raf"})=>t=>(...n)=>{const a=t(...n);let o=!0,u=!1,f=!1;const g=new Set,m=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mv(10):r.type==="callback"?r.queueNotification:mv(r.timeout),p=()=>{f=!1,u&&(u=!1,g.forEach(E=>E()))};return Object.assign({},a,{subscribe(E){const C=()=>o&&E(),A=a.subscribe(C);return g.add(E),()=>{A(),g.delete(E)}},dispatch(E){var C;try{return o=!((C=E==null?void 0:E.meta)!=null&&C[rA]),u=!o,u&&(f||(f=!0,m(p))),a.dispatch(E)}finally{o=!0}}})},sA=r=>function(n){const{autoBatch:a=!0}=n??{};let o=new lE(r);return a&&o.push(aA(typeof a=="object"?a:void 0)),o};function oA(r){const t=iA(),{reducer:n=void 0,middleware:a,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=r||{};let g;if(typeof n=="function")g=n;else if(qg(n))g=zS(n);else throw new Error(Bi(1));let m;typeof a=="function"?m=a(t):m=t();let p=Mc;o&&(p=tA({trace:!1,...typeof o=="object"&&o}));const E=BS(...m),C=sA(E);let A=typeof f=="function"?f(C):C();const U=p(...A);return J0(g,u,U)}function uE(r){const t={},n=[];let a;const o={addCase(u,f){const g=typeof u=="string"?u:u.type;if(!g)throw new Error(Bi(28));if(g in t)throw new Error(Bi(29));return t[g]=f,o},addMatcher(u,f){return n.push({matcher:u,reducer:f}),o},addDefaultCase(u){return a=u,o}};return r(o),[t,n,a]}function lA(r){return typeof r=="function"}function uA(r,t){let[n,a,o]=uE(t),u;if(lA(r))u=()=>gv(r());else{const g=gv(r);u=()=>g}function f(g=u(),m){let p=[n[m.type],...a.filter(({matcher:E})=>E(m)).map(({reducer:E})=>E)];return p.filter(E=>!!E).length===0&&(p=[o]),p.reduce((E,C)=>{if(C)if(ba(E)){const U=C(E,m);return U===void 0?E:U}else{if(Hi(E))return sE(E,A=>C(A,m));{const A=C(E,m);if(A===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return E},g)}return f.getInitialState=u,f}var cA=(r,t)=>eA(r)?r.match(t):r(t);function hA(...r){return t=>r.some(n=>cA(n,t))}var fA="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dA=(r=21)=>{let t="",n=r;for(;n--;)t+=fA[Math.random()*64|0];return t},gA=["name","message","stack","code"],Gd=class{constructor(r,t){xd(this,"_type");this.payload=r,this.meta=t}},pv=class{constructor(r,t){xd(this,"_type");this.payload=r,this.meta=t}},mA=r=>{if(typeof r=="object"&&r!==null){const t={};for(const n of gA)typeof r[n]=="string"&&(t[n]=r[n]);return t}return{message:String(r)}},yv="External signal was aborted",Nl=(()=>{function r(t,n,a){const o=fl(t+"/fulfilled",(m,p,E,C)=>({payload:m,meta:{...C||{},arg:E,requestId:p,requestStatus:"fulfilled"}})),u=fl(t+"/pending",(m,p,E)=>({payload:void 0,meta:{...E||{},arg:p,requestId:m,requestStatus:"pending"}})),f=fl(t+"/rejected",(m,p,E,C,A)=>({payload:C,error:(a&&a.serializeError||mA)(m||"Rejected"),meta:{...A||{},arg:E,requestId:p,rejectedWithValue:!!C,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function g(m,{signal:p}={}){return(E,C,A)=>{const U=a!=null&&a.idGenerator?a.idGenerator(m):dA(),k=new AbortController;let Y,Q;function $(G){Q=G,k.abort()}p&&(p.aborted?$(yv):p.addEventListener("abort",()=>$(yv),{once:!0}));const ct=async function(){var w,I;let G;try{let x=(w=a==null?void 0:a.condition)==null?void 0:w.call(a,m,{getState:C,extra:A});if(yA(x)&&(x=await x),x===!1||k.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const b=new Promise((S,O)=>{Y=()=>{O({name:"AbortError",message:Q||"Aborted"})},k.signal.addEventListener("abort",Y)});E(u(U,m,(I=a==null?void 0:a.getPendingMeta)==null?void 0:I.call(a,{requestId:U,arg:m},{getState:C,extra:A}))),G=await Promise.race([b,Promise.resolve(n(m,{dispatch:E,getState:C,extra:A,requestId:U,signal:k.signal,abort:$,rejectWithValue:(S,O)=>new Gd(S,O),fulfillWithValue:(S,O)=>new pv(S,O)})).then(S=>{if(S instanceof Gd)throw S;return S instanceof pv?o(S.payload,U,m,S.meta):o(S,U,m)})])}catch(x){G=x instanceof Gd?f(null,U,m,x.payload,x.meta):f(x,U,m)}finally{Y&&k.signal.removeEventListener("abort",Y)}return a&&!a.dispatchConditionRejection&&f.match(G)&&G.meta.condition||E(G),G}();return Object.assign(ct,{abort:$,requestId:U,arg:m,unwrap(){return ct.then(pA)}})}}return Object.assign(g,{pending:u,rejected:f,fulfilled:o,settled:hA(f,o),typePrefix:t})}return r.withTypes=()=>r,r})();function pA(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function yA(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var _A=Symbol.for("rtk-slice-createasyncthunk");function vA(r,t){return`${r}/${t}`}function EA({creators:r}={}){var n;const t=(n=r==null?void 0:r.asyncThunk)==null?void 0:n[_A];return function(o){const{name:u,reducerPath:f=u}=o;if(!u)throw new Error(Bi(11));const g=(typeof o.reducers=="function"?o.reducers(wA()):o.reducers)||{},m=Object.keys(g),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase(_,w){const I=typeof _=="string"?_:_.type;if(!I)throw new Error(Bi(12));if(I in p.sliceCaseReducersByType)throw new Error(Bi(13));return p.sliceCaseReducersByType[I]=w,E},addMatcher(_,w){return p.sliceMatchers.push({matcher:_,reducer:w}),E},exposeAction(_,w){return p.actionCreators[_]=w,E},exposeCaseReducer(_,w){return p.sliceCaseReducersByName[_]=w,E}};m.forEach(_=>{const w=g[_],I={reducerName:_,type:vA(u,_),createNotation:typeof o.reducers=="function"};SA(w)?RA(I,w,E,t):bA(I,w,E)});function C(){const[_={},w=[],I=void 0]=typeof o.extraReducers=="function"?uE(o.extraReducers):[o.extraReducers],x={..._,...p.sliceCaseReducersByType};return uA(o.initialState,b=>{for(let S in x)b.addCase(S,x[S]);for(let S of p.sliceMatchers)b.addMatcher(S.matcher,S.reducer);for(let S of w)b.addMatcher(S.matcher,S.reducer);I&&b.addDefaultCase(I)})}const A=_=>_,U=new Map,k=new WeakMap;let Y;function Q(_,w){return Y||(Y=C()),Y(_,w)}function $(){return Y||(Y=C()),Y.getInitialState()}function ct(_,w=!1){function I(b){let S=b[_];return typeof S>"u"&&w&&(S=mc(k,I,$)),S}function x(b=A){const S=mc(U,w,()=>new WeakMap);return mc(S,b,()=>{const O={};for(const[N,z]of Object.entries(o.selectors??{}))O[N]=TA(z,b,()=>mc(k,b,$),w);return O})}return{reducerPath:_,getSelectors:x,get selectors(){return x(I)},selectSlice:I}}const G={name:u,reducer:Q,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:$,...ct(f),injectInto(_,{reducerPath:w,...I}={}){const x=w??f;return _.inject({reducerPath:x,reducer:Q},I),{...G,...ct(x,!0)}}};return G}}function TA(r,t,n,a){function o(u,...f){let g=t(u);return typeof g>"u"&&a&&(g=n()),r(g,...f)}return o.unwrapped=r,o}var cE=EA();function wA(){function r(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return r.withTypes=()=>r,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:r}}function bA({type:r,reducerName:t,createNotation:n},a,o){let u,f;if("reducer"in a){if(n&&!AA(a))throw new Error(Bi(17));u=a.reducer,f=a.prepare}else u=a;o.addCase(r,u).exposeCaseReducer(t,u).exposeAction(t,f?fl(r,f):fl(r))}function SA(r){return r._reducerDefinitionType==="asyncThunk"}function AA(r){return r._reducerDefinitionType==="reducerWithPrepare"}function RA({type:r,reducerName:t},n,a,o){if(!o)throw new Error(Bi(18));const{payloadCreator:u,fulfilled:f,pending:g,rejected:m,settled:p,options:E}=n,C=o(r,u,E);a.exposeAction(t,C),f&&a.addCase(C.fulfilled,f),g&&a.addCase(C.pending,g),m&&a.addCase(C.rejected,m),p&&a.addMatcher(C.settled,p),a.exposeCaseReducer(t,{fulfilled:f||pc,pending:g||pc,rejected:m||pc,settled:p||pc})}function pc(){}function Bi(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const CA=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},xA=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],g=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,m=o+2<r.length,p=m?r[o+2]:0,E=u>>2,C=(u&3)<<4|g>>4;let A=(g&15)<<2|p>>6,U=p&63;m||(U=64,f||(A=64)),a.push(n[E],n[C],n[A],n[U])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(hE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):xA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||p==null||C==null)throw new DA;const A=u<<2|g>>4;if(a.push(A),p!==64){const U=g<<4&240|p>>2;if(a.push(U),C!==64){const k=p<<6&192|C;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(r){const t=hE(r);return fE.encodeByteArray(t,!0)},Uc=function(r){return IA(r).replace(/\./g,"")},OA=function(r){try{return fE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=()=>VA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof _v>"u")return;const r=_v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&OA(r[1]);return t&&JSON.parse(t)},Fg=()=>{try{return CA()||MA()||NA()||PA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LA=r=>{var t,n;return(n=(t=Fg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},UA=r=>{const t=LA(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},dE=()=>{var r;return(r=Fg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r){return r.endsWith(".cloudworkstations.dev")}async function zA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(f)),""].join(".")}const dl={};function jA(){const r={prod:[],emulator:[]};for(const t of Object.keys(dl))dl[t]?r.emulator.push(t):r.prod.push(t);return r}function qA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let vv=!1;function HA(r,t){if(typeof window>"u"||typeof document>"u"||!Qg(window.location.host)||dl[r]===t||dl[r]||vv)return;dl[r]=t;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=jA().prod.length>0;function f(){const A=document.getElementById(a);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{vv=!0,f()},A}function E(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function C(){const A=qA(a),U=n("text"),k=document.getElementById(U)||document.createElement("span"),Y=n("learnmore"),Q=document.getElementById(Y)||document.createElement("a"),$=n("preprendIcon"),ct=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const G=A.element;g(G),E(Q,Y);const _=p();m(ct,$),G.append(ct,k,Q,_),document.body.appendChild(G)}u?(k.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){var r;const t=(r=Fg())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class Bs extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=XA,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gE.prototype.create)}}class gE{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?$A(u,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Bs(o,g,a)}}function $A(r,t){return r.replace(ZA,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const ZA=/\{\$([^}]+)}/g;function kc(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=t[o];if(Ev(u)&&Ev(f)){if(!kc(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r){return r&&r._delegate?r._delegate:r}class wl{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new kA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tR(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&f.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:JA(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JA(r){return r===Ta?void 0:r}function tR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const nR={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},iR=Bt.INFO,rR={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},aR=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=rR[t];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mE{constructor(t){this.name=t,this._logLevel=iR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const sR=(r,t)=>t.some(n=>r instanceof n);let Tv,wv;function oR(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,ug=new WeakMap,yE=new WeakMap,Fd=new WeakMap,Yg=new WeakMap;function uR(r){const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Sr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&pE.set(n,r)}).catch(()=>{}),Yg.set(t,r),t}function cR(r){if(ug.has(r))return;const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ug.set(r,t)}let cg={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return ug.get(r);if(t==="objectStoreNames")return r.objectStoreNames||yE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hR(r){cg=r(cg)}function fR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Qd(this),t,...n);return yE.set(a,t.sort?t.sort():[t]),Sr(a)}:lR().includes(r)?function(...t){return r.apply(Qd(this),t),Sr(pE.get(this))}:function(...t){return Sr(r.apply(Qd(this),t))}}function dR(r){return typeof r=="function"?fR(r):(r instanceof IDBTransaction&&cR(r),sR(r,oR())?new Proxy(r,cg):r)}function Sr(r){if(r instanceof IDBRequest)return uR(r);if(Fd.has(r))return Fd.get(r);const t=dR(r);return t!==r&&(Fd.set(r,t),Yg.set(t,r)),t}const Qd=r=>Yg.get(r);function gR(r,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),g=Sr(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Sr(f.result),m.oldVersion,m.newVersion,Sr(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const mR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],Yd=new Map;function bv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=pR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||mR.includes(n)))return;const u=async function(f,...g){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&m.done]))[0]};return Yd.set(t,u),u}hR(r=>({...r,get:(t,n,a)=>bv(t,n)||r.get(t,n,a),has:(t,n)=>!!bv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function _R(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hg="@firebase/app",Sv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new mE("@firebase/app"),vR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",wR="@firebase/app-check-compat",bR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",RR="@firebase/database",CR="@firebase/data-connect",xR="@firebase/database-compat",DR="@firebase/functions",IR="@firebase/functions-compat",OR="@firebase/installations",VR="@firebase/installations-compat",MR="@firebase/messaging",NR="@firebase/messaging-compat",PR="@firebase/performance",LR="@firebase/performance-compat",UR="@firebase/remote-config",kR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",jR="@firebase/firestore",qR="@firebase/ai",HR="@firebase/firestore-compat",GR="firebase",FR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",QR={[hg]:"fire-core",[vR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[bR]:"fire-app-check",[wR]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[RR]:"fire-rtdb",[CR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[DR]:"fire-fn",[IR]:"fire-fn-compat",[OR]:"fire-iid",[VR]:"fire-iid-compat",[MR]:"fire-fcm",[NR]:"fire-fcm-compat",[PR]:"fire-perf",[LR]:"fire-perf-compat",[UR]:"fire-rc",[kR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[jR]:"fire-fst",[HR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,YR=new Map,dg=new Map;function Av(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Bc(r){const t=r.name;if(dg.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;dg.set(t,r);for(const n of zc.values())Av(n,r);for(const n of YR.values())Av(n,r);return!0}function KR(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function XR(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new gE("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=FR;function _E(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:fg,automaticDataCollectionEnabled:!0},t),o=a.name;if(typeof o!="string"||!o)throw Ar.create("bad-app-name",{appName:String(o)});if(n||(n=dE()),!n)throw Ar.create("no-options");const u=zc.get(o);if(u){if(kc(n,u.options)&&kc(a,u.config))return u;throw Ar.create("duplicate-app",{appName:o})}const f=new eR(o);for(const m of dg.values())f.addComponent(m);const g=new ZR(n,a,f);return zc.set(o,g),g}function JR(r=fg){const t=zc.get(r);if(!t&&r===fg&&dE())return _E();if(!t)throw Ar.create("no-app",{appName:r});return t}function Ds(r,t,n){var a;let o=(a=QR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const g=[`Unable to register library "${o}" with version "${t}":`];u&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}Bc(new wl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebase-heartbeat-database",eC=1,bl="firebase-heartbeat-store";let Kd=null;function vE(){return Kd||(Kd=gR(tC,eC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ar.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function nC(r){try{const n=(await vE()).transaction(bl),a=await n.objectStore(bl).get(EE(r));return await n.done,a}catch(t){if(t instanceof Bs)Gi.warn(t.message);else{const n=Ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}async function Rv(r,t){try{const a=(await vE()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,EE(r)),await a.done}catch(n){if(n instanceof Bs)Gi.warn(n.message);else{const a=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(a.message)}}}function EE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=1024,rC=30;class aC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Cv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>rC){const f=lC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Gi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:a,unsentEntries:o}=sC(this._heartbeatsCache.heartbeats),u=Uc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function sC(r,t=iC){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class oC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function xv(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function lC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r){Bc(new wl("platform-logger",t=>new yR(t),"PRIVATE")),Bc(new wl("heartbeat",t=>new aC(t),"PRIVATE")),Ds(hg,Sv,r),Ds(hg,Sv,"esm2017"),Ds("fire-js","")}uC("");var cC="firebase",hC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(cC,hC,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,TE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,b){function S(){}S.prototype=b.prototype,x.D=b.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(O,N,z){for(var V=Array(arguments.length-2),at=2;at<arguments.length;at++)V[at-2]=arguments[at];return b.prototype[N].apply(O,V)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,S){S||(S=0);var O=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)O[N]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(N=0;16>N;++N)O[N]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=x.g[0],S=x.g[1],N=x.g[2];var z=x.g[3],V=b+(z^S&(N^z))+O[0]+3614090360&4294967295;b=S+(V<<7&4294967295|V>>>25),V=z+(N^b&(S^N))+O[1]+3905402710&4294967295,z=b+(V<<12&4294967295|V>>>20),V=N+(S^z&(b^S))+O[2]+606105819&4294967295,N=z+(V<<17&4294967295|V>>>15),V=S+(b^N&(z^b))+O[3]+3250441966&4294967295,S=N+(V<<22&4294967295|V>>>10),V=b+(z^S&(N^z))+O[4]+4118548399&4294967295,b=S+(V<<7&4294967295|V>>>25),V=z+(N^b&(S^N))+O[5]+1200080426&4294967295,z=b+(V<<12&4294967295|V>>>20),V=N+(S^z&(b^S))+O[6]+2821735955&4294967295,N=z+(V<<17&4294967295|V>>>15),V=S+(b^N&(z^b))+O[7]+4249261313&4294967295,S=N+(V<<22&4294967295|V>>>10),V=b+(z^S&(N^z))+O[8]+1770035416&4294967295,b=S+(V<<7&4294967295|V>>>25),V=z+(N^b&(S^N))+O[9]+2336552879&4294967295,z=b+(V<<12&4294967295|V>>>20),V=N+(S^z&(b^S))+O[10]+4294925233&4294967295,N=z+(V<<17&4294967295|V>>>15),V=S+(b^N&(z^b))+O[11]+2304563134&4294967295,S=N+(V<<22&4294967295|V>>>10),V=b+(z^S&(N^z))+O[12]+1804603682&4294967295,b=S+(V<<7&4294967295|V>>>25),V=z+(N^b&(S^N))+O[13]+4254626195&4294967295,z=b+(V<<12&4294967295|V>>>20),V=N+(S^z&(b^S))+O[14]+2792965006&4294967295,N=z+(V<<17&4294967295|V>>>15),V=S+(b^N&(z^b))+O[15]+1236535329&4294967295,S=N+(V<<22&4294967295|V>>>10),V=b+(N^z&(S^N))+O[1]+4129170786&4294967295,b=S+(V<<5&4294967295|V>>>27),V=z+(S^N&(b^S))+O[6]+3225465664&4294967295,z=b+(V<<9&4294967295|V>>>23),V=N+(b^S&(z^b))+O[11]+643717713&4294967295,N=z+(V<<14&4294967295|V>>>18),V=S+(z^b&(N^z))+O[0]+3921069994&4294967295,S=N+(V<<20&4294967295|V>>>12),V=b+(N^z&(S^N))+O[5]+3593408605&4294967295,b=S+(V<<5&4294967295|V>>>27),V=z+(S^N&(b^S))+O[10]+38016083&4294967295,z=b+(V<<9&4294967295|V>>>23),V=N+(b^S&(z^b))+O[15]+3634488961&4294967295,N=z+(V<<14&4294967295|V>>>18),V=S+(z^b&(N^z))+O[4]+3889429448&4294967295,S=N+(V<<20&4294967295|V>>>12),V=b+(N^z&(S^N))+O[9]+568446438&4294967295,b=S+(V<<5&4294967295|V>>>27),V=z+(S^N&(b^S))+O[14]+3275163606&4294967295,z=b+(V<<9&4294967295|V>>>23),V=N+(b^S&(z^b))+O[3]+4107603335&4294967295,N=z+(V<<14&4294967295|V>>>18),V=S+(z^b&(N^z))+O[8]+1163531501&4294967295,S=N+(V<<20&4294967295|V>>>12),V=b+(N^z&(S^N))+O[13]+2850285829&4294967295,b=S+(V<<5&4294967295|V>>>27),V=z+(S^N&(b^S))+O[2]+4243563512&4294967295,z=b+(V<<9&4294967295|V>>>23),V=N+(b^S&(z^b))+O[7]+1735328473&4294967295,N=z+(V<<14&4294967295|V>>>18),V=S+(z^b&(N^z))+O[12]+2368359562&4294967295,S=N+(V<<20&4294967295|V>>>12),V=b+(S^N^z)+O[5]+4294588738&4294967295,b=S+(V<<4&4294967295|V>>>28),V=z+(b^S^N)+O[8]+2272392833&4294967295,z=b+(V<<11&4294967295|V>>>21),V=N+(z^b^S)+O[11]+1839030562&4294967295,N=z+(V<<16&4294967295|V>>>16),V=S+(N^z^b)+O[14]+4259657740&4294967295,S=N+(V<<23&4294967295|V>>>9),V=b+(S^N^z)+O[1]+2763975236&4294967295,b=S+(V<<4&4294967295|V>>>28),V=z+(b^S^N)+O[4]+1272893353&4294967295,z=b+(V<<11&4294967295|V>>>21),V=N+(z^b^S)+O[7]+4139469664&4294967295,N=z+(V<<16&4294967295|V>>>16),V=S+(N^z^b)+O[10]+3200236656&4294967295,S=N+(V<<23&4294967295|V>>>9),V=b+(S^N^z)+O[13]+681279174&4294967295,b=S+(V<<4&4294967295|V>>>28),V=z+(b^S^N)+O[0]+3936430074&4294967295,z=b+(V<<11&4294967295|V>>>21),V=N+(z^b^S)+O[3]+3572445317&4294967295,N=z+(V<<16&4294967295|V>>>16),V=S+(N^z^b)+O[6]+76029189&4294967295,S=N+(V<<23&4294967295|V>>>9),V=b+(S^N^z)+O[9]+3654602809&4294967295,b=S+(V<<4&4294967295|V>>>28),V=z+(b^S^N)+O[12]+3873151461&4294967295,z=b+(V<<11&4294967295|V>>>21),V=N+(z^b^S)+O[15]+530742520&4294967295,N=z+(V<<16&4294967295|V>>>16),V=S+(N^z^b)+O[2]+3299628645&4294967295,S=N+(V<<23&4294967295|V>>>9),V=b+(N^(S|~z))+O[0]+4096336452&4294967295,b=S+(V<<6&4294967295|V>>>26),V=z+(S^(b|~N))+O[7]+1126891415&4294967295,z=b+(V<<10&4294967295|V>>>22),V=N+(b^(z|~S))+O[14]+2878612391&4294967295,N=z+(V<<15&4294967295|V>>>17),V=S+(z^(N|~b))+O[5]+4237533241&4294967295,S=N+(V<<21&4294967295|V>>>11),V=b+(N^(S|~z))+O[12]+1700485571&4294967295,b=S+(V<<6&4294967295|V>>>26),V=z+(S^(b|~N))+O[3]+2399980690&4294967295,z=b+(V<<10&4294967295|V>>>22),V=N+(b^(z|~S))+O[10]+4293915773&4294967295,N=z+(V<<15&4294967295|V>>>17),V=S+(z^(N|~b))+O[1]+2240044497&4294967295,S=N+(V<<21&4294967295|V>>>11),V=b+(N^(S|~z))+O[8]+1873313359&4294967295,b=S+(V<<6&4294967295|V>>>26),V=z+(S^(b|~N))+O[15]+4264355552&4294967295,z=b+(V<<10&4294967295|V>>>22),V=N+(b^(z|~S))+O[6]+2734768916&4294967295,N=z+(V<<15&4294967295|V>>>17),V=S+(z^(N|~b))+O[13]+1309151649&4294967295,S=N+(V<<21&4294967295|V>>>11),V=b+(N^(S|~z))+O[4]+4149444226&4294967295,b=S+(V<<6&4294967295|V>>>26),V=z+(S^(b|~N))+O[11]+3174756917&4294967295,z=b+(V<<10&4294967295|V>>>22),V=N+(b^(z|~S))+O[2]+718787259&4294967295,N=z+(V<<15&4294967295|V>>>17),V=S+(z^(N|~b))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(N+(V<<21&4294967295|V>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+z&4294967295}a.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var S=b-this.blockSize,O=this.B,N=this.h,z=0;z<b;){if(N==0)for(;z<=S;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<b;)if(O[N++]=x.charCodeAt(z++),N==this.blockSize){o(this,O),N=0;break}}else for(;z<b;)if(O[N++]=x[z++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=b},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var S=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=S&255,S/=256;for(this.u(x),x=Array(16),b=S=0;4>b;++b)for(var O=0;32>O;O+=8)x[S++]=this.g[b]>>>O&255;return x};function u(x,b){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=b(x)}function f(x,b){this.h=b;for(var S=[],O=!0,N=x.length-1;0<=N;N--){var z=x[N]|0;O&&z==b||(S[N]=z,O=!1)}this.g=S}var g={};function m(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return C;if(0>x)return Q(p(-x));for(var b=[],S=1,O=0;x>=S;O++)b[O]=x/S|0,S*=4294967296;return new f(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return Q(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(b,8)),O=C,N=0;N<x.length;N+=8){var z=Math.min(8,x.length-N),V=parseInt(x.substring(N,N+z),b);8>z?(z=p(Math.pow(b,z)),O=O.j(z).add(p(V))):(O=O.j(S),O=O.add(p(V)))}return O}var C=m(0),A=m(1),U=m(16777216);r=f.prototype,r.m=function(){if(Y(this))return-Q(this).m();for(var x=0,b=1,S=0;S<this.g.length;S++){var O=this.i(S);x+=(0<=O?O:4294967296+O)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(Y(this))return"-"+Q(this).toString(x);for(var b=p(Math.pow(x,6)),S=this,O="";;){var N=_(S,b).g;S=$(S,N.j(b));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=N,k(S))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=$(this,x),Y(x)?-1:k(x)?0:1};function Q(x){for(var b=x.g.length,S=[],O=0;O<b;O++)S[O]=~x.g[O];return new f(S,~x.h).add(A)}r.abs=function(){return Y(this)?Q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],O=0,N=0;N<=b;N++){var z=O+(this.i(N)&65535)+(x.i(N)&65535),V=(z>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);O=V>>>16,z&=65535,V&=65535,S[N]=V<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function $(x,b){return x.add(Q(b))}r.j=function(x){if(k(this)||k(x))return C;if(Y(this))return Y(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(Y(x))return Q(this.j(Q(x)));if(0>this.l(U)&&0>x.l(U))return p(this.m()*x.m());for(var b=this.g.length+x.g.length,S=[],O=0;O<2*b;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<x.g.length;N++){var z=this.i(O)>>>16,V=this.i(O)&65535,at=x.i(N)>>>16,X=x.i(N)&65535;S[2*O+2*N]+=V*X,ct(S,2*O+2*N),S[2*O+2*N+1]+=z*X,ct(S,2*O+2*N+1),S[2*O+2*N+1]+=V*at,ct(S,2*O+2*N+1),S[2*O+2*N+2]+=z*at,ct(S,2*O+2*N+2)}for(O=0;O<b;O++)S[O]=S[2*O+1]<<16|S[2*O];for(O=b;O<2*b;O++)S[O]=0;return new f(S,0)};function ct(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function G(x,b){this.g=x,this.h=b}function _(x,b){if(k(b))throw Error("division by zero");if(k(x))return new G(C,C);if(Y(x))return b=_(Q(x),b),new G(Q(b.g),Q(b.h));if(Y(b))return b=_(x,Q(b)),new G(Q(b.g),b.h);if(30<x.g.length){if(Y(x)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var S=A,O=b;0>=O.l(x);)S=w(S),O=w(O);var N=I(S,1),z=I(O,1);for(O=I(O,2),S=I(S,2);!k(O);){var V=z.add(O);0>=V.l(x)&&(N=N.add(S),z=V),O=I(O,1),S=I(S,1)}return b=$(x,N.j(b)),new G(N,b)}for(N=C;0<=x.l(b);){for(S=Math.max(1,Math.floor(x.m()/b.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=p(S),V=z.j(b);Y(V)||0<V.l(x);)S-=O,z=p(S),V=z.j(b);k(z)&&(z=A),N=N.add(z),x=$(x,V)}return new G(N,x)}r.A=function(x){return _(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],O=0;O<b;O++)S[O]=this.i(O)&x.i(O);return new f(S,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],O=0;O<b;O++)S[O]=this.i(O)|x.i(O);return new f(S,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],O=0;O<b;O++)S[O]=this.i(O)^x.i(O);return new f(S,this.h^x.h)};function w(x){for(var b=x.g.length+1,S=[],O=0;O<b;O++)S[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(S,x.h)}function I(x,b){var S=b>>5;b%=32;for(var O=x.g.length-S,N=[],z=0;z<O;z++)N[z]=0<b?x.i(z+S)>>>b|x.i(z+S+1)<<32-b:x.i(z+S);return new f(N,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,TE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Rr=f}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wE,ol,bE,Sc,gg,SE,AE,RE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)t:{var v=a;c=c.split(".");for(var D=0;D<c.length-1;D++){var H=c[D];if(!(H in v))break t;v=v[H]}c=c[c.length-1],D=v[c],y=y(D),y!=D&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,D=!1,H={next:function(){if(!D&&v<c.length){var J=v++;return{value:y(J,c[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function C(c,y,v){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,D),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,A.apply(null,arguments)}function U(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var D=v.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function k(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(D,H,J){for(var dt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)dt[Lt-2]=arguments[Lt];return y.prototype[H].apply(D,dt)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let D=0;D<y;D++)v[D]=c[D];return v}return[]}function Q(c,y){for(let v=1;v<arguments.length;v++){const D=arguments[v];if(m(D)){const H=c.length||0,J=D.length||0;c.length=H+J;for(let dt=0;dt<J;dt++)c[H+dt]=D[dt]}else c.push(D)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ct(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function _(c){return _[" "](c),c}_[" "]=function(){};var w=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function I(c,y,v){for(const D in c)y.call(v,c[D],D,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(v in D)c[v]=D[v];for(let J=0;J<S.length;J++)v=S[J],Object.prototype.hasOwnProperty.call(D,v)&&(c[v]=D[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){g.setTimeout(()=>{throw c},0)}function V(){var c=ft;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class at{constructor(){this.h=this.g=null}add(y,v){const D=X.get();D.set(y,v),this.h?this.h.next=D:this.g=D,this.h=D}}var X=new $(()=>new L,c=>c.reset());class L{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let q,nt=!1,ft=new at,P=()=>{const c=g.Promise.resolve(void 0);q=()=>{c.then(et)}};var et=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(v){z(v)}var y=X;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}nt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};g.addEventListener("test",v,y),g.removeEventListener("test",v,y)}catch{}return c}();function xt(c,y){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(w){t:{try{_(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xt.aa.h.call(this)}}k(xt,ut);var St={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function qn(c,y,v,D,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!D,this.ha=H,this.key=++Ft,this.da=this.fa=!1}function Ki(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function di(c){this.src=c,this.g={},this.h=0}di.prototype.add=function(c,y,v,D,H){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var dt=kr(c,y,D,H);return-1<dt?(y=c[dt],v||(y.fa=!1)):(y=new qn(y,this.src,J,!!D,H),y.fa=v,c.push(y)),y};function Ur(c,y){var v=y.type;if(v in c.g){var D=c.g[v],H=Array.prototype.indexOf.call(D,y,void 0),J;(J=0<=H)&&Array.prototype.splice.call(D,H,1),J&&(Ki(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function kr(c,y,v,D){for(var H=0;H<c.length;++H){var J=c[H];if(!J.da&&J.listener==y&&J.capture==!!v&&J.ha==D)return H}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Ys={};function Gl(c,y,v,D,H){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Gl(c,y[J],v,D,H);return null}return v=Fl(v),c&&c[re]?c.K(y,v,p(D)?!!D.capture:!1,H):En(c,y,v,!1,D,H)}function En(c,y,v,D,H,J){if(!y)throw Error("Invalid event type");var dt=p(H)?!!H.capture:!!H,Lt=Va(c);if(Lt||(c[zr]=Lt=new di(c)),v=Lt.add(y,v,D,dt,J),v.proxy)return v;if(D=Ch(),v.proxy=D,D.src=c,D.listener=v,c.addEventListener)pt||(H=dt),H===void 0&&(H=!1),c.addEventListener(y.toString(),D,H);else if(c.attachEvent)c.attachEvent(Br(y.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ch(){function c(v){return y.call(c.src,c.listener,v)}const y=xh;return c}function Ks(c,y,v,D,H){if(Array.isArray(y))for(var J=0;J<y.length;J++)Ks(c,y[J],v,D,H);else D=p(D)?!!D.capture:!!D,v=Fl(v),c&&c[re]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],v=kr(J,v,D,H),-1<v&&(Ki(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=Va(c))&&(y=c.g[y.toString()],c=-1,y&&(c=kr(y,v,D,H)),(v=-1<c?y[c]:null)&&Oa(v))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[re])Ur(y.i,c);else{var v=c.type,D=c.proxy;y.removeEventListener?y.removeEventListener(v,D,c.capture):y.detachEvent?y.detachEvent(Br(v),D):y.addListener&&y.removeListener&&y.removeListener(D),(v=Va(y))?(Ur(v,c),v.h==0&&(v.src=null,y[zr]=null)):Ki(c)}}}function Br(c){return c in Ys?Ys[c]:Ys[c]="on"+c}function xh(c,y){if(c.da)c=!0;else{y=new xt(y,this);var v=c.listener,D=c.ha||c.src;c.fa&&Oa(c),c=v.call(D,y)}return c}function Va(c){return c=c[zr],c instanceof di?c:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fl(c){return typeof c=="function"?c:(c[Xs]||(c[Xs]=function(y){return c.handleEvent(y)}),c[Xs])}function oe(){ht.call(this),this.i=new di(this),this.M=this,this.F=null}k(oe,ht),oe.prototype[re]=!0,oe.prototype.removeEventListener=function(c,y,v,D){Ks(this,c,y,v,D)};function Qt(c,y){var v,D=c.F;if(D)for(v=[];D;D=D.F)v.push(D);if(c=c.M,D=y.type||y,typeof y=="string")y=new ut(y,c);else if(y instanceof ut)y.target=y.target||c;else{var H=y;y=new ut(D,c),O(y,H)}if(H=!0,v)for(var J=v.length-1;0<=J;J--){var dt=y.g=v[J];H=on(dt,D,!0,y)&&H}if(dt=y.g=c,H=on(dt,D,!0,y)&&H,H=on(dt,D,!1,y)&&H,v)for(J=0;J<v.length;J++)dt=y.g=v[J],H=on(dt,D,!1,y)&&H}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],D=0;D<v.length;D++)Ki(v[D]);delete c.g[y],c.h--}}this.F=null},oe.prototype.K=function(c,y,v,D){return this.i.add(String(c),y,!1,v,D)},oe.prototype.L=function(c,y,v,D){return this.i.add(String(c),y,!0,v,D)};function on(c,y,v,D){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,J=0;J<y.length;++J){var dt=y[J];if(dt&&!dt.da&&dt.capture==v){var Lt=dt.listener,Te=dt.ha||dt.src;dt.fa&&Ur(c.i,dt),H=Lt.call(Te,D)!==!1&&H}}return H&&!D.defaultPrevented}function Ge(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(c,y||0)}function Ql(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,Ql(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Dh extends ht{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){ht.call(this),this.h=c,this.g={}}k(jr,ht);var qr=[];function Hr(c){I(c.g,function(y,v){this.g.hasOwnProperty(v)&&Oa(y)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Hr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Ma=g.JSON.parse,Gr=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function $s(){}$s.prototype.h=null;function Zs(c){return c.h||(c.h=c.i())}function Ws(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){ut.call(this,"d")}k(mi,ut);function Js(){ut.call(this,"c")}k(Js,ut);var Hn={},to=null;function Xi(){return to=to||new oe}Hn.La="serverreachability";function Na(c){ut.call(this,Hn.La,c)}k(Na,ut);function $i(c){const y=Xi();Qt(y,new Na(y))}Hn.STAT_EVENT="statevent";function Yl(c,y){ut.call(this,Hn.STAT_EVENT,c),this.stat=y}k(Yl,ut);function ne(c){const y=Xi();Qt(y,new Yl(y,c))}Hn.Ma="timingevent";function Ee(c,y){ut.call(this,Hn.Ma,c),this.size=y}k(Ee,ut);function ge(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function eo(c,y,v,D,H,J){c.info(function(){if(c.g)if(J)for(var dt="",Lt=J.split("&"),Te=0;Te<Lt.length;Te++){var Ut=Lt[Te].split("=");if(1<Ut.length){var De=Ut[0];Ut=Ut[1];var we=De.split("_");dt=2<=we.length&&we[1]=="type"?dt+(De+"="+Ut+"&"):dt+(De+"=redacted&")}}else dt=null;else dt=J;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+y+`
`+v+`
`+dt})}function Ih(c,y,v,D,H,J,dt){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+y+`
`+v+`
`+J+" "+dt})}function Zi(c,y,v,D){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Fr(c,v)+(D?" "+D:"")})}function Kl(c,y){c.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function Fr(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var D=v[c];if(!(2>D.length)){var H=D[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var dt=1;dt<H.length;dt++)H[dt]=""}}}}return Mn(v)}catch{return y}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Fn(){}k(Fn,$s),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Gn=new Fn;function Xe(c,y,v,D){this.j=c,this.i=y,this.l=v,this.R=D||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var no={},Pa={};function Nn(c,y,v){c.L=1,c.v=$r(ln(y)),c.m=v,c.P=!0,yi(c,null)}function yi(c,y){c.F=Date.now(),Qr(c),c.A=ln(c.v);var v=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),lo(v.i,"t",D),c.C=0,v=c.j.J,c.h=new ce,c.g=cu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Dh(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,D=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(qr[0]=H.toString()),H=qr);for(var J=0;J<H.length;J++){var dt=Gl(v,H[J],D||y.handleEvent,!1,y.h||y);if(!dt)break;y.g[dt.key]=dt}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),$i(),eo(c.i,c.u,c.A,c.l,c.R,c.m)}Xe.prototype.ca=function(c){c=c.target;const y=this.M;y&&An(c)==3?y.j():this.Y(c)},Xe.prototype.Y=function(c){try{if(c==this.g)t:{const we=An(this.g);var y=this.g.Ba();const Ai=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||we!=4||y==7||(y==8||0>=Ai?$i(3):$i(2)),Ji(this);var v=this.g.Z();this.X=v;e:if(Xl(this)){var D=nu(this.g);c="";var H=D.length,J=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Qn(this);var dt="";break e}this.h.i=new g.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(D[y],{stream:!(J&&y==H-1)});D.length=0,this.h.g+=c,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=v==200,Ih(this.i,this.u,this.A,this.l,this.R,we,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Te=this.g;if((Lt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Lt)){var Ut=Lt;break e}}Ut=null}if(v=Ut)Zi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,v);else{this.o=!1,this.s=3,ne(12),Pe(this),Qn(this);break t}}if(this.P){v=!0;let Le;for(;!this.J&&this.C<dt.length;)if(Le=$l(this,dt),Le==Pa){we==4&&(this.s=4,ne(14),v=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==no){this.s=4,ne(15),Zi(this.i,this.l,dt,"[Invalid Chunk]"),v=!1;break}else Zi(this.i,this.l,Le,null),Yr(this,Le);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||dt.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)Zi(this.i,this.l,dt,"[Invalid Chunked Response]"),Pe(this),Qn(this);else if(0<dt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),ra(De),De.M=!0,ne(11))}}else Zi(this.i,this.l,dt,null),Yr(this,dt);we==4&&Pe(this),this.o&&!this.J&&(we==4?ou(this.j,this):(this.o=!1,Qr(this)))}else Ph(this.g),v==400&&0<dt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Pe(this),Qn(this)}}}catch{}finally{}};function Xl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $l(c,y){var v=c.C,D=y.indexOf(`
`,v);return D==-1?Pa:(v=Number(y.substring(v,D)),isNaN(v)?no:(D+=1,D+v>y.length?Pa:(y=y.slice(D,D+v),c.C=D+v,y)))}Xe.prototype.cancel=function(){this.J=!0,Pe(this)};function Qr(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ge(A(c.ba,c),y)}function Ji(c){c.B&&(g.clearTimeout(c.B),c.B=null)}Xe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Kl(this.i,this.A),this.L!=2&&($i(),ne(17)),Pe(this),this.s=2,Qn(this)):Zl(this,this.S-c)};function Qn(c){c.j.G==0||c.J||ou(c.j,c)}function Pe(c){Ji(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Hr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Yr(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||io(v.h,c))){if(!c.K&&io(v.h,c)&&v.G==3){try{var D=v.Da.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ya(v),Fa(v);else break t;go(v),ne(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=ge(A(v.Za,v),6e3));if(1>=Ua(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((c.K||v.g==c)&&Ya(v),!ct(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Ut=H[y];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const De=Ut[3];De!=null&&(v.la=De,v.j.info("VER="+v.la));const we=Ut[4];we!=null&&(v.Aa=we,v.j.info("SVER="+v.Aa));const Ai=Ut[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(D=1.5*Ai,v.L=D,v.j.info("backChannelRequestTimeoutMs_="+D)),D=v;const Le=c.g;if(Le){const Jn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var J=D.h;J.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ka(J,J.h),J.h=null))}if(D.D){const po=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(D.ya=po,Xt(D.I,D.D,po))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),D=v;var dt=c;if(D.qa=uu(D,D.J?D.ia:null,D.W),dt.K){$e(D.h,dt);var Lt=dt,Te=D.L;Te&&(Lt.I=Te),Lt.B&&(Ji(Lt),Qr(Lt)),D.g=dt}else au(D);0<v.i.length&&Qa(v)}else Ut[0]!="stop"&&Ut[0]!="close"||Si(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Si(v,7):ho(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}$i(4)}catch{}}var Wl=class{constructor(c,y){this.g=c,this.map=y}};function _i(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ua(c){return c.h?1:c.g?c.g.size:0}function io(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ka(c,y){c.g?c.g.add(y):c.h=y}function $e(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}_i.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function Oh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,D=0;D<v;D++)y.push(c[D]);return y}y=[],v=0;for(D in c)y[v++]=c[D];return y}function za(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const D in c)y[v++]=D;return y}}}function ao(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=za(c),D=Oh(c),H=D.length,J=0;J<H;J++)y.call(void 0,D[J],v&&v[J],c)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var D=c[v].indexOf("="),H=null;if(0<=D){var J=c[v].substring(0,D);H=c[v].substring(D+1)}else J=c[v];y(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function me(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof me){this.h=c.h,Xr(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.s),this.l=c.l;var y=c.i,v=new Ei;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),vi(this,v),this.m=c.m}else c&&(y=String(c).match(Kr))?(this.h=!1,Xr(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),tr(this,y[4]),this.l=wn(y[5]||"",!0),vi(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}me.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Zr(y,so,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Zr(y,so,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zr(v,v.charAt(0)=="/"?Mh:oo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zr(v,Ba)),c.join("")};function ln(c){return new me(c)}function Xr(c,y,v){c.j=v?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function vi(c,y,v){y instanceof Ei?(c.i=y,tu(c.i,c.h)):(v||(y=Zr(y,Nh)),c.i=new Ei(y,c.h))}function Xt(c,y,v){c.i.set(y,v)}function $r(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Jl),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var so=/[#\/\?@]/g,oo=/[#\?:]/g,Mh=/[#\?]/g,Nh=/[#\?@]/g,Ba=/#/g;function Ei(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Vh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ei.prototype,r.add=function(c,y){bn(this),this.i=null,c=Yn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ti(c,y){bn(c),y=Yn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function wi(c,y){return bn(c),y=Yn(c,y),c.g.has(y)}r.forEach=function(c,y){bn(this),this.g.forEach(function(v,D){v.forEach(function(H){c.call(y,H,D,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let D=0;D<y.length;D++){const H=c[D];for(let J=0;J<H.length;J++)v.push(y[D])}return v},r.V=function(c){bn(this);let y=[];if(typeof c=="string")wi(this,c)&&(y=y.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return bn(this),this.i=null,c=Yn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function lo(c,y,v){Ti(c,y),0<v.length&&(c.i=null,c.g.set(Yn(c,y),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var D=y[v];const J=encodeURIComponent(String(D)),dt=this.V(D);for(D=0;D<dt.length;D++){var H=J;dt[D]!==""&&(H+="="+encodeURIComponent(String(dt[D]))),c.push(H)}}return this.i=c.join("&")};function Yn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function tu(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(v,D){var H=D.toLowerCase();D!=H&&(Ti(this,D),lo(this,H,v))},c)),c.j=y}function Wr(c,y){const v=new Tn;if(g.Image){const D=new Image;D.onload=U(Sn,v,"TestLoadImage: loaded",!0,y,D),D.onerror=U(Sn,v,"TestLoadImage: error",!1,y,D),D.onabort=U(Sn,v,"TestLoadImage: abort",!1,y,D),D.ontimeout=U(Sn,v,"TestLoadImage: timeout",!1,y,D),g.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else y(!1)}function Pn(c,y){const v=new Tn,D=new AbortController,H=setTimeout(()=>{D.abort(),Sn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:D.signal}).then(J=>{clearTimeout(H),J.ok?Sn(v,"TestPingServer: ok",!0,y):Sn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Sn(v,"TestPingServer: error",!1,y)})}function Sn(c,y,v,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(v)}catch{}}function Jr(){this.g=new Gr}function Kn(c,y,v){const D=v||"";try{ao(c,function(H,J){let dt=H;p(H)&&(dt=Mn(H)),y.push(D+J+"="+encodeURIComponent(dt))})}catch(H){throw y.push(D+"type="+encodeURIComponent("_badmap")),H}}function er(c){this.l=c.Ub||null,this.j=c.eb||!1}k(er,$s),er.prototype.g=function(){return new bi(this.l,this.j)},er.prototype.i=function(c){return function(){return c}}({});function bi(c,y){oe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(bi,oe),r=bi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Xn(this):$n(this),this.readyState==3&&uo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function co(c){let y="";return I(c,function(v,D){y+=D,y+=":",y+=v,y+=`\r
`}),y}function xe(c,y,v){t:{for(D in v){var D=!1;break t}D=!0}D||(v=co(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xt(c,y,v))}function Gt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Gt,oe);var ja=/^https?$/i,ta=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Zs(this.o):Zs(Gn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){eu(this,J);return}if(c=v||"",v=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)v.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())v.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),H=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ta,y,void 0))||D||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,dt]of v)this.g.setRequestHeader(J,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){eu(this,J)}};function eu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,qa(c),Zn(c)}function qa(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},r.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Ge(c.Ea,0,c);else if(Qt(c,"readystatechange"),An(c)==4){c.h=!1;try{const dt=c.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var D;if(D=dt===0){var H=String(c.D).match(Kr)[1]||null;!H&&g.self&&g.self.location&&(H=g.self.location.protocol.slice(0,-1)),D=!ja.test(H?H.toLowerCase():"")}v=D}if(v)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var J=2<An(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",qa(c)}}finally{Zn(c)}}}}function Zn(c,y){if(c.g){ea(c);const v=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qt(c,"ready");try{v.onreadystatechange=D}catch{}}}function ea(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ma(y)}};function nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(c){const y={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(ct(c[D]))continue;var v=N(c[D]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=y[H]||[];y[H]=J,J.push(v)}x(y,function(D){return D.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ga(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,c),this.cb=na("retryDelaySeedMs",1e4,c),this.Wa=na("forwardChannelMaxRetries",2,c),this.wa=na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(c&&c.concurrentRequestLimit),this.Da=new Jr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ga.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,D){ne(0),this.W=c,this.H=y||{},v&&D!==void 0&&(this.H.OSID=v,this.H.OAID=D),this.F=this.X,this.I=uu(this,null,this.W),Qa(this)};function ho(c){if(iu(c),c.G==3){var y=c.U++,v=ln(c.I);if(Xt(v,"SID",c.K),Xt(v,"RID",y),Xt(v,"TYPE","terminate"),ia(c,v),y=new Xe(c,c.j,y),y.L=2,y.v=$r(ln(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=y.v,v=!0),v||(y.g=cu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qr(y)}lu(c)}function Fa(c){c.g&&(ra(c),c.g.cancel(),c.g=null)}function iu(c){Fa(c),c.u&&(g.clearTimeout(c.u),c.u=null),Ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function Qa(c){if(!La(c.h)&&!c.s){c.s=!0;var y=c.Ga;q||P(),nt||(q(),nt=!0),ft.add(y,c),c.B=0}}function Lh(c,y){return Ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ge(A(c.Ga,c,y),mo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Xe(this,this.j,c);let J=this.o;if(this.S&&(J?(J=b(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var D=this.i[v];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(y+=D,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=ru(this,H,y),v=ln(this.I),Xt(v,"RID",c),Xt(v,"CVER",22),this.D&&Xt(v,"X-HTTP-Session-Id",this.D),ia(this,v),J&&(this.O?y="headers="+encodeURIComponent(String(co(J)))+"&"+y:this.m&&xe(v,this.m,J)),ka(this.h,H),this.Ua&&Xt(v,"TYPE","init"),this.P?(Xt(v,"$req",y),Xt(v,"SID","null"),H.T=!0,Nn(H,v,null)):Nn(H,v,y),this.G=2}}else this.G==3&&(c?fo(this,c):this.i.length==0||La(this.h)||fo(this))};function fo(c,y){var v;y?v=y.l:v=c.U++;const D=ln(c.I);Xt(D,"SID",c.K),Xt(D,"RID",v),Xt(D,"AID",c.T),ia(c,D),c.m&&c.o&&xe(D,c.m,c.o),v=new Xe(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ru(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,v),Nn(v,D,y)}function ia(c,y){c.H&&I(c.H,function(v,D){Xt(y,D,v)}),c.l&&ao({},function(v,D){Xt(y,D,v)})}function ru(c,y,v){v=Math.min(c.i.length,v);var D=c.l?A(c.l.Na,c.l,c):null;t:{var H=c.i;let J=-1;for(;;){const dt=["count="+v];J==-1?0<v?(J=H[0].g,dt.push("ofs="+J)):J=0:dt.push("ofs="+J);let Lt=!0;for(let Te=0;Te<v;Te++){let Ut=H[Te].g;const De=H[Te].map;if(Ut-=J,0>Ut)J=Math.max(0,H[Te].g-100),Lt=!1;else try{Kn(De,dt,"req"+Ut+"_")}catch{D&&D(De)}}if(Lt){D=dt.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,D}function au(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;q||P(),nt||(q(),nt=!0),ft.add(y,c),c.v=0}}function go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ge(A(c.Fa,c),mo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ge(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Fa(this),su(this))};function ra(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function su(c){c.g=new Xe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ln(c.qa);Xt(y,"RID","rpc"),Xt(y,"SID",c.K),Xt(y,"AID",c.T),Xt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(y,"TO",c.ja),Xt(y,"TYPE","xmlhttp"),ia(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=$r(ln(y)),v.m=null,v.P=!0,yi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Fa(this),go(this),ne(19))};function Ya(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function ou(c,y){var v=null;if(c.g==y){Ya(c),ra(c),c.g=null;var D=2}else if(io(c.h,y))v=y.D,$e(c.h,y),D=1;else return;if(c.G!=0){if(y.o)if(D==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;D=Xi(),Qt(D,new Ee(D,v)),Qa(c)}else au(c);else if(H=y.s,H==3||H==0&&0<y.X||!(D==1&&Lh(c,y)||D==2&&go(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function mo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),D=c.Xa;const H=!D;D=new me(D||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xr(D,"https"),$r(D),H?Wr(D.toString(),v):Pn(D.toString(),v)}else ne(2);c.G=0,c.l&&c.l.sa(y),lu(c),iu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function lu(c){if(c.G=0,c.ka=[],c.l){const y=ro(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function uu(c,y,v){var D=v instanceof me?ln(v):new me(v);if(D.g!="")y&&(D.g=y+"."+D.g),tr(D,D.s);else{var H=g.location;D=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var J=new me(null);D&&Xr(J,D),y&&(J.g=y),H&&tr(J,H),v&&(J.l=v),D=J}return v=c.D,y=c.ya,v&&y&&Xt(D,v,y),Xt(D,"VER",c.la),ia(c,D),D}function cu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new er({eb:v})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(c,y){return new Ze(c,y)};function Ze(c,y){oe.call(this),this.g=new Ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ct(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ct(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wn(this)}k(Ze,oe),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){ho(this.g)},Ze.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Mn(c),c=v);y.i.push(new Wl(y.Ya++,c)),y.G==3&&Qa(y)},Ze.prototype.N=function(){this.g.l=null,delete this.j,ho(this.g),delete this.g,Ze.aa.N.call(this)};function fu(c){mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(fu,mi);function du(){Js.call(this),this.status=1}k(du,Js);function Wn(c){this.g=c}k(Wn,hu),Wn.prototype.ua=function(){Qt(this.g,"a")},Wn.prototype.ta=function(c){Qt(this.g,new fu(c))},Wn.prototype.sa=function(c){Qt(this.g,new du)},Wn.prototype.ra=function(){Qt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,RE=function(){return new Ka},AE=function(){return Xi()},SE=Hn,gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Sc=Wi,pi.COMPLETE="complete",bE=pi,Ws.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,ol=Ws,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,wE=Gt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore",Ov="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new mE("@firebase/firestore");function bs(){return Aa.logLevel}function yt(r,...t){if(Aa.logLevel<=Bt.DEBUG){const n=t.map(Kg);Aa.debug(`Firestore (${js}): ${r}`,...n)}}function Fi(r,...t){if(Aa.logLevel<=Bt.ERROR){const n=t.map(Kg);Aa.error(`Firestore (${js}): ${r}`,...n)}}function Ms(r,...t){if(Aa.logLevel<=Bt.WARN){const n=t.map(Kg);Aa.warn(`Firestore (${js}): ${r}`,...n)}}function Kg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,CE(r,a,n)}function CE(r,t,n){let a=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Fi(a),new Error(a)}function jt(r,t,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||CE(t,o,a)}function Ct(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Bs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class dC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gC{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},g=m=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new xE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class mC{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pC{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new mC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const a=u=>{u.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,yt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=_C(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Ot(r,t){return r<t?-1:r>t?1:0}function mg(r,t){let n=0;for(;n<r.length&&n<t.length;){const a=r.codePointAt(n),o=t.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ot(a,o);{const u=DE(),f=vC(u.encode(Mv(r,n)),u.encode(Mv(t,n)));return f!==0?f:Ot(a,o)}}n+=a>65535?2:1}return Ot(r.length,t.length)}function Mv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function vC(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ot(r[n],t[n]);return Ot(r.length,t.length)}function Ns(r,t,n){return r.length===t.length&&r.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=-62135596800,Pv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Pv);return new Re(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Nv)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Re(0,0))}static max(){return new At(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__name__";class ai{constructor(t,n,a){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Tt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=ai.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const a=ai.isNumericId(t),o=ai.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):mg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rr.fromString(t.substring(4,t.length-2))}}class te extends ai{construct(t,n,a){return new te(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ai{construct(t,n,a){return new qe(t,n,a)}static isValidIdentifier(t){return EC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new qe([Lv])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(u(),o++)}if(u(),f)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(te.fromString(t))}static fromName(t){return new Et(te.fromString(t).popFirst(5))}static empty(){return new Et(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function TC(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new Re(n+1,0):new Re(n,a));return new Dr(o,Et.empty(),t)}function wC(r){return new Dr(r.readTime,r.key,Sl)}class Dr{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Dr(At.min(),Et.empty(),Sl)}static max(){return new Dr(At.max(),Et.empty(),Sl)}}function bC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(r.documentKey,t.documentKey),n!==0?n:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(r){if(r.code!==st.FAILED_PRECONDITION||r.message!==SC)throw r;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.reject(n)}static resolve(t){return new lt((n,a)=>{n(t)})}static reject(t){return new lt((n,a)=>{a(t)})}static waitFor(t){return new lt((n,a)=>{let o=0,u=0,f=!1;t.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&n()},m=>a(m))}),f=!0,u===o&&n()})}static or(t){let n=lt.resolve(!1);for(const a of t)n=n.next(o=>o?lt.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new lt((a,o)=>{const u=t.length,f=new Array(u);let g=0;for(let m=0;m<u;m++){const p=m;n(t[p]).next(E=>{f[p]=E,++g,g===u&&a(f)},E=>o(E))}})}static doWhile(t,n){return new lt((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function RC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function Pl(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function CC(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="";function xC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Uv(t)),t=DC(r.get(n),t);return Uv(t)}function DC(r,t){let n=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case OE:n+="";break;default:n+=u}}return n}function Uv(r){return r+OE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Pr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function VE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??je.RED,this.left=o??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new je(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,a,o,u){return this}insert(t,n,a){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Ce(qe.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ns(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ME("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const IC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=IC.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Or(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="server_timestamp",PE="__type__",LE="__previous_value__",UE="__local_write_time__";function $g(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[PE])===null||n===void 0?void 0:n.stringValue)===NE}function ch(r){const t=r.mapValue.fields[LE];return $g(t)?ch(t):t}function Al(r){const t=Ir(r.mapValue.fields[UE].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n,a,o,u,f,g,m,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=E}}const qc="(default)";class Rl{constructor(t,n){this.projectId=t,this.database=n||qc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",VC="__max__",vc={mapValue:{}},zE="__vector__",Hc="value";function Vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$g(r)?4:NC(r)?9007199254740991:MC(r)?10:11:Tt(28295,{value:r})}function ci(r,t){if(r===t)return!0;const n=Vr(r);if(n!==Vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Al(r).isEqual(Al(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ir(o.timestampValue),g=Ir(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Or(o.bytesValue).isEqual(Or(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),g=de(u.doubleValue);return f===g?jc(f)===jc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ns(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(kv(f)!==kv(g))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(g[m]===void 0||!ci(f[m],g[m])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function Cl(r,t){return(r.values||[]).find(n=>ci(n,t))!==void 0}function Ps(r,t){if(r===t)return 0;const n=Vr(r),a=Vr(t);if(n!==a)return Ot(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return function(u,f){const g=de(u.integerValue||u.doubleValue),m=de(f.integerValue||f.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(r,t);case 3:return Bv(r.timestampValue,t.timestampValue);case 4:return Bv(Al(r),Al(t));case 5:return mg(r.stringValue,t.stringValue);case 6:return function(u,f){const g=Or(u),m=Or(f);return g.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const g=u.split("/"),m=f.split("/");for(let p=0;p<g.length&&p<m.length;p++){const E=Ot(g[p],m[p]);if(E!==0)return E}return Ot(g.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const g=Ot(de(u.latitude),de(f.latitude));return g!==0?g:Ot(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return jv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var g,m,p,E;const C=u.fields||{},A=f.fields||{},U=(g=C[Hc])===null||g===void 0?void 0:g.arrayValue,k=(m=A[Hc])===null||m===void 0?void 0:m.arrayValue,Y=Ot(((p=U==null?void 0:U.values)===null||p===void 0?void 0:p.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:jv(U,k)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===vc.mapValue&&f===vc.mapValue)return 0;if(u===vc.mapValue)return 1;if(f===vc.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),p=f.fields||{},E=Object.keys(p);m.sort(),E.sort();for(let C=0;C<m.length&&C<E.length;++C){const A=mg(m[C],E[C]);if(A!==0)return A;const U=Ps(g[m[C]],p[E[C]]);if(U!==0)return U}return Ot(m.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function Bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const n=Ir(r),a=Ir(t),o=Ot(n.seconds,a.seconds);return o!==0?o:Ot(n.nanos,a.nanos)}function jv(r,t){const n=r.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ps(n[o],a[o]);if(u)return u}return Ot(n.length,a.length)}function Ls(r){return pg(r)}function pg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Ir(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Or(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Et.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=pg(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${pg(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Ac(r){switch(Vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Ac(t):16;case 5:return 2*r.stringValue.length;case 6:return Or(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Ac(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Pr(a.fields,(u,f)=>{o+=u.length+Ac(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function qv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function yg(r){return!!r&&"integerValue"in r}function Zg(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rc(r){return!!r&&"mapValue"in r}function MC(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[kE])===null||n===void 0?void 0:n.stringValue)===zE}function gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Pr(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=gl(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function NC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.value=t}static empty(){return new Je({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!Rc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gl(n)}setAll(t){let n=qe.emptyPath(),a={},o=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=g.popLast()}f?a[g.lastSegment()]=gl(f):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];Rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){Pr(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new Je(gl(this.value))}}function BE(r){const t=[];return Pr(r.fields,(n,a)=>{const o=new qe([n]);if(Rc(a)){const u=BE(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n,a,o,u,f,g){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ne(t,0,At.min(),At.min(),At.min(),Je.empty(),0)}static newFoundDocument(t,n,a,o){return new Ne(t,1,n,At.min(),a,o,0)}static newNoDocument(t,n){return new Ne(t,2,n,At.min(),At.min(),Je.empty(),0)}static newUnknownDocument(t,n){return new Ne(t,3,n,At.min(),At.min(),Je.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Je.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Je.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ne&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.position=t,this.inclusive=n}}function Fv(r,t,n){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?a=Et.comparator(Et.fromName(f.referenceValue),n.key):a=Ps(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Qv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n="asc"){this.field=t,this.dir=n}}function PC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{}class ve extends jE{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new UC(t,n,a):n==="array-contains"?new BC(t,a):n==="in"?new jC(t,a):n==="not-in"?new qC(t,a):n==="array-contains-any"?new HC(t,a):new ve(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new kC(t,a):new zC(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ps(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(Ps(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends jE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new jn(t,n)}matches(t){return qE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qE(r){return r.op==="and"}function HE(r){return LC(r)&&qE(r)}function LC(r){for(const t of r.filters)if(t instanceof jn)return!1;return!0}function _g(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Ls(r.value);if(HE(r))return r.filters.map(t=>_g(t)).join(",");{const t=r.filters.map(n=>_g(n)).join(",");return`${r.op}(${t})`}}function GE(r,t){return r instanceof ve?function(a,o){return o instanceof ve&&a.op===o.op&&a.field.isEqual(o.field)&&ci(a.value,o.value)}(r,t):r instanceof jn?function(a,o){return o instanceof jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,g)=>u&&GE(f,o.filters[g]),!0):!1}(r,t):void Tt(19439)}function FE(r){return r instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(r):r instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"}(r):"Filter"}class UC extends ve{constructor(t,n,a){super(t,n,a),this.key=Et.fromName(a.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class kC extends ve{constructor(t,n){super(t,"in",n),this.keys=QE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zC extends ve{constructor(t,n){super(t,"not-in",n),this.keys=QE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function QE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Et.fromName(a.referenceValue))}class BC extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Zg(n)&&Cl(n.arrayValue,this.value)}}class jC extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class qC extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cl(this.value.arrayValue,n)}}class HC extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Cl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,n=null,a=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Ie=null}}function Yv(r,t=null,n=[],a=[],o=null,u=null,f=null){return new GC(r,t,n,a,o,u,f)}function Wg(r){const t=Ct(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>_g(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Pl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Ls(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Ls(a)).join(",")),t.Ie=n}return t.Ie}function Jg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!PC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!GE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Qv(r.startAt,t.startAt)&&Qv(r.endAt,t.endAt)}function vg(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n=null,a=[],o=[],u=null,f="F",g=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function FC(r,t,n,a,o,u,f,g){return new Ll(r,t,n,a,o,u,f,g)}function tm(r){return new Ll(r)}function Kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YE(r){return r.collectionGroup!==null}function ml(r){const t=Ct(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ce(qe.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Fc(u,a))}),n.has(qe.keyField().canonicalString())||t.Ee.push(new Fc(qe.keyField(),a))}return t.Ee}function li(r){const t=Ct(r);return t.de||(t.de=QC(t,ml(r))),t.de}function QC(r,t){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Fc(o.field,u)});const n=r.endAt?new Gc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Gc(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function Eg(r,t){const n=r.filters.concat([t]);return new Ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Tg(r,t,n){return new Ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function hh(r,t){return Jg(li(r),li(t))&&r.limitType===t.limitType}function KE(r){return`${Wg(li(r))}|lt:${r.limitType}`}function Ss(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>FE(o)).join(", ")}]`),Pl(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ls(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ls(o)).join(",")),`Target(${a})`}(li(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Et.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,t)&&function(a,o){for(const u of ml(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(f,g,m){const p=Fv(f,g,m);return f.inclusive?p<=0:p<0}(a.startAt,ml(a),o)||a.endAt&&!function(f,g,m){const p=Fv(f,g,m);return f.inclusive?p>=0:p>0}(a.endAt,ml(a),o))}(r,t)}function YC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XE(r){return(t,n)=>{let a=!1;for(const o of ml(r)){const u=KC(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function KC(r,t,n){const a=r.field.isKeyField()?Et.comparator(t.key,n.key):function(u,f,g){const m=f.data.field(u),p=g.data.field(u);return m!==null&&p!==null?Ps(m,p):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new se(Et.comparator);function Qi(){return XC}const $E=new se(Et.comparator);function ll(...r){let t=$E;for(const n of r)t=t.insert(n.key,n);return t}function ZE(r){let t=$E;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function wa(){return pl()}function WE(){return pl()}function pl(){return new Da(r=>r.toString(),(r,t)=>r.isEqual(t))}const $C=new se(Et.comparator),ZC=new Ce(Et.comparator);function Pt(...r){let t=ZC;for(const n of r)t=t.add(n);return t}const WC=new Ce(Ot);function JC(){return WC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function JE(r){return{integerValue:""+r}}function tT(r,t){return CC(t)?JE(t):em(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function t2(r,t,n){return r instanceof Qc?function(o,u){const f={fields:{[PE]:{stringValue:NE},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$g(u)&&(u=ch(u)),u&&(f.fields[LE]=u),{mapValue:f}}(n,t):r instanceof xl?nT(r,t):r instanceof Dl?iT(r,t):function(o,u){const f=eT(o,u),g=Xv(f)+Xv(o.Re);return yg(f)&&yg(o.Re)?JE(g):em(o.serializer,g)}(r,t)}function e2(r,t,n){return r instanceof xl?nT(r,t):r instanceof Dl?iT(r,t):n}function eT(r,t){return r instanceof Il?function(a){return yg(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Qc extends dh{}class xl extends dh{constructor(t){super(),this.elements=t}}function nT(r,t){const n=rT(t);for(const a of r.elements)n.some(o=>ci(o,a))||n.push(a);return{arrayValue:{values:n}}}class Dl extends dh{constructor(t){super(),this.elements=t}}function iT(r,t){let n=rT(t);for(const a of r.elements)n=n.filter(o=>!ci(o,a));return{arrayValue:{values:n}}}class Il extends dh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Xv(r){return de(r.integerValue||r.doubleValue)}function rT(r){return Zg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n){this.field=t,this.transform=n}}function i2(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof xl&&o instanceof xl||a instanceof Dl&&o instanceof Dl?Ns(a.elements,o.elements,ci):a instanceof Il&&o instanceof Il?ci(a.Re,o.Re):a instanceof Qc&&o instanceof Qc}(r.transform,t.transform)}class r2{constructor(t,n){this.version=t,this.transformResults=n}}class tn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tn}static exists(t){return new tn(void 0,t)}static updateTime(t){return new tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function aT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new nm(r.key,tn.none()):new Ul(r.key,r.data,tn.none());{const n=r.data,a=Je.empty();let o=new Ce(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Lr(r.key,a,new pn(o.toArray()),tn.none())}}function a2(r,t,n){r instanceof Ul?function(o,u,f){const g=o.value.clone(),m=Zv(o.fieldTransforms,u,f.transformResults);g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Lr?function(o,u,f){if(!Cc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=Zv(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(sT(o)),m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function yl(r,t,n,a){return r instanceof Ul?function(u,f,g,m){if(!Cc(u.precondition,f))return g;const p=u.value.clone(),E=Wv(u.fieldTransforms,m,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(r,t,n,a):r instanceof Lr?function(u,f,g,m){if(!Cc(u.precondition,f))return g;const p=Wv(u.fieldTransforms,m,f),E=f.data;return E.setAll(sT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(r,t,n,a):function(u,f,g){return Cc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function s2(r,t){let n=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=eT(a.transform,o||null);u!=null&&(n===null&&(n=Je.empty()),n.set(a.field,u))}return n||null}function $v(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ns(a,o,(u,f)=>i2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends gh{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lr extends gh{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function Zv(r,t,n){const a=new Map;jt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=t.data.field(u.field);a.set(u.field,e2(f,g,n[o]))}return a}function Wv(r,t,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,t2(u,f,t))}return a}class nm extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oT extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&a2(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=yl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=yl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=WE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const m=aT(f,g);m!==null&&a.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Ns(this.mutations,t.mutations,(n,a)=>$v(n,a))&&Ns(this.baseMutations,t.baseMutations,(n,a)=>$v(n,a))}}class im{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){jt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let o=function(){return $C}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new im(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,zt;function lT(r){switch(r){case st.OK:return Tt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function uT(r){if(r===void 0)return Fi("GRPC error has no .code"),st.UNKNOWN;switch(r){case _e.OK:return st.OK;case _e.CANCELLED:return st.CANCELLED;case _e.UNKNOWN:return st.UNKNOWN;case _e.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case _e.INTERNAL:return st.INTERNAL;case _e.UNAVAILABLE:return st.UNAVAILABLE;case _e.UNAUTHENTICATED:return st.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case _e.NOT_FOUND:return st.NOT_FOUND;case _e.ALREADY_EXISTS:return st.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return st.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case _e.ABORTED:return st.ABORTED;case _e.OUT_OF_RANGE:return st.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return st.UNIMPLEMENTED;case _e.DATA_LOSS:return st.DATA_LOSS;default:return Tt(39323,{code:r})}}(zt=_e||(_e={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Rr([4294967295,4294967295],0);function Jv(r){const t=DE().encode(r),n=new TE;return n.update(t),new Uint8Array(n.digest())}function t0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Rr([n,a],0),new Rr([o,u],0)]}class rm{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(a<0)throw new ul(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Rr.fromNumber(this.pe)}we(t,n,a){let o=t.add(n.multiply(Rr.fromNumber(a)));return o.compare(c2)===1&&(o=new Rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Jv(t),[a,o]=t0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new rm(u,o,n);return a.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=Jv(t),[a,o]=t0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new mh(At.min(),o,new se(Ot),Qi(),Pt())}}class kl{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new kl(a,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,a,o){this.De=t,this.removedTargetIds=n,this.key=a,this.ve=o}}class cT{constructor(t,n){this.targetId=t,this.Ce=n}}class hT{constructor(t,n,a=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class e0{constructor(){this.Fe=0,this.Me=n0(),this.xe=He.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),a=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Tt(38017,{changeType:u})}}),new kl(this.xe,this.Oe,t,n,a)}Qe(){this.Ne=!1,this.Me=n0()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h2{constructor(t){this.ze=t,this.je=new Map,this.He=Qi(),this.Je=Ec(),this.Ye=Ec(),this.Ze=new se(Ot)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const a=this.rt(n);switch(t.state){case 0:this.it(n)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,a=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(vg(u))if(a===0){const f=new Et(u.path);this.tt(n,f,Ne.newNoDocument(f,At.min()))}else jt(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const g=this.ct(t),m=g?this.lt(g,t,f):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=Or(a).toUint8Array()}catch(m){if(m instanceof ME)return Ms("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new rm(f,o,u)}catch(m){return Ms(m instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.pe===0?null:g}lt(t,n,a){return n.Ce.count===a-this.Tt(t,n.targetId)?0:2}Tt(t,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const g=this._t(f);if(g){if(u.current&&vg(g.target)){const m=new Et(g.target.path);this.Et(m).has(f)||this.dt(f,m)||this.tt(f,m,Ne.newNoDocument(m,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=Pt();this.Ye.forEach((u,f)=>{let g=!0;f.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new mh(t,n,this.Ze,this.He,a);return this.He=Qi(),this.Je=Ec(),this.Ye=Ec(),this.Ze=new se(Ot),o}et(t,n){if(!this.it(t))return;const a=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,a){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),a&&(this.He=this.He.insert(n,a))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new e0,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ce(Ot),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ce(Ot),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||yt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new e0),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Ec(){return new se(Et.comparator)}function n0(){return new se(Et.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g2={and:"AND",or:"OR"};class m2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wg(r,t){return r.useProto3Json||Pl(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function p2(r,t){return Yc(r,t.toTimestamp())}function yn(r){return jt(!!r,49232),At.fromTimestamp(function(n){const a=Ir(n);return new Re(a.seconds,a.nanos)}(r))}function am(r,t){return bg(r,t).canonicalString()}function bg(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function dT(r){const t=te.fromString(r);return jt(vT(t),10190,{key:t.toString()}),t}function Kc(r,t){return am(r.databaseId,t.path)}function _l(r,t){const n=dT(t);if(n.get(1)!==r.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Et(mT(n))}function gT(r,t){return am(r.databaseId,t)}function y2(r){const t=dT(r);return t.length===4?te.emptyPath():mT(t)}function Sg(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function i0(r,t,n){return{name:Kc(r,t),fields:n.value.mapValue.fields}}function _2(r,t){return"found"in t?function(a,o){jt(!!o.found,43571),o.found.name,o.found.updateTime;const u=_l(a,o.found.name),f=yn(o.found.updateTime),g=o.found.createTime?yn(o.found.createTime):At.min(),m=new Je({mapValue:{fields:o.found.fields}});return Ne.newFoundDocument(u,f,g,m)}(r,t):"missing"in t?function(a,o){jt(!!o.missing,3894),jt(!!o.readTime,22933);const u=_l(a,o.missing),f=yn(o.readTime);return Ne.newNoDocument(u,f)}(r,t):Tt(7234,{result:t})}function v2(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(jt(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(p){const E=p.code===void 0?st.UNKNOWN:uT(p.code);return new mt(E,p.message||"")}(f);n=new hT(a,o,u,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=_l(r,a.document.name),u=yn(a.document.updateTime),f=a.document.createTime?yn(a.document.createTime):At.min(),g=new Je({mapValue:{fields:a.document.fields}}),m=Ne.newFoundDocument(o,u,f,g),p=a.targetIds||[],E=a.removedTargetIds||[];n=new xc(p,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=_l(r,a.document),u=a.readTime?yn(a.readTime):At.min(),f=Ne.newNoDocument(o,u),g=a.removedTargetIds||[];n=new xc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=_l(r,a.document),u=a.removedTargetIds||[];n=new xc([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new u2(o,u),g=a.targetId;n=new cT(g,f)}}return n}function pT(r,t){let n;if(t instanceof Ul)n={update:i0(r,t.key,t.value)};else if(t instanceof nm)n={delete:Kc(r,t.key)};else if(t instanceof Lr)n={update:i0(r,t.key,t.data),updateMask:x2(t.fieldMask)};else{if(!(t instanceof oT))return Tt(16599,{ft:t.type});n={verify:Kc(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const g=f.transform;if(g instanceof Qc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Il)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw Tt(20930,{transform:f.transform})}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:p2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function E2(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?yn(o.updateTime):yn(u);return f.isEqual(At.min())&&(f=yn(u)),new r2(f,o.transformResults||[])}(n,t))):[]}function T2(r,t){return{documents:[gT(r,t.path)]}}function w2(r,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=gT(r,o);const u=function(p){if(p.length!==0)return _T(jn.create(p,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(A){return{field:As(A.field),direction:A2(A.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=wg(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:o}}function b2(r){let t=y2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){jt(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(C){const A=yT(C);return A instanceof jn&&HE(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(A=>function(k){return new Fc(Rs(k.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(n.orderBy));let g=null;n.limit&&(g=function(C){let A;return A=typeof C=="object"?C.value:C,Pl(A)?null:A}(n.limit));let m=null;n.startAt&&(m=function(C){const A=!!C.before,U=C.values||[];return new Gc(U,A)}(n.startAt));let p=null;return n.endAt&&(p=function(C){const A=!C.before,U=C.values||[];return new Gc(U,A)}(n.endAt)),FC(t,o,f,u,g,"F",m,p)}function S2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Rs(n.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Rs(n.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Rs(n.unaryFilter.field);return ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Rs(n.unaryFilter.field);return ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return ve.create(Rs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(a=>yT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function A2(r){return f2[r]}function R2(r){return d2[r]}function C2(r){return g2[r]}function As(r){return{fieldPath:r.canonicalString()}}function Rs(r){return qe.fromServerFormat(r.fieldPath)}function _T(r){return r instanceof ve?function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:R2(n.op),value:n.value}}}(r):r instanceof jn?function(n){const a=n.getFilters().map(o=>_T(o));return a.length===1?a[0]:{compositeFilter:{op:C2(n.op),filters:a}}}(r):Tt(54877,{filter:r})}function x2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function vT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n,a,o,u=At.min(),f=At.min(),g=He.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.wt=t}}function I2(r){const t=b2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.Cn=new V2}addToCollectionParentIndex(t,n){return this.Cn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(Dr.min())}updateCollectionGroup(t,n,a){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class V2{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new Ce(te.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ce(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(ET,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Us(0)}static lr(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",M2=1048576;function s0([r,t],[n,a]){const o=Ot(r,n);return o===0?Ot(t,a):o}class N2{constructor(t){this.Er=t,this.buffer=new Ce(s0),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();s0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P2{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){yt(a0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?yt(a0,"Ignoring IndexedDB error during garbage collection: ",n):await qs(n)}await this.mr(3e5)})}}class L2{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(uh.le);const a=new N2(n);return this.gr.forEachTarget(t,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.gr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(r0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let a,o,u,f,g,m,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(t,o))).next(C=>(a=C,g=Date.now(),this.removeTargets(t,a,n))).next(C=>(u=C,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(C=>(p=Date.now(),bs()<=Bt.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${C} documents in `+(p-m)+`ms
Total Duration: ${p-E}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C})))}}function U2(r,t){return new L2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.changes=new Da(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ne.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?lt.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&yl(a.mutation,o,pn.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,Pt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=Pt()){const o=wa();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let f=ll();return u.forEach((g,m)=>{f=f.insert(g,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const a=wa();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,Pt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,a,o){let u=Qi();const f=pl(),g=function(){return pl()}();return n.forEach((m,p)=>{const E=a.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Lr)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),yl(E.mutation,p,E.mutation.getFieldMask(),Re.now())):f.set(p.key,pn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var C;return g.set(p,new z2(E,(C=f.get(p))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,n){const a=pl();let o=new se((f,g)=>f-g),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let E=a.get(m)||pn.empty();E=g.applyToLocalView(p,E),a.set(m,E);const C=(o.get(g.batchId)||Pt()).add(m);o=o.insert(g.batchId,C)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,E=m.value,C=WE();E.forEach(A=>{if(!u.has(A)){const U=aT(n.get(A),a.get(A));U!==null&&C.set(A,U),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,p,C))}return lt.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):YE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):lt.resolve(wa());let g=Sl,m=u;return f.next(p=>lt.forEach(p,(E,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),u.get(E)?lt.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{m=m.insert(E,A)}))).next(()=>this.populateOverlays(t,p,u)).next(()=>this.computeViews(t,m,p,Pt())).next(E=>({batchId:g,changes:ZE(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(a=>{let o=ll();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let f=ll();return this.indexManager.getCollectionParents(t,u).next(g=>lt.forEach(g,m=>{const p=function(C,A){return new Ll(A,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,a,o).next(E=>{E.forEach((C,A)=>{f=f.insert(C,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(f=>{u.forEach((m,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Ne.newInvalidDocument(E)))});let g=ll();return f.forEach((m,p)=>{const E=u.get(m);E!==void 0&&yl(E.mutation,p,pn.empty(),Re.now()),fh(n,p)&&(g=g.insert(m,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return lt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yn(o.createTime)}}(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:I2(o.bundledQuery),readTime:yn(o.readTime)}}(n)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.overlays=new se(Et.comparator),this.Qr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const a=wa();return lt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.St(t,n,u)}),lt.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),lt.resolve()}getOverlaysForCollection(t,n,a){const o=wa(),u=n.length+1,f=new Et(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new se((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=wa(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=wa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return lt.resolve(g)}St(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new l2(n,a));let u=this.Qr.get(n);u===void 0&&(u=Pt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.$r=new Ce(Me.Ur),this.Kr=new Ce(Me.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const a=new Me(t,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.zr(new Me(t,n))}jr(t,n){t.forEach(a=>this.removeReference(a,n))}Hr(t){const n=new Et(new te([])),a=new Me(n,t),o=new Me(n,t+1),u=[];return this.Kr.forEachInRange([a,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Et(new te([])),a=new Me(n,t),o=new Me(n,t+1);let u=Pt();return this.Kr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Me(t,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Me{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Et.comparator(t.key,n.key)||Ot(t.Zr,n.Zr)}static Wr(t,n){return Ot(t.Zr,n.Zr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ce(Me.Ur)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new o2(u,n,a,o);this.mutationQueue.push(f);for(const g of o)this.Xr=this.Xr.add(new Me(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return lt.resolve(f)}lookupMutationBatch(t,n){return lt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Xg:this.nr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Me(n,0),o=new Me(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],f=>{const g=this.ei(f.Zr);u.push(g)}),lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Ce(Ot);return n.forEach(o=>{const u=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],g=>{a=a.add(g.Zr)})}),lt.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;Et.isDocumentKey(u)||(u=u.child(""));const f=new Me(new Et(u),0);let g=new Ce(Ot);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(g=g.add(m.Zr)),!0)},f),lt.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){jt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return lt.forEach(n.mutations,o=>{const u=new Me(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,n){const a=new Me(n,0),o=this.Xr.firstAfterOrEqual(a);return lt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.ii=t,this.docs=function(){return new se(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return lt.resolve(a?a.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(t,n){let a=Qi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Ne.newInvalidDocument(o))}),lt.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=Qi();const f=n.path,g=new Et(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:E}}=m.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||bC(wC(E),a)<=0||(o.has(E.key)||fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(t,n,a,o){Tt(9500)}si(t,n){return lt.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new Q2(this)}getSize(t){return lt.resolve(this.size)}}class Q2 extends k2{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(a)}),lt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.persistence=t,this.oi=new Da(n=>Wg(n),Jg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new sm,this.targetCount=0,this.ui=Us.cr()}forEachTarget(t,n){return this.oi.forEach((a,o)=>n(o)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),lt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Us(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.Tr(n),lt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),lt.waitFor(u).next(()=>o)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const a=this.oi.get(n)||null;return lt.resolve(a)}addMatchingKeys(t,n,a){return this.ai.Gr(n,a),lt.resolve()}removeMatchingKeys(t,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),lt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const a=this.ai.Yr(n);return lt.resolve(a)}containsKey(t,n){return lt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.ci={},this.overlays={},this.li=new uh(0),this.hi=!1,this.hi=!0,this.Pi=new H2,this.referenceDelegate=t(this),this.Ti=new Y2(this),this.indexManager=new O2,this.remoteDocumentCache=function(o){return new F2(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new D2(n),this.Ei=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new q2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ci[t.toKey()];return a||(a=new G2(n,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,a){yt("MemoryPersistence","Starting transaction:",t);const o=new K2(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return lt.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,n)))}}class K2 extends AC{constructor(t){super(),this.currentSequenceNumber=t}}class om{constructor(t){this.persistence=t,this.Vi=new sm,this.mi=null}static fi(t){return new om(t)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(t,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),lt.resolve()}removeReference(t,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),lt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.gi,a=>{const o=Et.fromPath(a);return this.pi(t,o).next(u=>{u||n.removeEntry(o,At.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return lt.or([()=>lt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Xc{constructor(t,n){this.persistence=t,this.yi=new Da(a=>xC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=U2(this,n)}static fi(t,n){return new Xc(t,n)}di(){}Ai(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}br(t){let n=0;return this.yr(t,a=>{n++}).next(()=>n)}yr(t,n){return lt.forEach(this.yi,(a,o)=>this.Dr(t,a,o).next(u=>u?lt.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(g=>{g||(a++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.yi.set(a,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,a){return this.yi.set(a,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),lt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ac(t.data.value)),n}Dr(t,n,a){return lt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return lt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.ds=a,this.As=o}static Rs(t,n){let a=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lm(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QA()?8:RC(GA())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new X2;return this.Ss(t,n,f).next(g=>{if(u.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>u.result)}Ds(t,n,a,o){return a.documentReadCount<this.gs?(bs()<=Bt.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),lt.resolve()):(bs()<=Bt.DEBUG&&yt("QueryEngine","Query:",Ss(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(bs()<=Bt.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):lt.resolve())}ws(t,n){if(Kv(n))return lt.resolve(null);let a=li(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Tg(n,null,"F"),a=li(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Pt(...u);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,a).next(m=>{const p=this.vs(n,g);return this.Cs(n,p,f,m.readTime)?this.ws(t,Tg(n,null,"F")):this.Fs(t,p,n,m)}))})))}bs(t,n,a,o){return Kv(n)||o.isEqual(At.min())?lt.resolve(null):this.ys.getDocuments(t,a).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,a,o)?lt.resolve(null):(bs()<=Bt.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ss(n)),this.Fs(t,f,n,TC(o,Sl)).next(g=>g))})}vs(t,n){let a=new Ce(XE(t));return n.forEach((o,u)=>{fh(t,u)&&(a=a.add(u))}),a}Cs(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,a){return bs()<=Bt.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.ys.getDocumentsMatchingQuery(t,n,Dr.min(),a)}Fs(t,n,a,o){return this.ys.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",Z2=3e8;class W2{constructor(t,n,a,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new se(Ot),this.Os=new Da(u=>Wg(u),Jg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new B2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function J2(r,t,n,a){return new W2(r,t,n,a)}async function wT(r,t){const n=Ct(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],g=[];let m=Pt();for(const p of o){f.push(p.batchId);for(const E of p.mutations)m=m.add(E.key)}for(const p of u){g.push(p.batchId);for(const E of p.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(a,m).next(p=>({ks:p,removedBatchIds:f,addedBatchIds:g}))})})}function tx(r,t){const n=Ct(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,m,p,E){const C=p.batch,A=C.keys();let U=lt.resolve();return A.forEach(k=>{U=U.next(()=>E.getEntry(m,k)).next(Y=>{const Q=p.docVersions.get(k);jt(Q!==null,48541),Y.version.compareTo(Q)<0&&(C.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(m,C))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let m=Pt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(m=m.add(g.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function bT(r){const t=Ct(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function ex(r,t){const n=Ct(r),a=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const g=[];t.targetChanges.forEach((E,C)=>{const A=o.get(C);if(!A)return;g.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,C).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,C)));let U=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(C)!==null?U=U.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,a)),o=o.insert(C,U),function(Y,Q,$){return Y.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=Z2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,U,E)&&g.push(n.Ti.updateTargetData(u,U))});let m=Qi(),p=Pt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),g.push(nx(u,f,t.documentUpdates).next(E=>{m=E.qs,p=E.Qs})),!a.isEqual(At.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(C=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));g.push(E)}return lt.waitFor(g).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,p)).next(()=>m)}).then(u=>(n.xs=o,u))}function nx(r,t,n){let a=Pt(),o=Pt();return n.forEach(u=>a=a.add(u)),t.getEntries(r,a).next(u=>{let f=Qi();return n.forEach((g,m)=>{const p=u.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(g,m.readTime),f=f.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),f=f.insert(g,m)):yt(um,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)}),{qs:f,Qs:o}})}function ix(r,t){const n=Ct(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Xg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function rx(r,t){const n=Ct(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,t).next(u=>u?(o=u,lt.resolve(o)):n.Ti.allocateTargetId(a).next(f=>(o=new br(t,f,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(t,a.targetId)),a})}async function Ag(r,t,n){const a=Ct(r),o=a.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Hs(f))throw f;yt(um,`Failed to update sequence numbers for target ${t}: ${f}`)}a.xs=a.xs.remove(t),a.Os.delete(o.target)}function o0(r,t,n){const a=Ct(r);let o=At.min(),u=Pt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(m,p,E){const C=Ct(m),A=C.Os.get(E);return A!==void 0?lt.resolve(C.xs.get(A)):C.Ti.getTargetData(p,E)}(a,f,li(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(f,g.targetId).next(m=>{u=m})}).next(()=>a.Ms.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Pt())).next(g=>(ax(a,YC(t),g),{documents:g,$s:u})))}function ax(r,t,n){let a=r.Ns.get(t)||At.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(t,a)}class l0{constructor(){this.activeTargetIds=JC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sx{constructor(){this.xo=new l0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,a){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new l0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){yt(u0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){yt(u0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function Rg(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ux{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(t,n,a,o,u){const f=Rg(),g=this.jo(t,n.toUriEncodedString());yt(Xd,`Sending RPC '${t}' ${f}:`,g,a);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:p}=new URL(g),E=Qg(p);return this.Jo(t,g,m,a,E).then(C=>(yt(Xd,`Received RPC '${t}' ${f}: `,C),C),C=>{throw Ms(Xd,`RPC '${t}' ${f} failed with error: `,C,"url: ",g,"request:",a),C})}Yo(t,n,a,o,u,f){return this.zo(t,n,a,o,u)}Ho(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const a=lx[t];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class hx extends ux{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,o,u){const f=Rg();return new Promise((g,m)=>{const p=new wE;p.setWithCredentials(!0),p.listenOnce(bE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Sc.NO_ERROR:const C=p.getResponseJson();yt(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(C)),g(C);break;case Sc.TIMEOUT:yt(Ye,`RPC '${t}' ${f} timed out`),m(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const A=p.getStatus();if(yt(Ye,`RPC '${t}' ${f} failed with status:`,A,"response text:",p.getResponseText()),A>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const k=U==null?void 0:U.error;if(k&&k.status&&k.message){const Y=function($){const ct=$.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(ct)>=0?ct:st.UNKNOWN}(k.status);m(new mt(Y,k.message))}else m(new mt(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(st.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{h_:t,streamId:f,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{yt(Ye,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);yt(Ye,`RPC '${t}' ${f} sending request:`,o),p.send(n,"POST",E,a,15)})}I_(t,n,a){const o=Rg(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=RE(),g=AE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const E=u.join("");yt(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,m);const C=f.createWebChannel(E,m);this.E_(C);let A=!1,U=!1;const k=new cx({Zo:Q=>{U?yt(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(A||(yt(Ye,`Opening RPC '${t}' stream ${o} transport.`),C.open(),A=!0),yt(Ye,`RPC '${t}' stream ${o} sending:`,Q),C.send(Q))},Xo:()=>C.close()}),Y=(Q,$,ct)=>{Q.listen($,G=>{try{ct(G)}catch(_){setTimeout(()=>{throw _},0)}})};return Y(C,ol.EventType.OPEN,()=>{U||(yt(Ye,`RPC '${t}' stream ${o} transport opened.`),k.__())}),Y(C,ol.EventType.CLOSE,()=>{U||(U=!0,yt(Ye,`RPC '${t}' stream ${o} transport closed`),k.u_(),this.d_(C))}),Y(C,ol.EventType.ERROR,Q=>{U||(U=!0,Ms(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),k.u_(new mt(st.UNAVAILABLE,"The operation could not be completed")))}),Y(C,ol.EventType.MESSAGE,Q=>{var $;if(!U){const ct=Q.data[0];jt(!!ct,16349);const G=ct,_=(G==null?void 0:G.error)||(($=G[0])===null||$===void 0?void 0:$.error);if(_){yt(Ye,`RPC '${t}' stream ${o} received error:`,_);const w=_.status;let I=function(S){const O=_e[S];if(O!==void 0)return uT(O)}(w),x=_.message;I===void 0&&(I=st.INTERNAL,x="Unknown error status: "+w+" with message "+_.message),U=!0,k.u_(new mt(I,x)),C.close()}else yt(Ye,`RPC '${t}' stream ${o} received:`,ct),k.c_(ct)}}),Y(g,SE.STAT_EVENT,Q=>{Q.stat===gg.PROXY?yt(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===gg.NOPROXY&&yt(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return new m2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,n,a=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class ST{constructor(t,n,a,o,u,f,g,m){this.xi=t,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new cm(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{t(()=>{const o=new mt(st.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(t,n){const a=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return yt(h0,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(yt(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fx extends ST{constructor(t,n,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=v2(this.serializer,t),a=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?yn(f.readTime):At.min()}(t);return this.listener.Y_(n,a)}Z_(t){const n={};n.database=Sg(this.serializer),n.addTarget=function(u,f){let g;const m=f.target;if(g=vg(m)?{documents:T2(u,m)}:{query:w2(u,m).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=fT(u,f.resumeToken);const p=wg(u,f.expectedCount);p!==null&&(g.expectedCount=p)}else if(f.snapshotVersion.compareTo(At.min())>0){g.readTime=Yc(u,f.snapshotVersion.toTimestamp());const p=wg(u,f.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const a=S2(this.serializer,t);a&&(n.labels=a),this.Q_(n)}X_(t){const n={};n.database=Sg(this.serializer),n.removeTarget=t,this.Q_(n)}}class dx extends ST{constructor(t,n,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=E2(t.writeResults,t.commitTime),a=yn(t.commitTime);return this.listener.ra(a,n)}ia(){const t={};t.database=Sg(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>pT(this.serializer,a))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{}class mx extends gx{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,bg(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(st.UNKNOWN,u.toString())})}Yo(t,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,bg(n,a),o,f,g,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new mt(st.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class px{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fi(n),this.ua=!1):yt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class yx{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{a.enqueueAndForget(async()=>{Ia(this)&&(yt(Ra,"Restarting streams for network reachability change."),await async function(m){const p=Ct(m);p.da.add(4),await zl(p),p.Va.set("Unknown"),p.da.delete(4),await yh(p)}(this))})}),this.Va=new px(a,o)}}async function yh(r){if(Ia(r))for(const t of r.Aa)await t(!0)}async function zl(r){for(const t of r.Aa)await t(!1)}function AT(r,t){const n=Ct(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),gm(n)?dm(n):Gs(n).N_()&&fm(n,t))}function hm(r,t){const n=Ct(r),a=Gs(n);n.Ea.delete(t),a.N_()&&RT(n,t),n.Ea.size===0&&(a.N_()?a.k_():Ia(n)&&n.Va.set("Unknown"))}function fm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gs(r).Z_(t)}function RT(r,t){r.ma.Ke(t),Gs(r).X_(t)}function dm(r){r.ma=new h2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.Va.ca()}function gm(r){return Ia(r)&&!Gs(r).O_()&&r.Ea.size>0}function Ia(r){return Ct(r).da.size===0}function CT(r){r.ma=void 0}async function _x(r){r.Va.set("Online")}async function vx(r){r.Ea.forEach((t,n)=>{fm(r,t)})}async function Ex(r,t){CT(r),gm(r)?(r.Va.Pa(t),dm(r)):r.Va.set("Unknown")}async function Tx(r,t,n){if(r.Va.set("Online"),t instanceof hT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ea.delete(g),o.ma.removeTarget(g))}(r,t)}catch(a){yt(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(r,a)}else if(t instanceof xc?r.ma.Xe(t):t instanceof cT?r.ma.ot(t):r.ma.nt(t),!n.isEqual(At.min()))try{const a=await bT(r.localStore);n.compareTo(a)>=0&&await function(u,f){const g=u.ma.It(f);return g.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ea.get(p);E&&u.Ea.set(p,E.withResumeToken(m.resumeToken,f))}}),g.targetMismatches.forEach((m,p)=>{const E=u.Ea.get(m);if(!E)return;u.Ea.set(m,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),RT(u,m);const C=new br(E.target,m,p,E.sequenceNumber);fm(u,C)}),u.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(a){yt(Ra,"Failed to raise snapshot:",a),await $c(r,a)}}async function $c(r,t,n){if(!Hs(t))throw t;r.da.add(1),await zl(r),r.Va.set("Offline"),n||(n=()=>bT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{yt(Ra,"Retrying IndexedDB access"),await n(),r.da.delete(1),await yh(r)})}function xT(r,t){return t().catch(n=>$c(r,n,t))}async function _h(r){const t=Ct(r),n=Mr(t);let a=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Xg;for(;wx(t);)try{const o=await ix(t.localStore,a);if(o===null){t.Ia.length===0&&n.k_();break}a=o.batchId,bx(t,o)}catch(o){await $c(t,o)}DT(t)&&IT(t)}function wx(r){return Ia(r)&&r.Ia.length<10}function bx(r,t){r.Ia.push(t);const n=Mr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function DT(r){return Ia(r)&&!Mr(r).O_()&&r.Ia.length>0}function IT(r){Mr(r).start()}async function Sx(r){Mr(r).ia()}async function Ax(r){const t=Mr(r);for(const n of r.Ia)t.ta(n.mutations)}async function Rx(r,t,n){const a=r.Ia.shift(),o=im.from(a,t,n);await xT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _h(r)}async function Cx(r,t){t&&Mr(r).ea&&await async function(a,o){if(function(f){return lT(f)&&f!==st.ABORTED}(o.code)){const u=a.Ia.shift();Mr(a).L_(),await xT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await _h(a)}}(r,t),DT(r)&&IT(r)}async function f0(r,t){const n=Ct(r);n.asyncQueue.verifyOperationInProgress(),yt(Ra,"RemoteStore received new credentials");const a=Ia(n);n.da.add(3),await zl(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await yh(n)}async function xx(r,t){const n=Ct(r);t?(n.da.delete(2),await yh(n)):t||(n.da.add(2),await zl(n),n.Va.set("Unknown"))}function Gs(r){return r.fa||(r.fa=function(n,a,o){const u=Ct(n);return u.oa(),new fx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:_x.bind(null,r),n_:vx.bind(null,r),i_:Ex.bind(null,r),Y_:Tx.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),gm(r)?dm(r):r.Va.set("Unknown")):(await r.fa.stop(),CT(r))})),r.fa}function Mr(r){return r.ga||(r.ga=function(n,a,o){const u=Ct(n);return u.oa(),new dx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Sx.bind(null,r),i_:Cx.bind(null,r),na:Ax.bind(null,r),ra:Rx.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await _h(r)):(await r.ga.stop(),r.Ia.length>0&&(yt(Ra,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const f=Date.now()+a,g=new mm(t,n,f,o,u);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),Hs(r))return new mt(st.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(t){return new Is(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Et.comparator(n.key,a.key):(n,a)=>Et.comparator(n.key,a.key),this.keyedMap=ll(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Is)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Is;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.pa=new se(Et.comparator)}track(t){const n=t.doc.key,a=this.pa.get(n);a?t.type!==0&&a.type===3?this.pa=this.pa.insert(n,t):t.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.pa=this.pa.remove(n):t.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,ya:a}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,a)=>{t.push(a)}),t}}class ks{constructor(t,n,a,o,u,f,g,m,p){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,a,o,u){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new ks(t,n,Is.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class Ix{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ct(n),u=o.queries;o.queries=g0(),u.forEach((f,g)=>{for(const m of g.Sa)m.onError(a)})})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function g0(){return new Da(r=>KE(r),hh)}async function OT(r,t){const n=Ct(r);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(a=2):(u=new Dx,a=t.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=pm(f,`Initialization of query '${Ss(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&ym(n)}async function VT(r,t){const n=Ct(r),a=t.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function Ox(r,t){const n=Ct(r);let a=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Ma(o)&&(a=!0);f.ba=o}}a&&ym(n)}function Vx(r,t,n){const a=Ct(r),o=a.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(t)}function ym(r){r.Ca.forEach(t=>{t.next()})}var Cg,m0;(m0=Cg||(Cg={})).xa="default",m0.Cache="cache";class MT{constructor(t,n,a){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new ks(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ks.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t){this.key=t}}class PT{constructor(t){this.key=t}}class Mx{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.Za=XE(t),this.Xa=new Is(this.Za)}get eu(){return this.Ha}tu(t,n){const a=n?n.nu:new d0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,C)=>{const A=o.get(E),U=fh(this.query,C)?C:null,k=!!A&&this.mutatedKeys.has(A.key),Y=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Q=!1;A&&U?A.data.isEqual(U.data)?k!==Y&&(a.track({type:3,doc:U}),Q=!0):this.ru(A,U)||(a.track({type:2,doc:U}),Q=!0,(m&&this.Za(U,m)>0||p&&this.Za(U,p)<0)&&(g=!0)):!A&&U?(a.track({type:0,doc:U}),Q=!0):A&&!U&&(a.track({type:1,doc:A}),Q=!0,(m||p)&&(g=!0)),Q&&(U?(f=f.add(U),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Xa:f,nu:a,Cs:g,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((E,C)=>function(U,k){const Y=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:Q})}};return Y(U)-Y(k)}(E.type,C.type)||this.Za(E.doc,C.doc)),this.iu(a),o=o!=null&&o;const g=n&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,p=m!==this.Ja;return this.Ja=m,f.length!==0||p?{snapshot:new ks(this.query,t.Xa,u,f,t.mutatedKeys,m===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return t.forEach(a=>{this.Ya.has(a)||n.push(new PT(a))}),this.Ya.forEach(a=>{t.has(a)||n.push(new NT(a))}),n}au(t){this.Ha=t.$s,this.Ya=Pt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ks.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const _m="SyncEngine";class Nx{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class Px{constructor(t){this.key=t,this.cu=!1}}class Lx{constructor(t,n,a,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Da(g=>KE(g),hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new se(Et.comparator),this.Eu=new Map,this.du=new sm,this.Au={},this.Ru=new Map,this.Vu=Us.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Ux(r,t,n=!0){const a=jT(r);let o;const u=a.hu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await LT(a,t,n,!0),o}async function kx(r,t){const n=jT(r);await LT(n,t,!0,!1)}async function LT(r,t,n,a){const o=await rx(r.localStore,li(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await zx(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&AT(r.remoteStore,o),g}async function zx(r,t,n,a,o){r.fu=(C,A,U)=>async function(Y,Q,$,ct){let G=Q.view.tu($);G.Cs&&(G=await o0(Y.localStore,Q.query,!1).then(({documents:x})=>Q.view.tu(x,G)));const _=ct&&ct.targetChanges.get(Q.targetId),w=ct&&ct.targetMismatches.get(Q.targetId)!=null,I=Q.view.applyChanges(G,Y.isPrimaryClient,_,w);return y0(Y,Q.targetId,I.ou),I.snapshot}(r,C,A,U);const u=await o0(r.localStore,t,!0),f=new Mx(t,u.$s),g=f.tu(u.documents),m=kl.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=f.applyChanges(g,r.isPrimaryClient,m);y0(r,n,p.ou);const E=new Nx(t,n,f);return r.hu.set(t,E),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),p.snapshot}async function Bx(r,t,n){const a=Ct(r),o=a.hu.get(t),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(f=>!hh(f,t))),void a.hu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Ag(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&hm(a.remoteStore,o.targetId),xg(a,o.targetId)}).catch(qs)):(xg(a,o.targetId),await Ag(a.localStore,o.targetId,!0))}async function jx(r,t){const n=Ct(r),a=n.hu.get(t),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),hm(n.remoteStore,a.targetId))}async function qx(r,t,n){const a=Xx(r);try{const o=await function(f,g){const m=Ct(f),p=Re.now(),E=g.reduce((U,k)=>U.add(k.key),Pt());let C,A;return m.persistence.runTransaction("Locally write mutations","readwrite",U=>{let k=Qi(),Y=Pt();return m.Bs.getEntries(U,E).next(Q=>{k=Q,k.forEach(($,ct)=>{ct.isValidDocument()||(Y=Y.add($))})}).next(()=>m.localDocuments.getOverlayedDocuments(U,k)).next(Q=>{C=Q;const $=[];for(const ct of g){const G=s2(ct,C.get(ct.key).overlayedDocument);G!=null&&$.push(new Lr(ct.key,G,BE(G.value.mapValue),tn.exists(!0)))}return m.mutationQueue.addMutationBatch(U,p,$,g)}).next(Q=>{A=Q;const $=Q.applyToLocalDocumentSet(C,Y);return m.documentOverlayCache.saveOverlays(U,Q.batchId,$)})}).then(()=>({batchId:A.batchId,changes:ZE(C)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(f,g,m){let p=f.Au[f.currentUser.toKey()];p||(p=new se(Ot)),p=p.insert(g,m),f.Au[f.currentUser.toKey()]=p}(a,o.batchId,n),await Bl(a,o.changes),await _h(a.remoteStore)}catch(o){const u=pm(o,"Failed to persist write");n.reject(u)}}async function UT(r,t){const n=Ct(r);try{const a=await ex(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?jt(f.cu,14607):o.removedDocuments.size>0&&(jt(f.cu,42227),f.cu=!1))}),await Bl(n,a,t)}catch(a){await qs(a)}}function p0(r,t,n){const a=Ct(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,f)=>{const g=f.view.Fa(t);g.snapshot&&o.push(g.snapshot)}),function(f,g){const m=Ct(f);m.onlineState=g;let p=!1;m.queries.forEach((E,C)=>{for(const A of C.Sa)A.Fa(g)&&(p=!0)}),p&&ym(m)}(a.eventManager,t),o.length&&a.lu.Y_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Hx(r,t,n){const a=Ct(r);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a.Eu.get(t),u=o&&o.key;if(u){let f=new se(Et.comparator);f=f.insert(u,Ne.newNoDocument(u,At.min()));const g=Pt().add(u),m=new mh(At.min(),new Map,new se(Ot),f,g);await UT(a,m),a.Iu=a.Iu.remove(u),a.Eu.delete(t),vm(a)}else await Ag(a.localStore,t,!1).then(()=>xg(a,t,n)).catch(qs)}async function Gx(r,t){const n=Ct(r),a=t.batch.batchId;try{const o=await tx(n.localStore,t);zT(n,a,null),kT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Bl(n,o)}catch(o){await qs(o)}}async function Fx(r,t,n){const a=Ct(r);try{const o=await function(f,g){const m=Ct(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return m.mutationQueue.lookupMutationBatch(p,g).next(C=>(jt(C!==null,37113),E=C.keys(),m.mutationQueue.removeMutationBatch(p,C))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>m.localDocuments.getDocuments(p,E))})}(a.localStore,t);zT(a,t,n),kT(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Bl(a,o)}catch(o){await qs(o)}}function kT(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function zT(r,t,n){const a=Ct(r);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.Au[a.currentUser.toKey()]=o}}function xg(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Pu.get(t))r.hu.delete(a),n&&r.lu.gu(a,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(a=>{r.du.containsKey(a)||BT(r,a)})}function BT(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(hm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),vm(r))}function y0(r,t,n){for(const a of n)a instanceof NT?(r.du.addReference(a.key,t),Qx(r,a)):a instanceof PT?(yt(_m,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,t),r.du.containsKey(a.key)||BT(r,a.key)):Tt(19791,{pu:a})}function Qx(r,t){const n=t.key,a=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(a)||(yt(_m,"New document in limbo: "+n),r.Tu.add(a),vm(r))}function vm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new Et(te.fromString(t)),a=r.Vu.next();r.Eu.set(a,new Px(n)),r.Iu=r.Iu.insert(n,a),AT(r.remoteStore,new br(li(tm(n.path)),a,"TargetPurposeLimboResolution",uh.le))}}async function Bl(r,t,n){const a=Ct(r),o=[],u=[],f=[];a.hu.isEmpty()||(a.hu.forEach((g,m)=>{f.push(a.fu(m,t,n).then(p=>{var E;if((p||n)&&a.isPrimaryClient){const C=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(m.targetId,C?"current":"not-current")}if(p){o.push(p);const C=lm.Rs(m.targetId,p);u.push(C)}}))}),await Promise.all(f),a.lu.Y_(o),await async function(m,p){const E=Ct(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>lt.forEach(p,A=>lt.forEach(A.ds,U=>E.persistence.referenceDelegate.addReference(C,A.targetId,U)).next(()=>lt.forEach(A.As,U=>E.persistence.referenceDelegate.removeReference(C,A.targetId,U)))))}catch(C){if(!Hs(C))throw C;yt(um,"Failed to update sequence numbers: "+C)}for(const C of p){const A=C.targetId;if(!C.fromCache){const U=E.xs.get(A),k=U.snapshotVersion,Y=U.withLastLimboFreeSnapshotVersion(k);E.xs=E.xs.insert(A,Y)}}}(a.localStore,u))}async function Yx(r,t){const n=Ct(r);if(!n.currentUser.isEqual(t)){yt(_m,"User change. New user:",t.toKey());const a=await wT(n.localStore,t);n.currentUser=t,function(u,f){u.Ru.forEach(g=>{g.forEach(m=>{m.reject(new mt(st.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bl(n,a.ks)}}function Kx(r,t){const n=Ct(r),a=n.Eu.get(t);if(a&&a.cu)return Pt().add(a.key);{let o=Pt();const u=n.Pu.get(t);if(!u)return o;for(const f of u){const g=n.hu.get(f);o=o.unionWith(g.view.eu)}return o}}function jT(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hx.bind(null,t),t.lu.Y_=Ox.bind(null,t.eventManager),t.lu.gu=Vx.bind(null,t.eventManager),t}function Xx(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fx.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return J2(this.persistence,new $2,t.initialUser,this.serializer)}Su(t){return new TT(om.fi,this.serializer)}bu(t){return new sx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class $x extends Zc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){jt(this.persistence.referenceDelegate instanceof Xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new P2(a,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new TT(a=>Xc.fi(a,n),this.serializer)}}class Dg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>p0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yx.bind(null,this.syncEngine),await xx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ix}()}createDatastore(t){const n=ph(t.databaseInfo.databaseId),a=function(u){return new hx(u)}(t.databaseInfo);return function(u,f,g,m){return new mx(u,f,g,m)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,f,g){return new yx(a,o,u,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>p0(this.syncEngine,n,0),function(){return c0.C()?new c0:new ox}())}createSyncEngine(t,n){return function(o,u,f,g,m,p,E){const C=new Lx(o,u,f,g,m,p);return E&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Ct(o);yt(Ra,"RemoteStore shutting down."),u.da.add(5),await zl(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new mt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(o,u){const f=Ct(o),g={documents:u.map(C=>Kc(f.serializer,C))},m=await f.Yo("BatchGetDocuments",f.serializer.databaseId,te.emptyPath(),g,u.length),p=new Map;m.forEach(C=>{const A=_2(f.serializer,C);p.set(A.key.toString(),A)});const E=[];return u.forEach(C=>{const A=p.get(C.toString());jt(!!A,55234,{key:C}),E.push(A)}),E}(this.datastore,t);return n.forEach(a=>this.recordVersion(a)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new nm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,a)=>{const o=Et.fromPath(a);this.mutations.push(new oT(o,this.precondition(o)))}),await async function(a,o){const u=Ct(a),f={writes:o.map(g=>pT(u.serializer,g))};await u.zo("Commit",u.serializer.databaseId,te.emptyPath(),f)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Tt(50498,{Uu:t.constructor.name});n=At.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!n.isEqual(a))throw new mt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(At.min())?tn.exists(!1):tn.updateTime(n):tn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(At.min()))throw new mt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tn.updateTime(n)}return tn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n,a,o,u){this.asyncQueue=t,this.datastore=n,this.options=a,this.updateFunction=o,this.deferred=u,this.Ku=a.maxAttempts,this.x_=new cm(this.asyncQueue,"transaction_retry")}Wu(){this.Ku-=1,this.Gu()}Gu(){this.x_.y_(async()=>{const t=new Zx(this.datastore),n=this.zu(t);n&&n.then(a=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(a)}).catch(o=>{this.ju(o)}))}).catch(a=>{this.ju(a)})})}zu(t){try{const n=this.updateFunction(t);return!Pl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ju(t){this.Ku>0&&this.Hu(t)?(this.Ku-=1,this.asyncQueue.enqueueAndForget(()=>(this.Gu(),Promise.resolve()))):this.deferred.reject(t)}Hu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lT(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class Jx{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=IE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{yt(Nr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(yt(Nr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=pm(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),yt(Nr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await wT(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function _0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await tD(r);yt(Nr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>f0(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>f0(t.remoteStore,o)),r._onlineComponents=t}async function tD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){yt(Nr,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new Zc)}}else yt(Nr,"Using default OfflineComponentProvider"),await Zd(r,new $x(void 0));return r._offlineComponents}async function Em(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(yt(Nr,"Using user provided OnlineComponentProvider"),await _0(r,r._uninitializedComponentsProvider._online)):(yt(Nr,"Using default OnlineComponentProvider"),await _0(r,new Dg))),r._onlineComponents}function eD(r){return Em(r).then(t=>t.syncEngine)}function nD(r){return Em(r).then(t=>t.datastore)}async function HT(r){const t=await Em(r),n=t.eventManager;return n.onListen=Ux.bind(null,t.syncEngine),n.onUnlisten=Bx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jx.bind(null,t.syncEngine),n}function iD(r,t,n={}){const a=new oi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,g,m,p){const E=new qT({next:A=>{E.xu(),f.enqueueAndForget(()=>VT(u,C));const U=A.docs.has(g);!U&&A.fromCache?p.reject(new mt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&A.fromCache&&m&&m.source==="server"?p.reject(new mt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),C=new MT(tm(g.path),E,{includeMetadataChanges:!0,Qa:!0});return OT(u,C)}(await HT(r),r.asyncQueue,t,n,a)),a.promise}function rD(r,t,n={}){const a=new oi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,g,m,p){const E=new qT({next:A=>{E.xu(),f.enqueueAndForget(()=>VT(u,C)),A.fromCache&&m.source==="server"?p.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),C=new MT(g,E,{includeMetadataChanges:!0,Qa:!0});return OT(u,C)}(await HT(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,t,n){if(!n)throw new mt(st.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aD(r,t,n,a){if(t===!0&&a===!0)throw new mt(st.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function E0(r){if(!Et.isDocumentKey(r))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function T0(r){if(Et.isDocumentKey(r))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Yi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(r);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firestore.googleapis.com",w0=!0;class b0{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=w0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:w0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M2)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new fC;switch(a.type){case"firstParty":return new pC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=v0.get(n);a&&(yt("ComponentProvider","Removing Datastore"),v0.delete(n),a.terminate())}(this),Promise.resolve()}}function sD(r,t,n,a={}){var o;r=Yi(r,Eh);const u=Qg(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u&&(zA(`https://${m}`),HA("Firestore",!0)),f.host!==QT&&f.host!==m&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:m,ssl:u,emulatorOptions:a});if(!kc(p,g)&&(r._setSettings(p),a.mockUserToken)){let E,C;if(typeof a.mockUserToken=="string")E=a.mockUserToken,C=Ke.MOCK_USER;else{E=BA(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ke(A)}r._authCredentials=new dC(new xE(E,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fs(this.firestore,t,this._query)}}class en{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}}class Cr extends Fs{constructor(t,n,a){super(t,n,tm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Et(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function Ig(r,t,...n){if(r=Bn(r),FT("collection","path",t),r instanceof Eh){const a=te.fromString(t,...n);return T0(a),new Cr(r,null,a)}{if(!(r instanceof en||r instanceof Cr))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...n));return T0(a),new Cr(r.firestore,null,a)}}function jl(r,t,...n){if(r=Bn(r),arguments.length===1&&(t=IE.newId()),FT("doc","path",t),r instanceof Eh){const a=te.fromString(t,...n);return E0(a),new en(r,null,new Et(a))}{if(!(r instanceof en||r instanceof Cr))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...n));return E0(a),new en(r.firestore,r instanceof Cr?r.converter:null,new Et(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class A0{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new cm(this,"async_queue_retry"),this.rc=()=>{const a=$d();a&&yt(S0,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=t;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new oi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Hs(t))throw t;yt(S0,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(a=>{throw this.Xu=a,this.ec=!1,Fi("INTERNAL UNHANDLED ERROR: ",R0(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(t,n,a){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=mm.createAndSchedule(this,t,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Tt(47125,{cc:R0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function R0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qs extends Eh{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new A0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A0(t),this._firestoreClient=void 0,await t}}}function oD(r,t){const n=typeof r=="object"?r:JR(),a=typeof r=="string"?r:qc,o=KR(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=UA("firestore");u&&sD(o,...u)}return o}function Th(r){if(r._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lD(r),r._firestoreClient}function lD(r){var t,n,a;const o=r._freezeSettings(),u=function(g,m,p,E){return new OC(g,m,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,GT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Jx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(g){const m=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ca(He.fromBase64String(t))}catch(n){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ca(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Lr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(t,this.data,n,this.fieldTransforms)}}class YT{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new Lr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function KT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ic:r})}}class bm{constructor(t,n,a,o,u,f){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new bm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:a,Rc:!1});return o.Vc(t),o}mc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Wc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(KT(this.Ic)&&uD.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class hD{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||ph(t)}bc(t,n,a,o=!1){return new bm({Ic:t,methodName:n,wc:a,path:qe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(r){const t=r._freezeSettings(),n=ph(r._databaseId);return new hD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function XT(r,t,n,a,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,t,n,o);Am("Data must be an object, but it was:",f,a);const g=WT(a,f);let m,p;if(u.merge)m=new pn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const C of u.mergeFields){const A=Og(t,C,n);if(!f.contains(A))throw new mt(st.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);tw(E,A)||E.push(A)}m=new pn(E),p=f.fieldTransforms.filter(C=>m.covers(C.field))}else m=null,p=f.fieldTransforms;return new cD(new Je(g),m,p)}class Sh extends wh{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sh}}class Sm extends wh{constructor(t,n){super(t),this.Dc=n}_toFieldTransform(t){const n=new Il(t.serializer,tT(t.serializer,this.Dc));return new n2(t.path,n)}isEqual(t){return t instanceof Sm&&this.Dc===t.Dc}}function $T(r,t,n,a){const o=r.bc(1,t,n);Am("Data must be an object, but it was:",o,a);const u=[],f=Je.empty();Pr(a,(m,p)=>{const E=Rm(t,m,n);p=Bn(p);const C=o.mc(E);if(p instanceof Sh)u.push(E);else{const A=Hl(p,C);A!=null&&(u.push(E),f.set(E,A))}});const g=new pn(u);return new YT(f,g,o.fieldTransforms)}function ZT(r,t,n,a,o,u){const f=r.bc(1,t,n),g=[Og(t,a,n)],m=[o];if(u.length%2!=0)throw new mt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)g.push(Og(t,u[A])),m.push(u[A+1]);const p=[],E=Je.empty();for(let A=g.length-1;A>=0;--A)if(!tw(p,g[A])){const U=g[A];let k=m[A];k=Bn(k);const Y=f.mc(U);if(k instanceof Sh)p.push(U);else{const Q=Hl(k,Y);Q!=null&&(p.push(U),E.set(U,Q))}}const C=new pn(p);return new YT(E,C,f.fieldTransforms)}function fD(r,t,n,a=!1){return Hl(n,r.bc(a?4:3,t))}function Hl(r,t){if(JT(r=Bn(r)))return Am("Unsupported field value:",t,r),WT(r,t);if(r instanceof wh)return function(a,o){if(!KT(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const g of a){let m=Hl(g,o.fc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,t)}return function(a,o){if((a=Bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tT(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Re.fromDate(a);return{timestampValue:Yc(o.serializer,u)}}if(a instanceof Re){const u=new Re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,u)}}if(a instanceof Tm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ca)return{bytesValue:fT(o.serializer,a._byteString)};if(a instanceof en){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:am(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof wm)return function(f,g){return{mapValue:{fields:{[kE]:{stringValue:zE},[Hc]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw g.gc("VectorValues must only contain numeric values.");return em(g.serializer,p)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${vh(a)}`)}(r,t)}function WT(r,t){const n={};return VE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(r,(a,o)=>{const u=Hl(o,t.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function JT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Tm||r instanceof Ca||r instanceof en||r instanceof wh||r instanceof wm)}function Am(r,t,n){if(!JT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=vh(n);throw a==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+a)}}function Og(r,t,n){if((t=Bn(t))instanceof ql)return t._internalPath;if(typeof t=="string")return Rm(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,n)}const dD=new RegExp("[~\\*/\\[\\]]");function Rm(r,t,n){if(t.search(dD)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ql(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wc(r,t,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${a}`),f&&(m+=` in document ${o}`),m+=")"),new mt(st.INVALID_ARGUMENT,g+r+m)}function tw(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Cm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends Jc{data(){return super.data()}}function Cm(r,t){return typeof t=="string"?Rm(r,t):t instanceof ql?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class pD extends xm{}function yD(r,t,...n){let a=[];t instanceof xm&&a.push(t),a=a.concat(n),function(u){const f=u.filter(m=>m instanceof Dm).length,g=u.filter(m=>m instanceof Ah).length;if(f>1||f>0&&g>0)throw new mt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Ah extends pD{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Ah(t,n,a)}_apply(t){const n=this._parse(t);return ew(t._query,n),new Fs(t.firestore,t.converter,Eg(t._query,n))}_parse(t){const n=bh(t.firestore);return function(u,f,g,m,p,E,C){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new mt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){x0(C,E);const k=[];for(const Y of C)k.push(C0(m,u,Y));A={arrayValue:{values:k}}}else A=C0(m,u,C)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||x0(C,E),A=fD(g,f,C,E==="in"||E==="not-in");return ve.create(p,E,A)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function _D(r,t,n){const a=t,o=Cm("where",r);return Ah._create(o,a,n)}class Dm extends xm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dm(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const g=u.getFlattenedFilters();for(const m of g)ew(f,m),f=Eg(f,m)}(t._query,n),new Fs(t.firestore,t.converter,Eg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C0(r,t,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new mt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(t)&&n.indexOf("/")!==-1)throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(te.fromString(n));if(!Et.isDocumentKey(a))throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return qv(r,new Et(a))}if(n instanceof en)return qv(r,n._key);throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function x0(r,t){if(!Array.isArray(r)||r.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ew(r,t){const n=function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class nw{convertValue(t,n="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Pr(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[Hc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new wm(u)}convertGeoPoint(t){return new Tm(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const n=Ir(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=te.fromString(t);jt(vT(a),9688,{name:t});const o=new Rl(a.get(1),a.get(3)),u=new Et(a.popFirst(5));return o.isEqual(n)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class vD extends nw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ca(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Im extends Jc{constructor(t,n,a,o,u,f){super(t,n,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Cm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Dc extends Im{data(t={}){return super.data(t)}}class ED{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xs(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new Dc(this._firestore,this._userDataWriter,a.key,a,new xs(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(g=>{const m=new Dc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xs(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const m=new Dc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xs(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:TD(g.type),doc:m,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r){r=Yi(r,en);const t=Yi(r.firestore,Qs);return iD(Th(t),r._key).then(n=>SD(t,r,n))}class Om extends nw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ca(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}function D0(r){r=Yi(r,Fs);const t=Yi(r.firestore,Qs),n=Th(t),a=new Om(t);return mD(r._query),rD(n,r._query).then(o=>new ED(t,a,r,o))}function wD(r,t,n,...a){r=Yi(r,en);const o=Yi(r.firestore,Qs),u=bh(o);let f;return f=typeof(t=Bn(t))=="string"||t instanceof ql?ZT(u,"updateDoc",r._key,t,n,a):$T(u,"updateDoc",r._key,t),rw(o,[f.toMutation(r._key,tn.exists(!0))])}function bD(r,t){const n=Yi(r.firestore,Qs),a=jl(r),o=iw(r.converter,t);return rw(n,[XT(bh(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,tn.exists(!1))]).then(()=>a)}function rw(r,t){return function(a,o){const u=new oi;return a.asyncQueue.enqueueAndForget(async()=>qx(await eD(a),o,u)),u.promise}(Th(r),t)}function SD(r,t,n){const a=n.docs.get(t._key),o=new Om(r);return new Im(r,o,t._key,a,new xs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={maxAttempts:5};function cl(r,t){if((r=Bn(r)).firestore!==t)throw new mt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=bh(t)}get(t){const n=cl(t,this._firestore),a=new vD(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return Tt(24041);const u=o[0];if(u.isFoundDocument())return new Jc(this._firestore,a,u.key,u,n.converter);if(u.isNoDocument())return new Jc(this._firestore,a,n._key,null,n.converter);throw Tt(18433,{doc:u})})}set(t,n,a){const o=cl(t,this._firestore),u=iw(o.converter,n,a),f=XT(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,a);return this._transaction.set(o._key,f),this}update(t,n,a,...o){const u=cl(t,this._firestore);let f;return f=typeof(n=Bn(n))=="string"||n instanceof ql?ZT(this._dataReader,"Transaction.update",u._key,n,a,o):$T(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=cl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD extends RD{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=cl(t,this._firestore),a=new Om(this._firestore);return super.get(t).then(o=>new Im(this._firestore,a,n._key,o._document,new xs(!1,!1),n.converter))}}function aw(r,t,n){r=Yi(r,Qs);const a=Object.assign(Object.assign({},AD),n);return function(u){if(u.maxAttempts<1)throw new mt(st.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(u,f,g){const m=new oi;return u.asyncQueue.enqueueAndForget(async()=>{const p=await nD(u);new Wx(u.asyncQueue,p,g,f,m).Wu()}),m.promise}(Th(r),o=>t(new CD(r,o)),a)}function xD(r){return new Sm("increment",r)}(function(t,n=!0){(function(o){js=o})(WR),Bc(new wl("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),g=new Qs(new gC(a.getProvider("auth-internal")),new yC(f,a.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),Ds(Iv,Ov,t),Ds(Iv,Ov,"esm2017")})();const DD={apiKey:"AIzaSyCFgUZ9fWFwA8b25IAFNFTyhFwFgMhaHLE",authDomain:"wedding-album-95efe.firebaseapp.com",projectId:"wedding-album-95efe",storageBucket:"wedding-album-95efe.firebasestorage.app",messagingSenderId:"G-GTFRKJFC3J",appId:"1:896111173394:web:87fa72339839f5439b1dcb"},ID=_E(DD),ji=oD(ID),Vm="appStats",Ic=Nl("globalStats/fetchGlobalStats",async(r,{rejectWithValue:t})=>{try{const n=jl(ji,"globalStats",Vm),a=await Rh(n);return a.exists()?a.data():{totalLikes:0,totalComments:0,totalAlbumsViewed:0}}catch(n){return console.error("Error fetching global stats:",n),t(n.message)}}),Vg=Nl("globalStats/toggleGlobalLike",async(r,{rejectWithValue:t})=>{try{const n=jl(ji,"globalStats",Vm);return await aw(ji,async o=>{const u=await o.get(n);if(!u.exists())o.set(n,{totalLikes:0,totalComments:0,totalAlbumsViewed:0});else{const f=(u.data().totalLikes||0)+1;o.update(n,{totalLikes:f})}}),(await Rh(n)).data().totalLikes}catch(n){return console.error("Error toggling global like:",n),t(n.message)}}),th=Nl("globalStats/incrementAlbumsViewed",async(r,{rejectWithValue:t})=>{try{const n=jl(ji,"globalStats",Vm);return await wD(n,{totalAlbumsViewed:xD(1)}),(await Rh(n)).data().totalAlbumsViewed}catch(n){return console.error("Error incrementing album views:",n),t(n.message)}}),sw=cE({name:"globalStats",initialState:{totalLikes:0,totalComments:0,totalAlbumsViewed:0,status:"idle",error:null},reducers:{setTotalComments:(r,t)=>{r.totalComments=t.payload}},extraReducers:r=>{r.addCase(Ic.pending,t=>{t.status="loading"}).addCase(Ic.fulfilled,(t,n)=>{t.status="succeeded",t.totalLikes=n.payload.totalLikes||0,t.totalComments=n.payload.totalComments||0,t.totalAlbumsViewed=n.payload.totalAlbumsViewed||0}).addCase(Ic.rejected,(t,n)=>{t.status="failed",t.error=n.payload}).addCase(Vg.fulfilled,(t,n)=>{t.totalLikes=n.payload}).addCase(Vg.rejected,(t,n)=>{console.error("Failed to toggle global like:",n.payload)}).addCase(th.fulfilled,(t,n)=>{t.totalAlbumsViewed=n.payload}).addCase(th.rejected,(t,n)=>{console.error("Failed to increment album views:",n.payload)})}}),{setTotalComments:ow}=sw.actions,OD=sw.reducer,VD=Array.from({length:23},(r,t)=>({id:t,url:`./images/photo_${t+1}.jpeg`,caption:`Wedding Photo ${t+1}`})),Os=Nl("albums/fetchAlbums",async(r,{dispatch:t,rejectWithValue:n})=>{try{const a=Ig(ji,"albums"),o=await D0(a),u=[];let f=0;for(const g of o.docs){const m={id:g.id,...g.data()},p=yD(Ig(ji,"comments"),_D("albumId","==",g.id)),C=(await D0(p)).docs.map(A=>({id:A.id,...A.data()})).sort((A,U)=>new Date(A.timestamp)-new Date(U.timestamp));m.comments=C,f+=C.length,m.id==="wedding-album-flipbook"&&(m.photos=VD,m.isFavorite=!0),u.push(m)}return t(ow(f)),u}catch(a){return console.error("Error fetching albums and comments:",a),n(a.message)}}),Mg=Nl("albums/addCommentToFirestore",async({albumId:r,text:t},{dispatch:n,rejectWithValue:a})=>{try{const o={albumId:r,text:t,timestamp:new Date().toISOString()},u=await bD(Ig(ji,"comments"),o),f=jl(ji,"globalStats","appStats");await aw(ji,async p=>{const E=await p.get(f);if(!E.exists())p.set(f,{totalComments:0,totalLikes:0,totalAlbumsViewed:0});else{const C=(E.data().totalComments||0)+1;p.update(f,{totalComments:C})}});const m=(await Rh(f)).data().totalComments;return n(ow(m)),{albumId:r,comment:{id:u.id,...o}}}catch(o){return console.error("Error adding comment to Firestore:",o),a(o.message)}}),lw=cE({name:"albums",initialState:{list:[],status:"idle",error:null},reducers:{toggleFavorite:(r,t)=>{const{albumId:n}=t.payload,a=r.list.find(o=>o.id===n);a&&(a.isFavorite=!a.isFavorite)}},extraReducers:r=>{r.addCase(Os.pending,t=>{t.status="loading"}).addCase(Os.fulfilled,(t,n)=>{t.status="succeeded",t.list=n.payload}).addCase(Os.rejected,(t,n)=>{t.status="failed",t.error=n.error.message}).addCase(Mg.fulfilled,(t,n)=>{const{albumId:a,comment:o}=n.payload,u=t.list.find(f=>f.id===a);u&&(u.comments||(u.comments=[]),u.comments.push(o))}).addCase(Mg.rejected,(t,n)=>{console.error("Failed to add comment:",n.payload)})}}),{toggleFavorite:eI}=lw.actions,MD=lw.reducer,ND=oA({reducer:{albums:MD,globalStats:OD}}),PD=()=>{const r=si(u=>u.globalStats.totalLikes),t=si(u=>u.globalStats.totalComments),n=si(u=>u.globalStats.totalAlbumsViewed);let a="No Comments";t>0&&t<=5?a="Good":t>5&&t<=15?a="Great":t>15&&(a="Awesome");const o=()=>{const u=document.getElementById("comments-section-id");u&&u.scrollIntoView({behavior:"smooth",block:"start"})};return gt.jsxs("nav",{className:"custom-topbar",children:[gt.jsxs("div",{className:"navbar-brand-left",children:[gt.jsx("div",{className:"album-subtitle",children:"Wedding Album"}),gt.jsx("div",{className:"subtitle",children:"Beautiful Moments"})]}),gt.jsxs("div",{className:"stats-container-center",children:[gt.jsxs("span",{className:"likes-section",children:[gt.jsx("i",{className:"fa fa-heart"}),"Likes: ",gt.jsx("span",{className:"badge badge-primary",children:r})]}),gt.jsxs("span",{className:"comments-section",onClick:o,children:[gt.jsx("i",{className:"fa fa-comment"}),"Comments: ",gt.jsx("span",{className:"badge badge-secondary",children:a})]}),gt.jsxs("span",{className:"albums-viewed-section",children:[gt.jsx("i",{className:"fa fa-eye"})," ","Views: ",gt.jsx("span",{className:"badge badge-success",children:n})," "]})]}),gt.jsx("div",{className:"navbar-right-placeholder"})]})};var hl={exports:{}},LD=hl.exports,I0;function UD(){return I0||(I0=1,function(r,t){(function(n,a){a(t)})(LD,function(n){class a{constructor(_,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=_}setDensity(_){this.createdDensity=_,this.nowDrawingDensity=_}setDrawingDensity(_){this.nowDrawingDensity=_}setPosition(_){this.state.position=_}setAngle(_){this.state.angle=_}setArea(_){this.state.area=_}setHardDrawingAngle(_){this.state.hardDrawingAngle=_}setHardAngle(_){this.state.hardAngle=_,this.state.hardDrawingAngle=_}setOrientation(_){this.orientation=_}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends a{constructor(_,w,I){super(_,I),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(_){const w=this.render.getContext(),I=this.render.convertToGlobal(this.state.position),x=this.render.getRect().pageWidth,b=this.render.getRect().height;w.save(),w.translate(I.x,I.y),w.beginPath();for(let S of this.state.area)S!==null&&(S=this.render.convertToGlobal(S),w.lineTo(S.x-I.x,S.y-I.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,x,b):this.drawLoader(w,{x:0,y:0},x,b),w.restore()}simpleDraw(_){const w=this.render.getRect(),I=this.render.getContext(),x=w.pageWidth,b=w.height,S=_===1?w.left+w.pageWidth:w.left,O=w.top;this.isLoad?I.drawImage(this.image,S,O,x,b):this.drawLoader(I,{x:S,y:O},x,b)}drawLoader(_,w,I,x){_.beginPath(),_.strokeStyle="rgb(200, 200, 200)",_.fillStyle="rgb(255, 255, 255)",_.lineWidth=1,_.rect(w.x+1,w.y+1,I-1,x-1),_.stroke(),_.fill();const b={x:w.x+I/2,y:w.y+x/2};_.beginPath(),_.lineWidth=10,_.arc(b.x,b.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),_.stroke(),_.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class u{constructor(_,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=_,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let _=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([_]),_++);for(let w=_;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(_){const w=this.getSpread();for(let I=0;I<w.length;I++)if(_===w[I][0]||_===w[I][1])return I;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(_){if(_>=0&&_<this.pages.length)return this.pages[_];throw new Error("Invalid page number")}nextBy(_){const w=this.pages.indexOf(_);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(_){const w=this.pages.indexOf(_);return w>0?this.pages[w-1]:null}getFlippingPage(_){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return _===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const I=_===0?this.getSpread()[w+1]:this.getSpread()[w-1];return I.length===1||_===0?this.pages[I[0]]:this.pages[I[1]]}}getBottomPage(_){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return _===0?this.pages[w+1]:this.pages[w-1];{const I=_===0?this.getSpread()[w+1]:this.getSpread()[w-1];return I.length===1?this.pages[I[0]]:_===0?this.pages[I[1]]:this.pages[I[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(_=null){if(_===null&&(_=this.currentPageIndex),_<0||_>=this.pages.length)return;const w=this.getSpreadIndexByPage(_);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(_){if(!(_>=0&&_<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=_}showSpread(){const _=this.getSpread()[this.currentSpreadIndex];_.length===2?(this.render.setLeftPage(this.pages[_[0]]),this.render.setRightPage(this.pages[_[1]])):this.render.getOrientation()==="landscape"&&_[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[_[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[_[0]])),this.currentPageIndex=_[0],this.app.updatePageIndex(this.currentPageIndex)}}class f extends u{constructor(_,w,I){super(_,w),this.imagesHref=I}load(){for(const _ of this.imagesHref){const w=new o(this.render,_,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class g{static GetDistanceBetweenTwoPoint(_,w){return _===null||w===null?1/0:Math.sqrt(Math.pow(w.x-_.x,2)+Math.pow(w.y-_.y,2))}static GetSegmentLength(_){return g.GetDistanceBetweenTwoPoint(_[0],_[1])}static GetAngleBetweenTwoLine(_,w){const I=_[0].y-_[1].y,x=w[0].y-w[1].y,b=_[1].x-_[0].x,S=w[1].x-w[0].x;return Math.acos((I*x+b*S)/(Math.sqrt(I*I+b*b)*Math.sqrt(x*x+S*S)))}static PointInRect(_,w){return w===null?null:w.x>=_.left&&w.x<=_.width+_.left&&w.y>=_.top&&w.y<=_.top+_.height?w:null}static GetRotatedPoint(_,w,I){return{x:_.x*Math.cos(I)+_.y*Math.sin(I)+w.x,y:_.y*Math.cos(I)-_.x*Math.sin(I)+w.y}}static LimitPointToCircle(_,w,I){if(g.GetDistanceBetweenTwoPoint(_,I)<=w)return I;const x=_.x,b=_.y,S=I.x,O=I.y;let N=Math.sqrt(Math.pow(w,2)*Math.pow(x-S,2)/(Math.pow(x-S,2)+Math.pow(b-O,2)))+x;I.x<0&&(N*=-1);let z=(N-x)*(b-O)/(x-S)+b;return x-S+b===0&&(z=w),{x:N,y:z}}static GetIntersectBetweenTwoSegment(_,w,I){return g.PointInRect(_,g.GetIntersectBeetwenTwoLine(w,I))}static GetIntersectBeetwenTwoLine(_,w){const I=_[0].y-_[1].y,x=w[0].y-w[1].y,b=_[1].x-_[0].x,S=w[1].x-w[0].x,O=_[0].x*_[1].y-_[1].x*_[0].y,N=w[0].x*w[1].y-w[1].x*w[0].y,z=I*N-x*O,V=b*N-S*O,at=-(O*S-N*b)/(I*S-x*b),X=-(I*N-x*O)/(I*S-x*b);if(isFinite(at)&&isFinite(X))return{x:at,y:X};if(Math.abs(z-V)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(_,w){const I=Math.abs(_.x-w.x),x=Math.abs(_.y-w.y),b=Math.max(I,x),S=[_];function O(N,z,V,at,X){return z>N?N+X*(V/at):z<N?N-X*(V/at):N}for(let N=1;N<=b;N+=1)S.push({x:O(_.x,w.x,I,b,N),y:O(_.y,w.y,x,b,N)});return S}}class m extends a{constructor(_,w,I){super(_,I),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+I)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new m(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(_){const w=_||this.nowDrawingDensity,I=this.render.convertToGlobal(this.state.position),x=this.render.getRect().pageWidth,b=this.render.getRect().height;this.element.classList.remove("--simple");const S=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${x}px;
            height: ${b}px;
        `;w==="hard"?this.drawHard(S):this.drawSoft(I,S)}drawHard(_=""){const w=this.render.getRect().left+this.render.getRect().width/2,I=this.state.hardDrawingAngle,x=_+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${I}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${I}deg);`);this.element.style.cssText=x}drawSoft(_,w=""){let I="polygon( ";for(const b of this.state.area)if(b!==null){let S=this.render.getDirection()===1?{x:-b.x+this.state.position.x,y:b.y-this.state.position.y}:{x:b.x-this.state.position.x,y:b.y-this.state.position.y};S=g.GetRotatedPoint(S,{x:0,y:0},this.state.angle),I+=S.x+"px "+S.y+"px, "}I=I.slice(0,-2),I+=")";const x=w+`transform-origin: 0 0; clip-path: ${I}; -webkit-clip-path: ${I};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${_.x}px, ${_.y}px);`:`transform: translate3d(${_.x}px, ${_.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=x}simpleDraw(_){const w=this.render.getRect(),I=w.pageWidth,x=w.height,b=_===1?w.left+w.pageWidth:w.left,S=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${x}px; 
            left: ${b}px; 
            top: ${S}px; 
            width: ${I}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(_){super.setOrientation(_),this.element.classList.remove("--left","--right"),this.element.classList.add(_===1?"--right":"--left")}setDrawingDensity(_){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+_),super.setDrawingDensity(_)}}class p extends u{constructor(_,w,I,x){super(_,w),this.element=I,this.pagesElement=x}load(){for(const _ of this.pagesElement){const w=new m(this.render,_,_.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class E{constructor(_,w,I,x){this.direction=_,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(I,10),this.pageHeight=parseInt(x,10)}calc(_){try{return this.position=this.calcAngleAndPosition(_),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const _=[];let w=!1;return _.push(this.rect.topLeft),_.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(_.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),_.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&_.push(this.rect.bottomLeft),_}getBottomClipArea(){const _=[];return _.push(this.topIntersectPoint),this.corner==="top"?_.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&_.push({x:this.pageWidth,y:0}),_.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?g.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&_.push(this.sideIntersectPoint):this.corner==="top"&&_.push({x:this.pageWidth,y:this.pageHeight}),_.push(this.bottomIntersectPoint),_.push(this.topIntersectPoint),_}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const _=g.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?_:Math.PI-_}calcAngleAndPosition(_){let w=_;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(_){this.angle=this.calculateAngle(_),this.rect=this.getPageRect(_)}calculateAngle(_){const w=this.pageWidth-_.x+1,I=this.corner==="bottom"?this.pageHeight-_.y:_.y;let x=2*Math.acos(w/Math.sqrt(I*I+w*w));I<0&&(x=-x);const b=Math.PI-x;if(!isFinite(x)||b>=0&&b<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(x=-x),x}getPageRect(_){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],_):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],_)}getRectFromBasePoint(_,w){return{topLeft:this.getRotatedPoint(_[0],w),topRight:this.getRotatedPoint(_[1],w),bottomLeft:this.getRotatedPoint(_[2],w),bottomRight:this.getRotatedPoint(_[3],w)}}getRotatedPoint(_,w){return{x:_.x*Math.cos(this.angle)+_.y*Math.sin(this.angle)+w.x,y:_.y*Math.cos(this.angle)-_.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(_){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=g.GetIntersectBetweenTwoSegment(w,[_,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=g.GetIntersectBetweenTwoSegment(w,[_,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=g.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=g.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=g.GetIntersectBetweenTwoSegment(w,[_,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=g.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(_,w,I){let x=_;const b=g.LimitPointToCircle(w,this.pageWidth,x);x!==b&&(x=b,this.updateAngleAndGeometry(x));const S=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let O=this.rect.bottomRight,N=this.rect.topLeft;if(this.corner==="bottom"&&(O=this.rect.topRight,N=this.rect.bottomLeft),O.x<=0){const z=g.LimitPointToCircle(I,S,N);z!==x&&(x=z,this.updateAngleAndGeometry(x))}return x}getSegmentToShadowLine(){const _=this.getShadowStartPoint();return[_,_!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class C{constructor(_,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=_,this.app=w}fold(_){this.setState("user_fold"),this.calc===null&&this.start(_),this.do(this.render.convertToPage(_))}flip(_){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(_)||(this.calc!==null&&this.render.finishAnimation(),!this.start(_)))return;const w=this.getBoundsRect();this.setState("flipping");const I=w.height/10,x=this.calc.getCorner()==="bottom"?w.height-I:I,b=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-I,y:x}),this.animateFlippingTo({x:w.pageWidth-I,y:x},{x:-w.pageWidth,y:b},!0)}start(_){this.reset();const w=this.render.convertToBook(_),I=this.getBoundsRect(),x=this.getDirectionByPoint(w),b=w.y>=I.height/2?"bottom":"top";if(!this.checkDirection(x))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(x),this.bottomPage=this.app.getPageCollection().getBottomPage(x),this.render.getOrientation()==="landscape")if(x===1){const S=this.app.getPageCollection().nextBy(this.flippingPage);S!==null&&this.flippingPage.getDensity()!==S.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),S.setDrawingDensity("hard"))}else{const S=this.app.getPageCollection().prevBy(this.flippingPage);S!==null&&this.flippingPage.getDensity()!==S.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),S.setDrawingDensity("hard"))}return this.render.setDirection(x),this.calc=new E(x,b,I.pageWidth.toString(10),I.height.toString(10)),!0}catch{return!1}}do(_){if(this.calc!==null&&this.calc.calc(_)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(_,w){const I=this.app.getPageCollection().getCurrentSpreadIndex(),x=this.app.getPageCollection().getSpreadIndexByPage(_);try{x>I&&(this.app.getPageCollection().setCurrentSpreadIndex(x-1),this.flipNext(w)),x<I&&(this.app.getPageCollection().setCurrentSpreadIndex(x+1),this.flipPrev(w))}catch{}}flipNext(_){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:_==="top"?1:this.render.getRect().height-2})}flipPrev(_){this.flip({x:10,y:_==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const _=this.calc.getPosition(),w=this.getBoundsRect(),I=this.calc.getCorner()==="bottom"?w.height:0;_.x<=0?this.animateFlippingTo(_,{x:-w.pageWidth,y:I},!0):this.animateFlippingTo(_,{x:w.pageWidth,y:I},!1)}showCorner(_){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),I=w.pageWidth;if(this.isPointOnCorners(_))if(this.calc===null){if(!this.start(_))return;this.setState("fold_corner"),this.calc.calc({x:I-1,y:1});const x=50,b=this.calc.getCorner()==="bottom"?w.height-1:1,S=this.calc.getCorner()==="bottom"?w.height-x:x;this.animateFlippingTo({x:I-1,y:b},{x:I-x,y:S},!1,!1)}else this.do(this.render.convertToPage(_));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(_,w,I,x=!0){const b=g.GetCordsFromTwoPoint(_,w),S=[];for(const N of b)S.push(()=>this.do(N));const O=this.getAnimationDuration(b.length);this.render.startAnimation(S,O,()=>{this.calc&&(I&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),x&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(_){this.state!==_&&(this.app.updateState(_),this.state=_)}getDirectionByPoint(_){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(_.x-w.pageWidth<=w.width/5)return 1}else if(_.x<w.width/2)return 1;return 0}getAnimationDuration(_){const w=this.app.getSettings().flippingTime;return _>=1e3?w:_/1e3*w}checkDirection(_){return _===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(..._){for(const w of _)if(this.state===w)return!0;return!1}isPointOnCorners(_){const w=this.getBoundsRect(),I=w.pageWidth,x=Math.sqrt(Math.pow(I,2)+Math.pow(w.height,2))/5,b=this.render.convertToBook(_);return b.x>0&&b.y>0&&b.x<w.width&&b.y<w.height&&(b.x<x||b.x>w.width-x)&&(b.y<x||b.y>w.height-x)}}class A{constructor(_,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=_;const I=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=I.exec(window.navigator.userAgent)!==null}render(_){if(this.animation!==null){const w=Math.round((_-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=_,this.drawFrame()}start(){this.update();const _=w=>{this.render(w),requestAnimationFrame(_)};requestAnimationFrame(_)}startAnimation(_,w,I){this.finishAnimation(),this.animation={frames:_,duration:w,durationFrame:w/_.length,onAnimateEnd:I,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const _=this.calculateBoundsRect();this.orientation!==_&&(this.orientation=_,this.app.updateOrientation(_))}calculateBoundsRect(){let _="landscape";const w=this.getBlockWidth(),I=w/2,x=this.getBlockHeight()/2,b=this.setting.width/this.setting.height;let S=this.setting.width,O=this.setting.height,N=I-S;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(_="portrait"),S=_==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,S>this.setting.maxWidth&&(S=this.setting.maxWidth),O=S/b,O>this.getBlockHeight()&&(O=this.getBlockHeight(),S=O*b),N=_==="portrait"?I-S/2-S:I-S):w<2*S&&this.app.getSettings().usePortrait&&(_="portrait",N=I-S/2-S),this.boundsRect={left:N,top:x-O/2,width:2*S,height:O,pageWidth:S},_}setShadowData(_,w,I,x){if(!this.app.getSettings().drawShadow)return;const b=100*this.getSettings().maxShadowOpacity;this.shadow={pos:_,angle:w,width:3*this.getRect().pageWidth/4*I/100,opacity:(100-I)*b/100/100,direction:x,progress:2*I}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(_){this.pageRect=_}setDirection(_){this.direction=_}setRightPage(_){_!==null&&_.setOrientation(1),this.rightPage=_}setLeftPage(_){_!==null&&_.setOrientation(0),this.leftPage=_}setBottomPage(_){_!==null&&_.setOrientation(this.direction===1?0:1),this.bottomPage=_}setFlippingPage(_){_!==null&&_.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=_}convertToBook(_){const w=this.getRect();return{x:_.x-w.left,y:_.y-w.top}}isSafari(){return this.safari}convertToPage(_,w){w||(w=this.direction);const I=this.getRect();return{x:w===0?_.x-I.left-I.width/2:I.width/2-_.x+I.left,y:_.y-I.top}}convertToGlobal(_,w){if(w||(w=this.direction),_==null)return null;const I=this.getRect();return{x:w===0?_.x+I.left+I.width/2:I.width/2-_.x+I.left,y:_.y+I.top}}convertRectToGlobal(_,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(_.topLeft,w),topRight:this.convertToGlobal(_.topRight,w),bottomLeft:this.convertToGlobal(_.bottomLeft,w),bottomRight:this.convertToGlobal(_.bottomRight,w)}}}class U extends A{constructor(_,w,I){super(_,w),this.canvas=I,this.ctx=I.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const _=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(_.left+_.pageWidth,_.top,_.width,_.height),this.ctx.clip())}drawBookShadow(){const _=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=_.width/20;this.ctx.rect(_.left,_.top,_.width,_.height);const I={x:_.left+_.width/2-w/2,y:0};this.ctx.translate(I.x,I.y);const x=this.ctx.createLinearGradient(0,0,w,0);x.addColorStop(0,"rgba(0, 0, 0, 0)"),x.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),x.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),x.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),x.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),x.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=x,this.ctx.fillRect(0,0,w,2*_.height),this.ctx.restore()}drawOuterShadow(){const _=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(_.left,_.top,_.width,_.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const I=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),I.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),I.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=I,this.ctx.fillRect(0,0,this.shadow.width,2*_.height),this.ctx.restore()}drawInnerShadow(){const _=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),I=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(I.topLeft.x,I.topLeft.y),this.ctx.lineTo(I.topRight.x,I.topRight.y),this.ctx.lineTo(I.bottomRight.x,I.bottomRight.y),this.ctx.lineTo(I.bottomLeft.x,I.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const x=3*this.shadow.width/4,b=this.ctx.createLinearGradient(0,0,x,0);this.shadow.direction===0?(this.ctx.translate(-x,-100),b.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),b.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),b.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),b.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),b.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),b.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),b.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),b.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=b,this.ctx.fillRect(0,0,x,2*_.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class k{constructor(_,w,I){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=b=>{if(this.checkTarget(b.target)){const S=this.getMousePos(b.clientX,b.clientY);this.app.startUserTouch(S),b.preventDefault()}},this.onTouchStart=b=>{if(this.checkTarget(b.target)&&b.changedTouches.length>0){const S=b.changedTouches[0],O=this.getMousePos(S.clientX,S.clientY);this.touchPoint={point:O,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(O)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||b.preventDefault()}},this.onMouseUp=b=>{const S=this.getMousePos(b.clientX,b.clientY);this.app.userStop(S)},this.onMouseMove=b=>{const S=this.getMousePos(b.clientX,b.clientY);this.app.userMove(S,!1)},this.onTouchMove=b=>{if(b.changedTouches.length>0){const S=b.changedTouches[0],O=this.getMousePos(S.clientX,S.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-O.x)>10||this.app.getState()!=="read")&&b.cancelable&&this.app.userMove(O,!0),this.app.getState()!=="read"&&b.preventDefault()):this.app.userMove(O,!0)}},this.onTouchEnd=b=>{if(b.changedTouches.length>0){const S=b.changedTouches[0],O=this.getMousePos(S.clientX,S.clientY);let N=!1;if(this.touchPoint!==null){const z=O.x-this.touchPoint.point.x,V=Math.abs(O.y-this.touchPoint.point.y);Math.abs(z)>this.swipeDistance&&V<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(z>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),N=!0),this.touchPoint=null}this.app.userStop(O,N)}},this.parentElement=_,_.classList.add("stf__parent"),_.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=_.querySelector(".stf__wrapper"),this.app=w;const x=this.app.getSettings().usePortrait?1:2;_.style.minWidth=I.minWidth*x+"px",_.style.minHeight=I.minHeight+"px",I.size==="fixed"&&(_.style.minWidth=I.width*x+"px",_.style.minHeight=I.height+"px"),I.autoSize&&(_.style.width="100%",_.style.maxWidth=2*I.maxWidth+"px"),_.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=I.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(_){this.wrapper.classList.remove("--portrait","--landscape"),_==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(_,w){const I=this.distElement.getBoundingClientRect();return{x:_-I.left,y:w-I.top}}checkTarget(_){return!this.app.getSettings().clickEventForward||!["a","button"].includes(_.tagName.toLowerCase())}}class Y extends k{constructor(_,w,I,x){super(_,w,I),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=_.querySelector(".stf__block"),this.items=x;for(const b of x)this.distElement.appendChild(b);this.setHandlers()}clear(){for(const _ of this.items)this.parentElement.appendChild(_)}updateItems(_){this.removeHandlers(),this.distElement.innerHTML="";for(const w of _)this.distElement.appendChild(w);this.items=_,this.setHandlers()}update(){this.app.getRender().update()}}class Q extends k{constructor(_,w,I){super(_,w,I),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=_.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const _=getComputedStyle(this.canvas),w=parseInt(_.getPropertyValue("width"),10),I=parseInt(_.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=I}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class $ extends A{constructor(_,w,I){super(_,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=I,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const _=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let I=(100-w)*(2.5*_.pageWidth)/100+20;I>_.pageWidth&&(I=_.pageWidth);let x=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${I}px;
            height: ${_.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${_.left+_.width/2}px;
            transform-origin: 0 0;
        `;x+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=x}drawHardOuterShadow(){const _=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*_.pageWidth)/100+20;w>_.pageWidth&&(w=_.pageWidth);let I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${_.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${_.left+_.width/2}px;
            transform-origin: 0 0;
        `;I+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=I}drawInnerShadow(){const _=this.getRect(),w=3*this.shadow.width/4,I=this.getDirection()===0?w:0,x=this.getDirection()===0?"to left":"to right",b=this.convertToGlobal(this.shadow.pos),S=this.shadow.angle+3*Math.PI/2,O=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let N="polygon( ";for(const V of O){let at=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};at=g.GetRotatedPoint(at,{x:I,y:100},S),N+=at.x+"px "+at.y+"px, "}N=N.slice(0,-2),N+=")";const z=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*_.height}px;
            background: linear-gradient(${x},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${I}px 100px;
            transform: translate3d(${b.x-I}px, ${b.y-100}px, 0) rotate(${S}rad);
            clip-path: ${N};
            -webkit-clip-path: ${N};
        `;this.innerShadow.style.cssText=z}drawOuterShadow(){const _=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),I=this.shadow.angle+3*Math.PI/2,x=this.getDirection()===1?this.shadow.width:0,b=this.getDirection()===0?"to right":"to left",S=[{x:0,y:0},{x:_.pageWidth,y:0},{x:_.pageWidth,y:_.height},{x:0,y:_.height}];let O="polygon( ";for(const z of S)if(z!==null){let V=this.getDirection()===1?{x:-z.x+this.shadow.pos.x,y:z.y-this.shadow.pos.y}:{x:z.x-this.shadow.pos.x,y:z.y-this.shadow.pos.y};V=g.GetRotatedPoint(V,{x,y:100},I),O+=V.x+"px "+V.y+"px, "}O=O.slice(0,-2),O+=")";const N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*_.height}px;
            background: linear-gradient(${b}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${x}px 100px;
            transform: translate3d(${w.x-x}px, ${w.y-100}px, 0) rotate(${I}rad);
            clip-path: ${O};
            -webkit-clip-path: ${O};
        `;this.outerShadow.style.cssText=N}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const _=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(_))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const _ of this.app.getPageCollection().getPages())_!==this.leftPage&&_!==this.rightPage&&_!==this.flippingPage&&_!==this.bottomPage&&(_.getElement().style.cssText="display: none"),_.getTemporaryCopy()!==this.flippingPage&&_.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class ct{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(_){const w=this._default;if(Object.assign(w,_),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(G,_){_===void 0&&(_={});var w=_.insertAt;if(typeof document<"u"){var I=document.head||document.getElementsByTagName("head")[0],x=document.createElement("style");x.type="text/css",w==="top"&&I.firstChild?I.insertBefore(x,I.firstChild):I.appendChild(x),x.styleSheet?x.styleSheet.cssText=G:x.appendChild(document.createTextNode(G))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(G,_){return this.events.has(G)?this.events.get(G).push(_):this.events.set(G,[_]),this}off(G){this.events.delete(G)}trigger(G,_,w=null){if(this.events.has(G))for(const I of this.events.get(G))I({data:w,object:_})}}{constructor(G,_){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new ct().getSettings(_),this.block=G}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(G){this.ui=new Q(this.block,this,this.setting);const _=this.ui.getCanvas();this.render=new U(this,this.setting,_),this.flipController=new C(this.render,this),this.pages=new f(this,this.render,G),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(G){this.ui=new Y(this.block,this,this.setting,G),this.render=new $(this,this.setting,this.ui.getDistElement()),this.flipController=new C(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),G),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(G){const _=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new f(this,this.render,G),this.pages.load(),this.pages.show(_),this.trigger("update",this,{page:_,mode:this.render.getOrientation()})}updateFromHtml(G){const _=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),G),this.pages.load(),this.ui.updateItems(G),this.render.reload(),this.pages.show(_),this.trigger("update",this,{page:_,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(G){this.pages.show(G)}flipNext(G="top"){this.flipController.flipNext(G)}flipPrev(G="top"){this.flipController.flipPrev(G)}flip(G,_="top"){this.flipController.flipToPage(G,_)}updateState(G){this.trigger("changeState",this,G)}updatePageIndex(G){this.trigger("flip",this,G)}updateOrientation(G){this.ui.setOrientationStyle(G),this.update(),this.trigger("changeOrientation",this,G)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(G){return this.pages.getPage(G)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(G){this.mousePosition=G,this.isUserTouch=!0,this.isUserMove=!1}userMove(G,_){this.isUserTouch||_||!this.setting.showPageCorners?this.isUserTouch&&g.GetDistanceBetweenTwoPoint(this.mousePosition,G)>5&&(this.isUserMove=!0,this.flipController.fold(G)):this.flipController.showCorner(G)}userStop(G,_=!1){this.isUserTouch&&(this.isUserTouch=!1,_||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(G)))}},Object.defineProperty(n,"__esModule",{value:!0})})}(hl,hl.exports)),hl.exports}var kD=UD();const zD=Cs.forwardRef((r,t)=>{const n=tt.useRef(null),a=tt.useRef([]),o=tt.useRef(),[u,f]=tt.useState([]);tt.useImperativeHandle(t,()=>({pageFlip:()=>o.current}));const g=tt.useCallback(()=>{o.current&&o.current.clear()},[]),m=tt.useCallback(()=>{const p=o.current;p&&(p.off("flip"),p.off("changeOrientation"),p.off("changeState"),p.off("init"),p.off("update"))},[]);return tt.useEffect(()=>{if(a.current=[],r.children){const p=Cs.Children.map(r.children,E=>Cs.cloneElement(E,{ref:C=>{C&&a.current.push(C)}}));(!r.renderOnlyPageLengthChange||u.length!==p.length)&&(p.length<u.length&&g(),f(p))}},[r.children]),tt.useEffect(()=>{const p=()=>{const E=o.current;E&&(r.onFlip&&E.on("flip",C=>r.onFlip(C)),r.onChangeOrientation&&E.on("changeOrientation",C=>r.onChangeOrientation(C)),r.onChangeState&&E.on("changeState",C=>r.onChangeState(C)),r.onInit&&E.on("init",C=>r.onInit(C)),r.onUpdate&&E.on("update",C=>r.onUpdate(C)))};u.length>0&&a.current.length>0&&(m(),n.current&&!o.current&&(o.current=new kD.PageFlip(n.current,r)),o.current.getFlipController()?o.current.updateFromHtml(a.current):o.current.loadFromHTML(a.current),p())},[u]),Cs.createElement("div",{ref:n,className:r.className,style:r.style},u)}),BD=Cs.memo(zD);var Wd={},Jd={},tg={},O0;function jD(){return O0||(O0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];if(typeof window<"u"){var g;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(g=window).gtag.apply(g,u)}},n=t;r.default=n}(tg)),tg}var eg={},V0;function qD(){return V0||(V0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=f;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(g){return g.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(m,p,E){return p>0&&p+m.length!==E.length&&m.search(t)>-1&&E.charAt(p-2)!==":"&&(E.charAt(p+m.length)!=="-"||E.charAt(p-1)==="-")&&E.charAt(p-1).search(/[^\s-]/)<0?m.toLowerCase():m.substr(1).search(/[A-Z]|\../)>-1?m:m.charAt(0).toUpperCase()+m.substr(1)})}function a(g){return typeof g=="string"&&g.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function u(g){return a(g)?(console.warn("This arg looks like an email address, redacting."),o):g}function f(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,E=g||"";return m&&(E=n(g)),p&&(E=u(E)),E}}(eg)),eg}var M0;function HD(){return M0||(M0=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.GA4=void 0;var t=f(jD()),n=f(qD()),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],u=["page","hitType"];function f(at){return at&&at.__esModule?at:{default:at}}function g(at,X){if(at==null)return{};var L=m(at,X),q,nt;if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(at);for(nt=0;nt<ft.length;nt++)q=ft[nt],!(X.indexOf(q)>=0)&&Object.prototype.propertyIsEnumerable.call(at,q)&&(L[q]=at[q])}return L}function m(at,X){if(at==null)return{};var L={},q=Object.keys(at),nt,ft;for(ft=0;ft<q.length;ft++)nt=q[ft],!(X.indexOf(nt)>=0)&&(L[nt]=at[nt]);return L}function p(at){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},p(at)}function E(at){return U(at)||A(at)||ct(at)||C()}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(at){if(typeof Symbol<"u"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function U(at){if(Array.isArray(at))return G(at)}function k(at,X){var L=Object.keys(at);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(at);X&&(q=q.filter(function(nt){return Object.getOwnPropertyDescriptor(at,nt).enumerable})),L.push.apply(L,q)}return L}function Y(at){for(var X=1;X<arguments.length;X++){var L=arguments[X]!=null?arguments[X]:{};X%2?k(Object(L),!0).forEach(function(q){S(at,q,L[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(L)):k(Object(L)).forEach(function(q){Object.defineProperty(at,q,Object.getOwnPropertyDescriptor(L,q))})}return at}function Q(at,X){return w(at)||_(at,X)||ct(at,X)||$()}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(at,X){if(at){if(typeof at=="string")return G(at,X);var L=Object.prototype.toString.call(at).slice(8,-1);if(L==="Object"&&at.constructor&&(L=at.constructor.name),L==="Map"||L==="Set")return Array.from(at);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return G(at,X)}}function G(at,X){(X==null||X>at.length)&&(X=at.length);for(var L=0,q=new Array(X);L<X;L++)q[L]=at[L];return q}function _(at,X){var L=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(L!=null){var q,nt,ft,P,et=[],ht=!0,ut=!1;try{if(ft=(L=L.call(at)).next,X!==0)for(;!(ht=(q=ft.call(L)).done)&&(et.push(q.value),et.length!==X);ht=!0);}catch(pt){ut=!0,nt=pt}finally{try{if(!ht&&L.return!=null&&(P=L.return(),Object(P)!==P))return}finally{if(ut)throw nt}}return et}}function w(at){if(Array.isArray(at))return at}function I(at,X){if(!(at instanceof X))throw new TypeError("Cannot call a class as a function")}function x(at,X){for(var L=0;L<X.length;L++){var q=X[L];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(at,O(q.key),q)}}function b(at,X,L){return X&&x(at.prototype,X),Object.defineProperty(at,"prototype",{writable:!1}),at}function S(at,X,L){return X=O(X),X in at?Object.defineProperty(at,X,{value:L,enumerable:!0,configurable:!0,writable:!0}):at[X]=L,at}function O(at){var X=N(at,"string");return p(X)==="symbol"?X:String(X)}function N(at,X){if(p(at)!=="object"||at===null)return at;var L=at[Symbol.toPrimitive];if(L!==void 0){var q=L.call(at,X);if(p(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(at)}var z=function(){function at(){var X=this;I(this,at),S(this,"reset",function(){X.isInitialized=!1,X._testMode=!1,X._currentMeasurementId,X._hasLoadedGA=!1,X._isQueuing=!1,X._queueGtag=[]}),S(this,"_gtag",function(){for(var L=arguments.length,q=new Array(L),nt=0;nt<L;nt++)q[nt]=arguments[nt];X._testMode||X._isQueuing?X._queueGtag.push(q):t.default.apply(void 0,q)}),S(this,"_loadGA",function(L,q){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!X._hasLoadedGA){var ft=document.createElement("script");ft.async=!0,ft.src="".concat(nt,"?id=").concat(L),q&&ft.setAttribute("nonce",q),document.body.appendChild(ft),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},X._hasLoadedGA=!0}}),S(this,"_toGtagOptions",function(L){if(L){var q={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},nt=Object.entries(L).reduce(function(ft,P){var et=Q(P,2),ht=et[0],ut=et[1];return q[ht]?ft[q[ht]]=ut:ft[ht]=ut,ft},{});return nt}}),S(this,"initialize",function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!L)throw new Error("Require GA_MEASUREMENT_ID");var nt=typeof L=="string"?[{trackingId:L}]:L;X._currentMeasurementId=nt[0].trackingId;var ft=q.gaOptions,P=q.gtagOptions,et=q.nonce,ht=q.testMode,ut=ht===void 0?!1:ht,pt=q.gtagUrl;if(X._testMode=ut,ut||X._loadGA(X._currentMeasurementId,et,pt),X.isInitialized||(X._gtag("js",new Date),nt.forEach(function(re){var Ft=Y(Y(Y({},X._toGtagOptions(Y(Y({},ft),re.gaOptions))),P),re.gtagOptions);Object.keys(Ft).length?X._gtag("config",re.trackingId,Ft):X._gtag("config",re.trackingId)})),X.isInitialized=!0,!ut){var xt=E(X._queueGtag);for(X._queueGtag=[],X._isQueuing=!1;xt.length;){var St=xt.shift();X._gtag.apply(X,E(St)),St[0]==="get"&&(X._isQueuing=!0)}}}),S(this,"set",function(L){if(!L){console.warn("`fieldsObject` is required in .set()");return}if(p(L)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(L).length===0&&console.warn("empty `fieldsObject` given to .set()"),X._gaCommand("set",L)}),S(this,"_gaCommandSendEvent",function(L,q,nt,ft,P){X._gtag("event",q,Y(Y({event_category:L,event_label:nt,value:ft},P&&{non_interaction:P.nonInteraction}),X._toGtagOptions(P)))}),S(this,"_gaCommandSendEventParameters",function(){for(var L=arguments.length,q=new Array(L),nt=0;nt<L;nt++)q[nt]=arguments[nt];if(typeof q[0]=="string")X._gaCommandSendEvent.apply(X,E(q.slice(1)));else{var ft=q[0],P=ft.eventCategory,et=ft.eventAction,ht=ft.eventLabel,ut=ft.eventValue;ft.hitType;var pt=g(ft,a);X._gaCommandSendEvent(P,et,ht,ut,pt)}}),S(this,"_gaCommandSendTiming",function(L,q,nt,ft){X._gtag("event","timing_complete",{name:q,value:nt,event_category:L,event_label:ft})}),S(this,"_gaCommandSendPageview",function(L,q){if(q&&Object.keys(q).length){var nt=X._toGtagOptions(q),ft=nt.title,P=nt.location,et=g(nt,o);X._gtag("event","page_view",Y(Y(Y(Y({},L&&{page_path:L}),ft&&{page_title:ft}),P&&{page_location:P}),et))}else L?X._gtag("event","page_view",{page_path:L}):X._gtag("event","page_view")}),S(this,"_gaCommandSendPageviewParameters",function(){for(var L=arguments.length,q=new Array(L),nt=0;nt<L;nt++)q[nt]=arguments[nt];if(typeof q[0]=="string")X._gaCommandSendPageview.apply(X,E(q.slice(1)));else{var ft=q[0],P=ft.page;ft.hitType;var et=g(ft,u);X._gaCommandSendPageview(P,et)}}),S(this,"_gaCommandSend",function(){for(var L=arguments.length,q=new Array(L),nt=0;nt<L;nt++)q[nt]=arguments[nt];var ft=typeof q[0]=="string"?q[0]:q[0].hitType;switch(ft){case"event":X._gaCommandSendEventParameters.apply(X,q);break;case"pageview":X._gaCommandSendPageviewParameters.apply(X,q);break;case"timing":X._gaCommandSendTiming.apply(X,E(q.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(ft));break;default:console.warn("Send command doesn't exist: ".concat(ft))}}),S(this,"_gaCommandSet",function(){for(var L=arguments.length,q=new Array(L),nt=0;nt<L;nt++)q[nt]=arguments[nt];typeof q[0]=="string"&&(q[0]=S({},q[0],q[1])),X._gtag("set",X._toGtagOptions(q[0]))}),S(this,"_gaCommand",function(L){for(var q=arguments.length,nt=new Array(q>1?q-1:0),ft=1;ft<q;ft++)nt[ft-1]=arguments[ft];switch(L){case"send":X._gaCommandSend.apply(X,nt);break;case"set":X._gaCommandSet.apply(X,nt);break;default:console.warn("Command doesn't exist: ".concat(L))}}),S(this,"ga",function(){for(var L=arguments.length,q=new Array(L),nt=0;nt<L;nt++)q[nt]=arguments[nt];if(typeof q[0]=="string")X._gaCommand.apply(X,q);else{var ft=q[0];X._gtag("get",X._currentMeasurementId,"client_id",function(P){X._isQueuing=!1;var et=X._queueGtag;for(ft({get:function(pt){return pt==="clientId"?P:pt==="trackingId"?X._currentMeasurementId:pt==="apiVersion"?"1":void 0}});et.length;){var ht=et.shift();X._gtag.apply(X,E(ht))}}),X._isQueuing=!0}return X.ga}),S(this,"event",function(L,q){if(typeof L=="string")X._gtag("event",L,X._toGtagOptions(q));else{var nt=L.action,ft=L.category,P=L.label,et=L.value,ht=L.nonInteraction,ut=L.transport;if(!ft||!nt){console.warn("args.category AND args.action are required in event()");return}var pt={hitType:"event",eventCategory:(0,n.default)(ft),eventAction:(0,n.default)(nt)};P&&(pt.eventLabel=(0,n.default)(P)),typeof et<"u"&&(typeof et!="number"?console.warn("Expected `args.value` arg to be a Number."):pt.eventValue=et),typeof ht<"u"&&(typeof ht!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):pt.nonInteraction=ht),typeof ut<"u"&&(typeof ut!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(ut)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),pt.transport=ut)),X._gaCommand("send",pt)}}),S(this,"send",function(L){X._gaCommand("send",L)}),this.reset()}return b(at,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),at}();r.GA4=z;var V=new z;r.default=V}(Jd)),Jd}var N0;function GD(){return N0||(N0=1,function(r){function t(g){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(g)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ReactGAImplementation=void 0;var n=o(HD());function a(g){if(typeof WeakMap!="function")return null;var m=new WeakMap,p=new WeakMap;return(a=function(C){return C?p:m})(g)}function o(g,m){if(g&&g.__esModule)return g;if(g===null||t(g)!=="object"&&typeof g!="function")return{default:g};var p=a(m);if(p&&p.has(g))return p.get(g);var E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in g)if(A!=="default"&&Object.prototype.hasOwnProperty.call(g,A)){var U=C?Object.getOwnPropertyDescriptor(g,A):null;U&&(U.get||U.set)?Object.defineProperty(E,A,U):E[A]=g[A]}return E.default=g,p&&p.set(g,E),E}var u=n.GA4;r.ReactGAImplementation=u;var f=n.default;r.default=f}(Wd)),Wd}var FD=GD();const QD=Ng(FD),YD=tt.forwardRef(({image:r,pageNum:t},n)=>gt.jsxs("div",{className:"album-page",ref:n,children:[gt.jsx("img",{src:r.url,alt:r.caption,className:"img-fluid"}),gt.jsxs("div",{className:"page-number",children:["Page ",t]})]}));function KD({albumId:r}){const t=jg(),n=si(g=>g.albums.status),a=si(g=>g.albums.error),o=tt.useRef(null),u=si(g=>g.albums.list.find(m=>m.id===r));tt.useEffect(()=>{n==="idle"&&t(Os())},[n,t]),tt.useEffect(()=>{n==="succeeded"&&u&&(QD.event({category:"Album",action:"Flipbook Album Viewed",label:`Album Title: ${u.title}`}),console.log(`GA Event: Flipbook Album Viewed for ${u.title}`),t(th()))},[n,u,t]);let f=null;return n==="loading"?f=gt.jsx("p",{className:"text-center p-5 text-white",children:"Loading album..."}):n==="failed"?f=gt.jsxs("p",{className:"text-danger text-center p-5",children:["Error: ",a]}):n==="succeeded"&&(u?f=gt.jsxs("div",{className:"album-flipbook-card  text-white p-4 rounded shadow",children:[gt.jsx("div",{className:"flipbook-wrapper",children:gt.jsx(BD,{width:400,height:490,size:"stretch",minWidth:300,maxWidth:750,minHeight:420,maxHeight:1200,maxShadowOpacity:.5,showCover:!0,flippingTime:800,disableFlipByClick:!0,ref:o,children:u.photos.map((g,m)=>gt.jsx(YD,{image:g,pageNum:m+1},g.id||m))})}),gt.jsxs("div",{className:"flipbook-navigation d-flex justify-content-center mt-3",children:[gt.jsx("button",{onClick:()=>{var g,m;return(m=(g=o.current)==null?void 0:g.pageFlip())==null?void 0:m.flipPrev()},className:"button",children:"Previous Page"}),gt.jsx("button",{onClick:()=>{var g,m;return(m=(g=o.current)==null?void 0:g.pageFlip())==null?void 0:m.flipNext()},className:"button",children:"Next Page"})]})]}):f=gt.jsxs("p",{className:"text-center p-5 text-white",children:['Album with ID "',r,'" not found.']})),gt.jsx(gt.Fragment,{children:f})}const XD=tt.forwardRef(({albumId:r},t)=>{const[n,a]=tt.useState(""),o=jg(),u=si(A=>A.albums.status),f=si(A=>A.albums.list.find(U=>U.id===r)),g=(f==null?void 0:f.comments)||[],m=si(A=>A.globalStats.totalLikes);si(A=>A.globalStats.totalComments),tt.useEffect(()=>{u==="idle"&&o(Os())},[u,o]);const p=()=>{n.trim()&&(o(Mg({albumId:r,text:n})),a(""),console.log(`GA Event: Comment Added for Album ${r}`))},E=()=>{o(Vg()),console.log(`GA Event: Global Like Toggled from Comments for Album ${r}`)},C=()=>{window.scrollTo({top:0,behavior:"smooth"})};return u==="loading"?gt.jsx("div",{id:"comments-section-id",ref:t,className:"comments-section-container text-center py-5",children:gt.jsx("p",{children:"Loading comments..."})}):!f&&u==="succeeded"?gt.jsx("div",{id:"comments-section-id",ref:t,className:"comments-section-container text-center py-5",children:gt.jsx("p",{children:"Comments not available for this album."})}):gt.jsxs("div",{id:"comments-section-id",ref:t,className:"comments-section-container",children:[gt.jsxs("h3",{className:"comment-section-heading text-center mb-3",style:{fontFamily:"'Roboto', 'Arial', sans-serif"},children:["Album Comments (",g.length,")"]}),gt.jsx("div",{className:"container",children:gt.jsxs("div",{className:"comment-input-container w-50 d-flex flex-column flex-md-row align-items-center justify-content-center mb-3",children:[gt.jsx("input",{type:"text",placeholder:"Add a comment...",value:n,onChange:A=>a(A.target.value),className:"comment-input mb-2 mb-md-0 me-md-2 flex-grow-1"}),gt.jsx("button",{onClick:p,className:"add-comment-btn mt-5",children:"Add Comment"})]})}),gt.jsx("ul",{className:"comments-list w-100",children:g.length>0?g.map((A,U)=>gt.jsx("li",{className:"comment-item",children:A.text},A.id||U)):gt.jsx("li",{className:"no-comments-message",children:"No comments yet. Be the first!"})}),gt.jsx("div",{className:"likes-container w-100 d-flex justify-content-center mt-3",children:gt.jsxs("button",{onClick:E,className:"like-btn",children:[gt.jsx("span",{role:"img","aria-label":"heart",children:"❤️"})," Like (",m,")"]})}),gt.jsx("div",{className:"text-center mt-4",children:gt.jsxs("button",{onClick:C,className:"btn btn-secondary btn-sm",children:["Back to Top ",gt.jsx("i",{className:"fa fa-arrow-up"})]})})]})});function $D(){const{albumId:r}=bb(),t=r||"wedding-album-flipbook";return gt.jsx("section",{className:"album-page-section py-4",children:gt.jsxs("div",{className:"container",children:[gt.jsx("div",{className:"row justify-content-center mb-4",children:gt.jsx("div",{className:"col-12 text-center",children:gt.jsx("h1",{className:"main-album-title text-white",children:"Wedding Album"})})}),gt.jsx("div",{className:"row justify-content-center mb-5",children:gt.jsx("div",{className:"col-12 col-md-8 col-lg-6 text-center",children:gt.jsx("p",{className:"main-album-description text-white mt-5",children:"A Beautiful Collection of Memories."})})}),gt.jsx("div",{className:"row justify-content-center mb-5",children:gt.jsx("div",{className:"col-12 col-md-10 col-lg-10",children:gt.jsx(KD,{albumId:t})})}),gt.jsx("div",{className:"my-5"}),gt.jsx("div",{className:"row justify-content-center mb-5",children:gt.jsx("div",{className:"col-12 col-md-10 col-lg-10",children:gt.jsx(XD,{albumId:t})})})]})})}function ZD(){const r=jg();return tt.useEffect(()=>{r(Os()),r(Ic()),r(th())},[r]),gt.jsxs("div",{className:"App",children:[gt.jsx(PD,{}),gt.jsxs("div",{className:"content-wrap",children:[" ",gt.jsx($D,{})]})]})}const WD=F1.createRoot(document.getElementById("root"));WD.render(gt.jsx(Cs.StrictMode,{children:gt.jsxs(OS,{store:ND,children:[" ",gt.jsxs(oS,{basename:"/wedding-album/",children:[" ",gt.jsx(ZD,{})," "]})]})}));
